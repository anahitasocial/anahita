/*! anahita 20-06-2020 */

!function(e,t,i){"use strict";e.widget("anahita.invitesFacebook",{options:{appId:0,subject:"Message Subject",body:"Message Body",appURL:"http://",picture:""},_create:function(){var i=this;FB.init({appId:this.options.appId,xfbml:!0}),this._on({'click [data-trigger="Invite"]':function(t){t.preventDefault(),e.ajax({method:"get",headers:{accept:"application/json"},url:"index.php/invites/token/facebook",success:function(t){i._openDialog(t.value)}})}})},_openDialog:function(i){var t=this.options.appURL;t+="?invitetoken="+i,FB.ui({display:"iframe",method:"send",link:t,picture:this.options.picture,name:this.options.subject,description:this.options.body},function(t){t&&t.success&&e.ajax({method:"post",url:"index.php/invites/token/facebook",data:{value:i},complete:function(t,i){}})}.bind(this))}})}(jQuery,window,document);