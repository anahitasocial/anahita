/*! anahita 31-08-2020 */

!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(f,e){var t=[],u=t.slice,m=t.concat,a=t.push,o=t.indexOf,i={},n=i.toString,g=i.hasOwnProperty,v={},y=f.document,s="2.1.1",C=function(e,t){return new C.fn.init(e,t)},r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,l=/^-ms-/,c=/-([\da-z])/gi,d=function(e,t){return t.toUpperCase()};function h(e){var t=e.length,i=C.type(e);return"function"!==i&&!C.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||0===t||"number"==typeof t&&0<t&&t-1 in e))}C.fn=C.prototype={jquery:s,constructor:C,selector:"",length:0,toArray:function(){return u.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:u.call(this)},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return C.each(this,e,t)},map:function(i){return this.pushStack(C.map(this,function(e,t){return i.call(e,t,e)}))},slice:function(){return this.pushStack(u.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:a,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,i,n,o,s,r=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof r&&(c=r,r=arguments[a]||{},a++),"object"==typeof r||C.isFunction(r)||(r={}),a===l&&(r=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=r[t],r!==(n=e[t])&&(c&&n&&(C.isPlainObject(n)||(o=C.isArray(n)))?(o?(o=!1,s=i&&C.isArray(i)?i:[]):s=i&&C.isPlainObject(i)?i:{},r[t]=C.extend(c,s,n)):void 0!==n&&(r[t]=n));return r},C.extend({expando:"jQuery"+(s+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===C.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!C.isArray(e)&&0<=e-parseFloat(e)},isPlainObject:function(e){return"object"===C.type(e)&&!e.nodeType&&!C.isWindow(e)&&!(e.constructor&&!g.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?i[n.call(e)]||"object":typeof e},globalEval:function(e){var t,i=eval;(e=C.trim(e))&&(1===e.indexOf("use strict")?((t=y.createElement("script")).text=e,y.head.appendChild(t).parentNode.removeChild(t)):i(e))},camelCase:function(e){return e.replace(l,"ms-").replace(c,d)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,o=e.length,s=h(e);if(i){if(s)for(;n<o&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(s)for(;n<o&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(r,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(h(Object(e))?C.merge(i,"string"==typeof e?[e]:e):a.call(i,e)),i},inArray:function(e,t,i){return null==t?-1:o.call(t,e,i)},merge:function(e,t){for(var i=+t.length,n=0,o=e.length;n<i;n++)e[o++]=t[n];return e.length=o,e},grep:function(e,t,i){for(var n=[],o=0,s=e.length,r=!i;o<s;o++)!t(e[o],o)!==r&&n.push(e[o]);return n},map:function(e,t,i){var n,o=0,s=e.length,r=[];if(h(e))for(;o<s;o++)null!=(n=t(e[o],o,i))&&r.push(n);else for(o in e)null!=(n=t(e[o],o,i))&&r.push(n);return m.apply([],r)},guid:1,proxy:function(e,t){var i,n,o;if("string"==typeof t&&(i=e[t],t=e,e=i),C.isFunction(e))return n=u.call(arguments,2),(o=function(){return e.apply(t||this,n.concat(u.call(arguments)))}).guid=e.guid=e.guid||C.guid++,o},now:Date.now,support:v}),C.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){i["[object "+t+"]"]=t.toLowerCase()});var p=function(i){var e,f,w,s,n,m,d,g,k,c,u,v,x,o,y,b,r,a,C,T="sizzle"+-new Date,E=i.document,S=0,h=0,l=oe(),p=oe(),A=oe(),_=function(e,t){return e===t&&(u=!0),0},P="undefined",N={}.hasOwnProperty,t=[],L=t.pop,D=t.push,M=t.push,I=t.slice,F=t.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},j="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",O="[\\x20\\t\\r\\n\\f]",H="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",q=H.replace("w","w#"),$="\\["+O+"*("+H+")(?:"+O+"*([*^$|!~]?=)"+O+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+q+"))|)"+O+"*\\]",R=":("+H+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+$+")*)|.*)\\)|)",W=new RegExp("^"+O+"+|((?:^|[^\\\\])(?:\\\\.)*)"+O+"+$","g"),B=new RegExp("^"+O+"*,"+O+"*"),z=new RegExp("^"+O+"*([>+~]|"+O+")"+O+"*"),U=new RegExp("="+O+"*([^\\]'\"]*?)"+O+"*\\]","g"),V=new RegExp(R),Q=new RegExp("^"+q+"$"),X={ID:new RegExp("^#("+H+")"),CLASS:new RegExp("^\\.("+H+")"),TAG:new RegExp("^("+H.replace("w","w*")+")"),ATTR:new RegExp("^"+$),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+O+"*(even|odd|(([+-]|)(\\d*)n|)"+O+"*(?:([+-]|)"+O+"*(\\d+)|))"+O+"*\\)|)","i"),bool:new RegExp("^(?:"+j+")$","i"),needsContext:new RegExp("^"+O+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+O+"*((?:-\\d)?\\d*)"+O+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+O+"?|("+O+")|.)","ig"),ie=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)};try{M.apply(t=I.call(E.childNodes),E.childNodes),t[E.childNodes.length].nodeType}catch(e){M={apply:t.length?function(e,t){D.apply(e,I.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}function ne(e,t,i,n){var o,s,r,a,l,c,u,d,h,p;if((t?t.ownerDocument||t:E)!==x&&v(t),i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=(t=t||x).nodeType)&&9!==a)return[];if(y&&!n){if(o=J.exec(e))if(r=o[1]){if(9===a){if(!(s=t.getElementById(r))||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&C(t,s)&&s.id===r)return i.push(s),i}else{if(o[2])return M.apply(i,t.getElementsByTagName(e)),i;if((r=o[3])&&f.getElementsByClassName&&t.getElementsByClassName)return M.apply(i,t.getElementsByClassName(r)),i}if(f.qsa&&(!b||!b.test(e))){if(d=u=T,h=t,p=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=m(e),(u=t.getAttribute("id"))?d=u.replace(ee,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+fe(c[l]);h=Z.test(e)&&he(t.parentNode)||t,p=c.join(",")}if(p)try{return M.apply(i,h.querySelectorAll(p)),i}catch(e){}finally{u||t.removeAttribute("id")}}}return g(e.replace(W,"$1"),t,i,n)}function oe(){var n=[];return function e(t,i){return n.push(t+" ")>w.cacheLength&&delete e[n.shift()],e[t+" "]=i}}function se(e){return e[T]=!0,e}function re(e){var t=x.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ae(e,t){for(var i=e.split("|"),n=e.length;n--;)w.attrHandle[i[n]]=t}function le(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function ce(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ue(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function de(r){return se(function(s){return s=+s,se(function(e,t){for(var i,n=r([],e.length,s),o=n.length;o--;)e[i=n[o]]&&(e[i]=!(t[i]=e[i]))})})}function he(e){return e&&typeof e.getElementsByTagName!==P&&e}for(e in f=ne.support={},n=ne.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},v=ne.setDocument=function(e){var t,l=e?e.ownerDocument||e:E,i=l.defaultView;return l!==x&&9===l.nodeType&&l.documentElement?(o=(x=l).documentElement,y=!n(l),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){v()},!1):i.attachEvent&&i.attachEvent("onunload",function(){v()})),f.attributes=re(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=re(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=K.test(l.getElementsByClassName)&&re(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),f.getById=re(function(e){return o.appendChild(e).id=T,!l.getElementsByName||!l.getElementsByName(T).length}),f.getById?(w.find.ID=function(e,t){if(typeof t.getElementById!==P&&y){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},w.filter.ID=function(e){var t=e.replace(te,ie);return function(e){return e.getAttribute("id")===t}}):(delete w.find.ID,w.filter.ID=function(e){var i=e.replace(te,ie);return function(e){var t=typeof e.getAttributeNode!==P&&e.getAttributeNode("id");return t&&t.value===i}}),w.find.TAG=f.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==P)return t.getElementsByTagName(e)}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},w.find.CLASS=f.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==P&&y)return t.getElementsByClassName(e)},r=[],b=[],(f.qsa=K.test(l.querySelectorAll))&&(re(function(e){e.innerHTML="<select msallowclip=''><option selected=''></option></select>",e.querySelectorAll("[msallowclip^='']").length&&b.push("[*^$]="+O+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||b.push("\\["+O+"*(?:value|"+j+")"),e.querySelectorAll(":checked").length||b.push(":checked")}),re(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&b.push("name"+O+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||b.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),b.push(",.*:")})),(f.matchesSelector=K.test(a=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&re(function(e){f.disconnectedMatch=a.call(e,"div"),a.call(e,"[s!='']:x"),r.push("!=",R)}),b=b.length&&new RegExp(b.join("|")),r=r.length&&new RegExp(r.join("|")),t=K.test(o.compareDocumentPosition),C=t||K.test(o.contains)?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},_=t?function(e,t){if(e===t)return u=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===i?e===l||e.ownerDocument===E&&C(E,e)?-1:t===l||t.ownerDocument===E&&C(E,t)?1:c?F.call(c,e)-F.call(c,t):0:4&i?-1:1)}:function(e,t){if(e===t)return u=!0,0;var i,n=0,o=e.parentNode,s=t.parentNode,r=[e],a=[t];if(!o||!s)return e===l?-1:t===l?1:o?-1:s?1:c?F.call(c,e)-F.call(c,t):0;if(o===s)return le(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;r[n]===a[n];)n++;return n?le(r[n],a[n]):r[n]===E?-1:a[n]===E?1:0},l):x},ne.matches=function(e,t){return ne(e,null,null,t)},ne.matchesSelector=function(e,t){if((e.ownerDocument||e)!==x&&v(e),t=t.replace(U,"='$1']"),f.matchesSelector&&y&&(!r||!r.test(t))&&(!b||!b.test(t)))try{var i=a.call(e,t);if(i||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return 0<ne(t,x,null,[e]).length},ne.contains=function(e,t){return(e.ownerDocument||e)!==x&&v(e),C(e,t)},ne.attr=function(e,t){(e.ownerDocument||e)!==x&&v(e);var i=w.attrHandle[t.toLowerCase()],n=i&&N.call(w.attrHandle,t.toLowerCase())?i(e,t,!y):void 0;return void 0!==n?n:f.attributes||!y?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},ne.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ne.uniqueSort=function(e){var t,i=[],n=0,o=0;if(u=!f.detectDuplicates,c=!f.sortStable&&e.slice(0),e.sort(_),u){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return c=null,e},s=ne.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=s(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n++];)i+=s(t);return i},(w=ne.selectors={cacheLength:50,createPseudo:se,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ie),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ie),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ne.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ne.error(e[0]),e},PSEUDO:function(e){var t,i=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":i&&V.test(i)&&(t=m(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ie).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=l[e+" "];return t||(t=new RegExp("(^|"+O+")"+e+"("+O+"|$)"))&&l(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==P&&e.getAttribute("class")||"")})},ATTR:function(i,n,o){return function(e){var t=ne.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===o:"!="===n?t!==o:"^="===n?o&&0===t.indexOf(o):"*="===n?o&&-1<t.indexOf(o):"$="===n?o&&t.slice(-o.length)===o:"~="===n?-1<(" "+t+" ").indexOf(o):"|="===n&&(t===o||t.slice(0,o.length+1)===o+"-"))}},CHILD:function(p,e,t,f,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,o,s,r,a,l,c=g!==v?"nextSibling":"previousSibling",u=e.parentNode,d=y&&e.nodeName.toLowerCase(),h=!i&&!y;if(u){if(g){for(;c;){for(s=e;s=s[c];)if(y?s.nodeName.toLowerCase()===d:1===s.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&h){for(a=(n=(o=u[T]||(u[T]={}))[p]||[])[0]===S&&n[1],r=n[0]===S&&n[2],s=a&&u.childNodes[a];s=++a&&s&&s[c]||(r=a=0)||l.pop();)if(1===s.nodeType&&++r&&s===e){o[p]=[S,a,r];break}}else if(h&&(n=(e[T]||(e[T]={}))[p])&&n[0]===S)r=n[1];else for(;(s=++a&&s&&s[c]||(r=a=0)||l.pop())&&((y?s.nodeName.toLowerCase()!==d:1!==s.nodeType)||!++r||(h&&((s[T]||(s[T]={}))[p]=[S,r]),s!==e)););return(r-=m)===f||r%f==0&&0<=r/f}}},PSEUDO:function(e,s){var t,r=w.pseudos[e]||w.setFilters[e.toLowerCase()]||ne.error("unsupported pseudo: "+e);return r[T]?r(s):1<r.length?(t=[e,e,"",s],w.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,t){for(var i,n=r(e,s),o=n.length;o--;)e[i=F.call(e,n[o])]=!(t[i]=n[o])}):function(e){return r(e,0,t)}):r}},pseudos:{not:se(function(e){var n=[],o=[],a=d(e.replace(W,"$1"));return a[T]?se(function(e,t,i,n){for(var o,s=a(e,null,n,[]),r=e.length;r--;)(o=s[r])&&(e[r]=!(t[r]=o))}):function(e,t,i){return n[0]=e,a(n,null,i,o),!o.pop()}}),has:se(function(t){return function(e){return 0<ne(t,e).length}}),contains:se(function(t){return function(e){return-1<(e.textContent||e.innerText||s(e)).indexOf(t)}}),lang:se(function(i){return Q.test(i||"")||ne.error("unsupported lang: "+i),i=i.replace(te,ie).toLowerCase(),function(e){var t;do{if(t=y?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===o},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return G.test(e.nodeName)},input:function(e){return Y.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:de(function(){return[0]}),last:de(function(e,t){return[t-1]}),eq:de(function(e,t,i){return[i<0?i+t:i]}),even:de(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:de(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:de(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:de(function(e,t,i){for(var n=i<0?i+t:i;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ce(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=ue(e);function pe(){}function fe(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function me(r,e,t){var a=e.dir,l=t&&"parentNode"===a,c=h++;return e.first?function(e,t,i){for(;e=e[a];)if(1===e.nodeType||l)return r(e,t,i)}:function(e,t,i){var n,o,s=[S,c];if(i){for(;e=e[a];)if((1===e.nodeType||l)&&r(e,t,i))return!0}else for(;e=e[a];)if(1===e.nodeType||l){if((n=(o=e[T]||(e[T]={}))[a])&&n[0]===S&&n[1]===c)return s[2]=n[2];if((o[a]=s)[2]=r(e,t,i))return!0}}}function ge(o){return 1<o.length?function(e,t,i){for(var n=o.length;n--;)if(!o[n](e,t,i))return!1;return!0}:o[0]}function ve(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(s=e[a])&&(i&&!i(s,n,o)||(r.push(s),c&&t.push(a)));return r}function ye(p,f,m,g,v,e){return g&&!g[T]&&(g=ye(g)),v&&!v[T]&&(v=ye(v,e)),se(function(e,t,i,n){var o,s,r,a=[],l=[],c=t.length,u=e||function(e,t,i){for(var n=0,o=t.length;n<o;n++)ne(e,t[n],i);return i}(f||"*",i.nodeType?[i]:i,[]),d=!p||!e&&f?u:ve(u,a,p,i,n),h=m?v||(e?p:c||g)?[]:t:d;if(m&&m(d,h,i,n),g)for(o=ve(h,l),g(o,[],i,n),s=o.length;s--;)(r=o[s])&&(h[l[s]]=!(d[l[s]]=r));if(e){if(v||p){if(v){for(o=[],s=h.length;s--;)(r=h[s])&&o.push(d[s]=r);v(null,h=[],o,n)}for(s=h.length;s--;)(r=h[s])&&-1<(o=v?F.call(e,r):a[s])&&(e[o]=!(t[o]=r))}}else h=ve(h===t?h.splice(c,h.length):h),v?v(null,t,h,n):M.apply(t,h)})}function be(e){for(var n,t,i,o=e.length,s=w.relative[e[0].type],r=s||w.relative[" "],a=s?1:0,l=me(function(e){return e===n},r,!0),c=me(function(e){return-1<F.call(n,e)},r,!0),u=[function(e,t,i){return!s&&(i||t!==k)||((n=t).nodeType?l(e,t,i):c(e,t,i))}];a<o;a++)if(t=w.relative[e[a].type])u=[me(ge(u),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[T]){for(i=++a;i<o&&!w.relative[e[i].type];i++);return ye(1<a&&ge(u),1<a&&fe(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(W,"$1"),t,a<i&&be(e.slice(a,i)),i<o&&be(e=e.slice(i)),i<o&&fe(e))}u.push(t)}return ge(u)}return pe.prototype=w.filters=w.pseudos,w.setFilters=new pe,m=ne.tokenize=function(e,t){var i,n,o,s,r,a,l,c=p[e+" "];if(c)return t?0:c.slice(0);for(r=e,a=[],l=w.preFilter;r;){for(s in i&&!(n=B.exec(r))||(n&&(r=r.slice(n[0].length)||r),a.push(o=[])),i=!1,(n=z.exec(r))&&(i=n.shift(),o.push({value:i,type:n[0].replace(W," ")}),r=r.slice(i.length)),w.filter)!(n=X[s].exec(r))||l[s]&&!(n=l[s](n))||(i=n.shift(),o.push({value:i,type:s,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?ne.error(e):p(e,a).slice(0)},d=ne.compile=function(e,t){var i,g,v,y,b,n,o=[],s=[],r=A[e+" "];if(!r){for(t||(t=m(e)),i=t.length;i--;)(r=be(t[i]))[T]?o.push(r):s.push(r);(r=A(e,(g=s,y=0<(v=o).length,b=0<g.length,n=function(e,t,i,n,o){var s,r,a,l=0,c="0",u=e&&[],d=[],h=k,p=e||b&&w.find.TAG("*",o),f=S+=null==h?1:Math.random()||.1,m=p.length;for(o&&(k=t!==x&&t);c!==m&&null!=(s=p[c]);c++){if(b&&s){for(r=0;a=g[r++];)if(a(s,t,i)){n.push(s);break}o&&(S=f)}y&&((s=!a&&s)&&l--,e&&u.push(s))}if(l+=c,y&&c!==l){for(r=0;a=v[r++];)a(u,d,t,i);if(e){if(0<l)for(;c--;)u[c]||d[c]||(d[c]=L.call(n));d=ve(d)}M.apply(n,d),o&&!e&&0<d.length&&1<l+v.length&&ne.uniqueSort(n)}return o&&(S=f,k=h),u},y?se(n):n))).selector=e}return r},g=ne.select=function(e,t,i,n){var o,s,r,a,l,c="function"==typeof e&&e,u=!n&&m(e=c.selector||e);if(i=i||[],1===u.length){if(2<(s=u[0]=u[0].slice(0)).length&&"ID"===(r=s[0]).type&&f.getById&&9===t.nodeType&&y&&w.relative[s[1].type]){if(!(t=(w.find.ID(r.matches[0].replace(te,ie),t)||[])[0]))return i;c&&(t=t.parentNode),e=e.slice(s.shift().value.length)}for(o=X.needsContext.test(e)?0:s.length;o--&&(r=s[o],!w.relative[a=r.type]);)if((l=w.find[a])&&(n=l(r.matches[0].replace(te,ie),Z.test(s[0].type)&&he(t.parentNode)||t))){if(s.splice(o,1),!(e=n.length&&fe(s)))return M.apply(i,n),i;break}}return(c||d(e,u))(n,t,!y,i,Z.test(e)&&he(t.parentNode)||t),i},f.sortStable=T.split("").sort(_).join("")===T,f.detectDuplicates=!!u,v(),f.sortDetached=re(function(e){return 1&e.compareDocumentPosition(x.createElement("div"))}),re(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ae("type|href|height|width",function(e,t,i){if(!i)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&re(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ae("value",function(e,t,i){if(!i&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),re(function(e){return null==e.getAttribute("disabled")})||ae(j,function(e,t,i){var n;if(!i)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),ne}(f);C.find=p,C.expr=p.selectors,C.expr[":"]=C.expr.pseudos,C.unique=p.uniqueSort,C.text=p.getText,C.isXMLDoc=p.isXML,C.contains=p.contains;var b=C.expr.match.needsContext,w=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^.[^:#\[\.,]*$/;function x(e,i,n){if(C.isFunction(i))return C.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return C.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(k.test(i))return C.filter(i,e,n);i=C.filter(i,e)}return C.grep(e,function(e){return 0<=o.call(i,e)!==n})}C.filter=function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?C.find.matchesSelector(n,e)?[n]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,i=this.length,n=[],o=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<i;t++)if(C.contains(o[t],this))return!0}));for(t=0;t<i;t++)C.find(e,o[t],n);return(n=this.pushStack(1<i?C.unique(n):n)).selector=this.selector?this.selector+" "+e:e,n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&b.test(e)?C(e):e||[],!1).length}});var T,E=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(C.fn.init=function(e,t){var i,n;if(!e)return this;if("string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:E.exec(e))||!i[1]&&t)return!t||t.jquery?(t||T).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:y,!0)),w.test(i[1])&&C.isPlainObject(t))for(i in t)C.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(n=y.getElementById(i[2]))&&n.parentNode&&(this.length=1,this[0]=n),this.context=y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):C.isFunction(e)?void 0!==T.ready?T.ready(e):e(C):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),C.makeArray(e,this))}).prototype=C.fn,T=C(y);var S=/^(?:parents|prev(?:Until|All))/,A={children:!0,contents:!0,next:!0,prev:!0};function _(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.extend({dir:function(e,t,i){for(var n=[],o=void 0!==i;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(o&&C(e).is(i))break;n.push(e)}return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}}),C.fn.extend({has:function(e){var t=C(e,this),i=t.length;return this.filter(function(){for(var e=0;e<i;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){for(var i,n=0,o=this.length,s=[],r=b.test(e)||"string"!=typeof e?C(e,t||this.context):0;n<o;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&C.find.matchesSelector(i,e))){s.push(i);break}return this.pushStack(1<s.length?C.unique(s):s)},index:function(e){return e?"string"==typeof e?o.call(C(e),this[0]):o.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.unique(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C.dir(e,"parentNode")},parentsUntil:function(e,t,i){return C.dir(e,"parentNode",i)},next:function(e){return _(e,"nextSibling")},prev:function(e){return _(e,"previousSibling")},nextAll:function(e){return C.dir(e,"nextSibling")},prevAll:function(e){return C.dir(e,"previousSibling")},nextUntil:function(e,t,i){return C.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return C.dir(e,"previousSibling",i)},siblings:function(e){return C.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return C.sibling(e.firstChild)},contents:function(e){return e.contentDocument||C.merge([],e.childNodes)}},function(n,o){C.fn[n]=function(e,t){var i=C.map(this,o,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=C.filter(t,i)),1<this.length&&(A[n]||C.unique(i),S.test(n)&&i.reverse()),this.pushStack(i)}});var P,N=/\S+/g,L={};function D(){y.removeEventListener("DOMContentLoaded",D,!1),f.removeEventListener("load",D,!1),C.ready()}C.Callbacks=function(o){var e,i;o="string"==typeof o?L[o]||(i=L[e=o]={},C.each(e.match(N)||[],function(e,t){i[t]=!0}),i):C.extend({},o);var t,n,s,r,a,l,c=[],u=!o.once&&[],d=function(e){for(t=o.memory&&e,n=!0,l=r||0,r=0,a=c.length,s=!0;c&&l<a;l++)if(!1===c[l].apply(e[0],e[1])&&o.stopOnFalse){t=!1;break}s=!1,c&&(u?u.length&&d(u.shift()):t?c=[]:h.disable())},h={add:function(){if(c){var e=c.length;!function n(e){C.each(e,function(e,t){var i=C.type(t);"function"===i?o.unique&&h.has(t)||c.push(t):t&&t.length&&"string"!==i&&n(t)})}(arguments),s?a=c.length:t&&(r=e,d(t))}return this},remove:function(){return c&&C.each(arguments,function(e,t){for(var i;-1<(i=C.inArray(t,c,i));)c.splice(i,1),s&&(i<=a&&a--,i<=l&&l--)}),this},has:function(e){return e?-1<C.inArray(e,c):!(!c||!c.length)},empty:function(){return c=[],a=0,this},disable:function(){return c=u=t=void 0,this},disabled:function(){return!c},lock:function(){return u=void 0,t||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],s?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},C.extend({Deferred:function(e){var s=[["resolve","done",C.Callbacks("once memory"),"resolved"],["reject","fail",C.Callbacks("once memory"),"rejected"],["notify","progress",C.Callbacks("memory")]],o="pending",r={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},then:function(){var o=arguments;return C.Deferred(function(n){C.each(s,function(e,t){var i=C.isFunction(o[e])&&o[e];a[t[1]](function(){var e=i&&i.apply(this,arguments);e&&C.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===r?n.promise():this,i?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?C.extend(e,r):r}},a={};return r.pipe=r.then,C.each(s,function(e,t){var i=t[2],n=t[3];r[t[1]]=i.add,n&&i.add(function(){o=n},s[1^e][2].disable,s[2][2].lock),a[t[0]]=function(){return a[t[0]+"With"](this===a?r:this,arguments),this},a[t[0]+"With"]=i.fireWith}),r.promise(a),e&&e.call(a,a),a},when:function(e){var o,t,i,n=0,s=u.call(arguments),r=s.length,a=1!==r||e&&C.isFunction(e.promise)?r:0,l=1===a?e:C.Deferred(),c=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?u.call(arguments):e,n===o?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(1<r)for(o=new Array(r),t=new Array(r),i=new Array(r);n<r;n++)s[n]&&C.isFunction(s[n].promise)?s[n].promise().done(c(n,i,s)).fail(l.reject).progress(c(n,t,o)):--a;return a||l.resolveWith(i,s),l.promise()}}),C.fn.ready=function(e){return C.ready.promise().done(e),this},C.extend({isReady:!1,readyWait:1,holdReady:function(e){e?C.readyWait++:C.ready(!0)},ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||(P.resolveWith(y,[C]),C.fn.triggerHandler&&(C(y).triggerHandler("ready"),C(y).off("ready")))}}),C.ready.promise=function(e){return P||(P=C.Deferred(),"complete"===y.readyState?setTimeout(C.ready):(y.addEventListener("DOMContentLoaded",D,!1),f.addEventListener("load",D,!1))),P.promise(e)},C.ready.promise();var M=C.access=function(e,t,i,n,o,s,r){var a=0,l=e.length,c=null==i;if("object"===C.type(i))for(a in o=!0,i)C.access(e,t,a,i[a],!0,s,r);else if(void 0!==n&&(o=!0,C.isFunction(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(C(e),i)})),t))for(;a<l;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return o?e:c?t.call(e):l?t(e[0],i):s};function I(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=C.expando+Math.random()}C.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},I.uid=1,I.accepts=C.acceptData,I.prototype={key:function(t){if(!I.accepts(t))return 0;var i={},n=t[this.expando];if(!n){n=I.uid++;try{i[this.expando]={value:n},Object.defineProperties(t,i)}catch(e){i[this.expando]=n,C.extend(t,i)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,i){var n,o=this.key(e),s=this.cache[o];if("string"==typeof t)s[t]=i;else if(C.isEmptyObject(s))C.extend(this.cache[o],t);else for(n in t)s[n]=t[n];return s},get:function(e,t){var i=this.cache[this.key(e)];return void 0===t?i:i[t]},access:function(e,t,i){var n;return void 0===t||t&&"string"==typeof t&&void 0===i?void 0!==(n=this.get(e,t))?n:this.get(e,C.camelCase(t)):(this.set(e,t,i),void 0!==i?i:t)},remove:function(e,t){var i,n,o,s=this.key(e),r=this.cache[s];if(void 0===t)this.cache[s]={};else{C.isArray(t)?n=t.concat(t.map(C.camelCase)):(o=C.camelCase(t),n=t in r?[t,o]:(n=o)in r?[n]:n.match(N)||[]),i=n.length;for(;i--;)delete r[n[i]]}},hasData:function(e){return!C.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var F=new I,j=new I,O=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,H=/([A-Z])/g;function q(e,t,i){var n;if(void 0===i&&1===e.nodeType)if(n="data-"+t.replace(H,"-$1").toLowerCase(),"string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:O.test(i)?C.parseJSON(i):i)}catch(e){}j.set(e,t,i)}else i=void 0;return i}C.extend({hasData:function(e){return j.hasData(e)||F.hasData(e)},data:function(e,t,i){return j.access(e,t,i)},removeData:function(e,t){j.remove(e,t)},_data:function(e,t,i){return F.access(e,t,i)},_removeData:function(e,t){F.remove(e,t)}}),C.fn.extend({data:function(n,e){var t,i,o,s=this[0],r=s&&s.attributes;if(void 0===n){if(this.length&&(o=j.get(s),1===s.nodeType&&!F.get(s,"hasDataAttrs"))){for(t=r.length;t--;)r[t]&&0===(i=r[t].name).indexOf("data-")&&(i=C.camelCase(i.slice(5)),q(s,i,o[i]));F.set(s,"hasDataAttrs",!0)}return o}return"object"==typeof n?this.each(function(){j.set(this,n)}):M(this,function(t){var e,i=C.camelCase(n);if(s&&void 0===t)return void 0!==(e=j.get(s,n))?e:void 0!==(e=j.get(s,i))?e:void 0!==(e=q(s,i,void 0))?e:void 0;this.each(function(){var e=j.get(this,i);j.set(this,i,t),-1!==n.indexOf("-")&&void 0!==e&&j.set(this,n,t)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){j.remove(this,e)})}}),C.extend({queue:function(e,t,i){var n;if(e)return t=(t||"fx")+"queue",n=F.get(e,t),i&&(!n||C.isArray(i)?n=F.access(e,t,C.makeArray(i)):n.push(i)),n||[]},dequeue:function(e,t){t=t||"fx";var i=C.queue(e,t),n=i.length,o=i.shift(),s=C._queueHooks(e,t);"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,function(){C.dequeue(e,t)},s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return F.get(e,i)||F.access(e,i,{empty:C.Callbacks("once memory").add(function(){F.remove(e,[t+"queue",i])})})}}),C.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===i?this:this.each(function(){var e=C.queue(this,t,i);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,o=C.Deferred(),s=this,r=this.length,a=function(){--n||o.resolveWith(s,[s])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";r--;)(i=F.get(s[r],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),o.promise(t)}});var $,R,W=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=["Top","Right","Bottom","Left"],z=function(e,t){return e=t||e,"none"===C.css(e,"display")||!C.contains(e.ownerDocument,e)},U=/^(?:checkbox|radio)$/i;$=y.createDocumentFragment().appendChild(y.createElement("div")),(R=y.createElement("input")).setAttribute("type","radio"),R.setAttribute("checked","checked"),R.setAttribute("name","t"),$.appendChild(R),v.checkClone=$.cloneNode(!0).cloneNode(!0).lastChild.checked,$.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!$.cloneNode(!0).lastChild.defaultValue;var V="undefined";v.focusinBubbles="onfocusin"in f;var Q=/^key/,X=/^(?:mouse|pointer|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,G=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function J(){return!1}function Z(){try{return y.activeElement}catch(e){}}C.event={global:{},add:function(t,e,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=F.get(t);if(g)for(i.handler&&(i=(s=i).handler,o=s.selector),i.guid||(i.guid=C.guid++),(l=g.events)||(l=g.events={}),(r=g.handle)||(r=g.handle=function(e){return typeof C!==V&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),c=(e=(e||"").match(N)||[""]).length;c--;)p=m=(a=G.exec(e[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=C.event.special[p]||{},p=(o?d.delegateType:d.bindType)||p,d=C.event.special[p]||{},u=C.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:f.join(".")},s),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(t,n,f,r)||t.addEventListener&&t.addEventListener(p,r,!1)),d.add&&(d.add.call(t,u),u.handler.guid||(u.handler.guid=i.guid)),o?h.splice(h.delegateCount++,0,u):h.push(u),C.event.global[p]=!0)},remove:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=F.hasData(e)&&F.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(N)||[""]).length;c--;)if(p=m=(a=G.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=C.event.special[p]||{},h=l[p=(n?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),r=s=h.length;s--;)u=h[s],!o&&m!==u.origType||i&&i.guid!==u.guid||a&&!a.test(u.namespace)||n&&n!==u.selector&&("**"!==n||!u.selector)||(h.splice(s,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));r&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||C.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)C.event.remove(e,p+t[c],i,n,!0);C.isEmptyObject(l)&&(delete g.handle,F.remove(e,"events"))}},trigger:function(e,t,i,n){var o,s,r,a,l,c,u,d=[i||y],h=g.call(e,"type")?e.type:e,p=g.call(e,"namespace")?e.namespace.split("."):[];if(s=r=i=i||y,3!==i.nodeType&&8!==i.nodeType&&!Y.test(h+C.event.triggered)&&(0<=h.indexOf(".")&&(h=(p=h.split(".")).shift(),p.sort()),l=h.indexOf(":")<0&&"on"+h,(e=e[C.expando]?e:new C.Event(h,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:C.makeArray(t,[e]),u=C.event.special[h]||{},n||!u.trigger||!1!==u.trigger.apply(i,t))){if(!n&&!u.noBubble&&!C.isWindow(i)){for(a=u.delegateType||h,Y.test(a+h)||(s=s.parentNode);s;s=s.parentNode)d.push(s),r=s;r===(i.ownerDocument||y)&&d.push(r.defaultView||r.parentWindow||f)}for(o=0;(s=d[o++])&&!e.isPropagationStopped();)e.type=1<o?a:u.bindType||h,(c=(F.get(s,"events")||{})[e.type]&&F.get(s,"handle"))&&c.apply(s,t),(c=l&&s[l])&&c.apply&&C.acceptData(s)&&(e.result=c.apply(s,t),!1===e.result&&e.preventDefault());return e.type=h,n||e.isDefaultPrevented()||u._default&&!1!==u._default.apply(d.pop(),t)||!C.acceptData(i)||l&&C.isFunction(i[h])&&!C.isWindow(i)&&((r=i[l])&&(i[l]=null),i[C.event.triggered=h](),C.event.triggered=void 0,r&&(i[l]=r)),e.result}},dispatch:function(e){e=C.event.fix(e);var t,i,n,o,s,r,a=u.call(arguments),l=(F.get(this,"events")||{})[e.type]||[],c=C.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=C.event.handlers.call(this,e,l),t=0;(o=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,i=0;(s=o.handlers[i++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(n=((C.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,a))&&!1===(e.result=n)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,o,s,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(n=[],i=0;i<a;i++)void 0===n[o=(s=t[i]).selector+" "]&&(n[o]=s.needsContext?0<=C(o,this).index(l):C.find(o,this,null,[l]).length),n[o]&&n.push(s);n.length&&r.push({elem:l,handlers:n})}return a<t.length&&r.push({elem:this,handlers:t.slice(a)}),r},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(n=(i=e.target.ownerDocument||y).documentElement,o=i.body,e.pageX=t.clientX+(n&&n.scrollLeft||o&&o.scrollLeft||0)-(n&&n.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||o&&o.scrollTop||0)-(n&&n.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[C.expando])return e;var t,i,n,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=X.test(o)?this.mouseHooks:Q.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new C.Event(s),t=n.length;t--;)e[i=n[t]]=s[i];return e.target||(e.target=y),3===e.target.nodeType&&(e.target=e.target.parentNode),r.filter?r.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Z()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Z()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&C.nodeName(this,"input"))return this.click(),!1},_default:function(e){return C.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=C.extend(new C.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?C.event.trigger(o,null,t):C.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},C.removeEvent=function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:J):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||C.now(),this[C.expando]=!0},C.Event.prototype={isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,o){C.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=e.relatedTarget,n=e.handleObj;return i&&(i===this||C.contains(this,i))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=o),t}}}),v.focusinBubbles||C.each({focus:"focusin",blur:"focusout"},function(i,n){var o=function(e){C.event.simulate(n,e.target,C.event.fix(e),!0)};C.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=F.access(e,n);t||e.addEventListener(i,o,!0),F.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=F.access(e,n)-1;t?F.access(e,n,t):(e.removeEventListener(i,o,!0),F.remove(e,n))}}}),C.fn.extend({on:function(e,t,i,n,o){var s,r;if("object"==typeof e){for(r in"string"!=typeof t&&(i=i||t,t=void 0),e)this.on(r,t,i,e[r],o);return this}if(null==i&&null==n?(n=t,i=t=void 0):null==n&&("string"==typeof t?(n=i,i=void 0):(n=i,i=t,t=void 0)),!1===n)n=J;else if(!n)return this;return 1===o&&(s=n,(n=function(e){return C().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),this.each(function(){C.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,o;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,C(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof e){for(o in e)this.off(o,t,e[o]);return this}return!1!==t&&"function"!=typeof t||(i=t,t=void 0),!1===i&&(i=J),this.each(function(){C.event.remove(this,e,i,t)})},trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];if(i)return C.event.trigger(e,t,i,!0)}});var ee=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,te=/<([\w:]+)/,ie=/<|&#?\w+;/,ne=/<(?:script|style|link)/i,oe=/checked\s*(?:[^=]|=\s*.checked.)/i,se=/^$|\/(?:java|ecma)script/i,re=/^true\/(.*)/,ae=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,le={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ce(e,t){return C.nodeName(e,"table")&&C.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function de(e){var t=re.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var i=0,n=e.length;i<n;i++)F.set(e[i],"globalEval",!t||F.get(t[i],"globalEval"))}function pe(e,t){var i,n,o,s,r,a,l,c;if(1===t.nodeType){if(F.hasData(e)&&(s=F.access(e),r=F.set(t,s),c=s.events))for(o in delete r.handle,r.events={},c)for(i=0,n=c[o].length;i<n;i++)C.event.add(t,o,c[o][i]);j.hasData(e)&&(a=j.access(e),l=C.extend({},a),j.set(t,l))}}function fe(e,t){var i=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&C.nodeName(e,t)?C.merge([e],i):i}le.optgroup=le.option,le.tbody=le.tfoot=le.colgroup=le.caption=le.thead,le.th=le.td,C.extend({clone:function(e,t,i){var n,o,s,r,a,l,c,u=e.cloneNode(!0),d=C.contains(e.ownerDocument,e);if(!(v.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(r=fe(u),n=0,o=(s=fe(e)).length;n<o;n++)a=s[n],l=r[n],void 0,"input"===(c=l.nodeName.toLowerCase())&&U.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(i)for(s=s||fe(e),r=r||fe(u),n=0,o=s.length;n<o;n++)pe(s[n],r[n]);else pe(e,u);return 0<(r=fe(u,"script")).length&&he(r,!d&&fe(e,"script")),u},buildFragment:function(e,t,i,n){for(var o,s,r,a,l,c,u=t.createDocumentFragment(),d=[],h=0,p=e.length;h<p;h++)if((o=e[h])||0===o)if("object"===C.type(o))C.merge(d,o.nodeType?[o]:o);else if(ie.test(o)){for(s=s||u.appendChild(t.createElement("div")),r=(te.exec(o)||["",""])[1].toLowerCase(),a=le[r]||le._default,s.innerHTML=a[1]+o.replace(ee,"<$1></$2>")+a[2],c=a[0];c--;)s=s.lastChild;C.merge(d,s.childNodes),(s=u.firstChild).textContent=""}else d.push(t.createTextNode(o));for(u.textContent="",h=0;o=d[h++];)if((!n||-1===C.inArray(o,n))&&(l=C.contains(o.ownerDocument,o),s=fe(u.appendChild(o),"script"),l&&he(s),i))for(c=0;o=s[c++];)se.test(o.type||"")&&i.push(o);return u},cleanData:function(e){for(var t,i,n,o,s=C.event.special,r=0;void 0!==(i=e[r]);r++){if(C.acceptData(i)&&(o=i[F.expando])&&(t=F.cache[o])){if(t.events)for(n in t.events)s[n]?C.event.remove(i,n):C.removeEvent(i,n,t.handle);F.cache[o]&&delete F.cache[o]}delete j.cache[i[j.expando]]}}}),C.fn.extend({text:function(e){return M(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ce(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ce(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?C.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||C.cleanData(fe(i)),i.parentNode&&(t&&C.contains(i.ownerDocument,i)&&he(fe(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(fe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return M(this,function(e){var t=this[0]||{},i=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ne.test(e)&&!le[(te.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(ee,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(C.cleanData(fe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,C.cleanData(fe(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(i,n){i=m.apply([],i);var e,t,o,s,r,a,l=0,c=this.length,u=this,d=c-1,h=i[0],p=C.isFunction(h);if(p||1<c&&"string"==typeof h&&!v.checkClone&&oe.test(h))return this.each(function(e){var t=u.eq(e);p&&(i[0]=h.call(this,e,t.html())),t.domManip(i,n)});if(c&&(t=(e=C.buildFragment(i,this[0].ownerDocument,!1,this)).firstChild,1===e.childNodes.length&&(e=t),t)){for(s=(o=C.map(fe(e,"script"),ue)).length;l<c;l++)r=e,l!==d&&(r=C.clone(r,!0,!0),s&&C.merge(o,fe(r,"script"))),n.call(this[l],r,l);if(s)for(a=o[o.length-1].ownerDocument,C.map(o,de),l=0;l<s;l++)r=o[l],se.test(r.type||"")&&!F.access(r,"globalEval")&&C.contains(a,r)&&(r.src?C._evalUrl&&C._evalUrl(r.src):C.globalEval(r.textContent.replace(ae,"")))}return this}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){C.fn[e]=function(e){for(var t,i=[],n=C(e),o=n.length-1,s=0;s<=o;s++)t=s===o?this:this.clone(!0),C(n[s])[r](t),a.apply(i,t.get());return this.pushStack(i)}});var me,ge={};function ve(e,t){var i,n=C(t.createElement(e)).appendTo(t.body),o=f.getDefaultComputedStyle&&(i=f.getDefaultComputedStyle(n[0]))?i.display:C.css(n[0],"display");return n.detach(),o}function ye(e){var t=y,i=ge[e];return i||("none"!==(i=ve(e,t))&&i||((t=(me=(me||C("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),i=ve(e,t),me.detach()),ge[e]=i),i}var be=/^margin/,we=new RegExp("^("+W+")(?!px)[a-z%]+$","i"),ke=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};function xe(e,t,i){var n,o,s,r,a=e.style;return(i=i||ke(e))&&(r=i.getPropertyValue(t)||i[t]),i&&(""!==r||C.contains(e.ownerDocument,e)||(r=C.style(e,t)),we.test(r)&&be.test(t)&&(n=a.width,o=a.minWidth,s=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=i.width,a.width=n,a.minWidth=o,a.maxWidth=s)),void 0!==r?r+"":r}function Ce(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,i,n=y.documentElement,o=y.createElement("div"),s=y.createElement("div");function e(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",s.innerHTML="",n.appendChild(o);var e=f.getComputedStyle(s,null);t="1%"!==e.top,i="4px"===e.width,n.removeChild(o)}s.style&&(s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===s.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(s),f.getComputedStyle&&C.extend(v,{pixelPosition:function(){return e(),t},boxSizingReliable:function(){return null==i&&e(),i},reliableMarginRight:function(){var e,t=s.appendChild(y.createElement("div"));return t.style.cssText=s.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",s.style.width="1px",n.appendChild(o),e=!parseFloat(f.getComputedStyle(t,null).marginRight),n.removeChild(o),e}}))}(),C.swap=function(e,t,i,n){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];for(s in o=i.apply(e,n||[]),t)e.style[s]=r[s];return o};var Te=/^(none|table(?!-c[ea]).+)/,Ee=new RegExp("^("+W+")(.*)$","i"),Se=new RegExp("^([+-])=("+W+")","i"),Ae={position:"absolute",visibility:"hidden",display:"block"},_e={letterSpacing:"0",fontWeight:"400"},Pe=["Webkit","O","Moz","ms"];function Ne(e,t){if(t in e)return t;for(var i=t[0].toUpperCase()+t.slice(1),n=t,o=Pe.length;o--;)if((t=Pe[o]+i)in e)return t;return n}function Le(e,t,i){var n=Ee.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function De(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,r=0;s<4;s+=2)"margin"===i&&(r+=C.css(e,i+B[s],!0,o)),n?("content"===i&&(r-=C.css(e,"padding"+B[s],!0,o)),"margin"!==i&&(r-=C.css(e,"border"+B[s]+"Width",!0,o))):(r+=C.css(e,"padding"+B[s],!0,o),"padding"!==i&&(r+=C.css(e,"border"+B[s]+"Width",!0,o)));return r}function Me(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=ke(e),r="border-box"===C.css(e,"boxSizing",!1,s);if(o<=0||null==o){if(((o=xe(e,t,s))<0||null==o)&&(o=e.style[t]),we.test(o))return o;n=r&&(v.boxSizingReliable()||o===e.style[t]),o=parseFloat(o)||0}return o+De(e,t,i||(r?"border":"content"),n,s)+"px"}function Ie(e,t){for(var i,n,o,s=[],r=0,a=e.length;r<a;r++)(n=e[r]).style&&(s[r]=F.get(n,"olddisplay"),i=n.style.display,t?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&z(n)&&(s[r]=F.access(n,"olddisplay",ye(n.nodeName)))):(o=z(n),"none"===i&&o||F.set(n,"olddisplay",o?i:C.css(n,"display"))));for(r=0;r<a;r++)(n=e[r]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[r]||"":"none"));return e}function Fe(e,t,i,n,o){return new Fe.prototype.init(e,t,i,n,o)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=xe(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,s,r,a=C.camelCase(t),l=e.style;if(t=C.cssProps[a]||(C.cssProps[a]=Ne(l,a)),r=C.cssHooks[t]||C.cssHooks[a],void 0===i)return r&&"get"in r&&void 0!==(o=r.get(e,!1,n))?o:l[t];"string"===(s=typeof i)&&(o=Se.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(C.css(e,t)),s="number"),null!=i&&i==i&&("number"!==s||C.cssNumber[a]||(i+="px"),v.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&void 0===(i=r.set(e,i,n))||(l[t]=i))}},css:function(e,t,i,n){var o,s,r,a=C.camelCase(t);return t=C.cssProps[a]||(C.cssProps[a]=Ne(e.style,a)),(r=C.cssHooks[t]||C.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,i)),void 0===o&&(o=xe(e,t,n)),"normal"===o&&t in _e&&(o=_e[t]),""===i||i?(s=parseFloat(o),!0===i||C.isNumeric(s)?s||0:o):o}}),C.each(["height","width"],function(e,o){C.cssHooks[o]={get:function(e,t,i){if(t)return Te.test(C.css(e,"display"))&&0===e.offsetWidth?C.swap(e,Ae,function(){return Me(e,o,i)}):Me(e,o,i)},set:function(e,t,i){var n=i&&ke(e);return Le(0,t,i?De(e,o,i,"border-box"===C.css(e,"boxSizing",!1,n),n):0)}}}),C.cssHooks.marginRight=Ce(v.reliableMarginRight,function(e,t){if(t)return C.swap(e,{display:"inline-block"},xe,[e,"marginRight"])}),C.each({margin:"",padding:"",border:"Width"},function(o,s){C.cssHooks[o+s]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[o+B[t]+s]=n[t]||n[t-2]||n[0];return i}},be.test(o)||(C.cssHooks[o+s].set=Le)}),C.fn.extend({css:function(e,t){return M(this,function(e,t,i){var n,o,s={},r=0;if(C.isArray(t)){for(n=ke(e),o=t.length;r<o;r++)s[t[r]]=C.css(e,t[r],!1,n);return s}return void 0!==i?C.style(e,t,i):C.css(e,t)},e,t,1<arguments.length)},show:function(){return Ie(this,!0)},hide:function(){return Ie(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){z(this)?C(this).show():C(this).hide()})}}),((C.Tween=Fe).prototype={constructor:Fe,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(C.cssNumber[i]?"":"px")},cur:function(){var e=Fe.propHooks[this.prop];return e&&e.get?e.get(this):Fe.propHooks._default.get(this)},run:function(e){var t,i=Fe.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Fe.propHooks._default.set(this),this}}).init.prototype=Fe.prototype,(Fe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[C.cssProps[e.prop]]||C.cssHooks[e.prop])?C.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}}).scrollTop=Fe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},C.fx=Fe.prototype.init,C.fx.step={};var je,Oe,He,qe,$e,Re=/^(?:toggle|show|hide)$/,We=new RegExp("^(?:([+-])=|)("+W+")([a-z%]*)$","i"),Be=/queueHooks$/,ze=[function(t,e,i){var n,o,s,r,a,l,c,u=this,d={},h=t.style,p=t.nodeType&&z(t),f=F.get(t,"fxshow");i.queue||(null==(a=C._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,u.always(function(){u.always(function(){a.unqueued--,C.queue(t,"fx").length||a.empty.fire()})}));1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],c=C.css(t,"display"),"inline"===("none"===c?F.get(t,"olddisplay")||ye(t.nodeName):c)&&"none"===C.css(t,"float")&&(h.display="inline-block"));i.overflow&&(h.overflow="hidden",u.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]}));for(n in e)if(o=e[n],Re.exec(o)){if(delete e[n],s=s||"toggle"===o,o===(p?"hide":"show")){if("show"!==o||!f||void 0===f[n])continue;p=!0}d[n]=f&&f[n]||C.style(t,n)}else c=void 0;if(C.isEmptyObject(d))"inline"===("none"===c?ye(t.nodeName):c)&&(h.display=c);else for(n in f?"hidden"in f&&(p=f.hidden):f=F.access(t,"fxshow",{}),s&&(f.hidden=!p),p?C(t).show():u.done(function(){C(t).hide()}),u.done(function(){var e;for(e in F.remove(t,"fxshow"),d)C.style(t,e,d[e])}),d)r=Xe(p?f[n]:0,n,u),n in f||(f[n]=r.start,p&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}],Ue={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=We.exec(t),s=o&&o[3]||(C.cssNumber[e]?"":"px"),r=(C.cssNumber[e]||"px"!==s&&+n)&&We.exec(C.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==s)for(s=s||r[3],o=o||[],r=+n||1;r/=a=a||".5",C.style(i.elem,e,r+s),a!==(a=i.cur()/n)&&1!==a&&--l;);return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};function Ve(){return setTimeout(function(){je=void 0}),je=C.now()}function Qe(e,t){var i,n=0,o={height:e};for(t=t?1:0;n<4;n+=2-t)o["margin"+(i=B[n])]=o["padding"+i]=e;return t&&(o.opacity=o.width=e),o}function Xe(e,t,i){for(var n,o=(Ue[t]||[]).concat(Ue["*"]),s=0,r=o.length;s<r;s++)if(n=o[s].call(i,t,e))return n}function Ye(s,e,t){var i,r,n=0,o=ze.length,a=C.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=je||Ve(),t=Math.max(0,c.startTime+c.duration-e),i=1-(t/c.duration||0),n=0,o=c.tweens.length;n<o;n++)c.tweens[n].run(i);return a.notifyWith(s,[c,i,t]),i<1&&o?t:(a.resolveWith(s,[c]),!1)},c=a.promise({elem:s,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:je||Ve(),duration:t.duration,tweens:[],createTween:function(e,t){var i=C.Tween(s,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;t<i;t++)c.tweens[t].run(1);return e?a.resolveWith(s,[c,e]):a.rejectWith(s,[c,e]),this}}),u=c.props;for(!function(e,t){var i,n,o,s,r;for(i in e)if(o=t[n=C.camelCase(i)],s=e[i],C.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),(r=C.cssHooks[n])&&"expand"in r)for(i in s=r.expand(s),delete e[n],s)i in e||(e[i]=s[i],t[i]=o);else t[n]=o}(u,c.opts.specialEasing);n<o;n++)if(i=ze[n].call(c,s,u,c.opts))return i;return C.map(u,Xe,c),C.isFunction(c.opts.start)&&c.opts.start.call(s,c),C.fx.timer(C.extend(l,{elem:s,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}C.Animation=C.extend(Ye,{tweener:function(e,t){C.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;n<o;n++)i=e[n],Ue[i]=Ue[i]||[],Ue[i].unshift(t)},prefilter:function(e,t){t?ze.unshift(e):ze.push(e)}}),C.speed=function(e,t,i){var n=e&&"object"==typeof e?C.extend({},e):{complete:i||!i&&t||C.isFunction(e)&&e,duration:e,easing:i&&t||t&&!C.isFunction(t)&&t};return n.duration=C.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in C.fx.speeds?C.fx.speeds[n.duration]:C.fx.speeds._default,null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){C.isFunction(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(e,t,i,n){return this.filter(z).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var o=C.isEmptyObject(t),s=C.speed(e,i,n),r=function(){var e=Ye(this,C.extend({},t),s);(o||F.get(this,"finish"))&&e.stop(!0)};return r.finish=r,o||!1===s.queue?this.each(r):this.queue(s.queue,r)},stop:function(o,e,s){var r=function(e){var t=e.stop;delete e.stop,t(s)};return"string"!=typeof o&&(s=e,e=o,o=void 0),e&&!1!==o&&this.queue(o||"fx",[]),this.each(function(){var e=!0,t=null!=o&&o+"queueHooks",i=C.timers,n=F.get(this);if(t)n[t]&&n[t].stop&&r(n[t]);else for(t in n)n[t]&&n[t].stop&&Be.test(t)&&r(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=o&&i[t].queue!==o||(i[t].anim.stop(s),e=!1,i.splice(t,1));!e&&s||C.dequeue(this,o)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=F.get(this),i=t[r+"queue"],n=t[r+"queueHooks"],o=C.timers,s=i?i.length:0;for(t.finish=!0,C.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===r&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,n){var o=C.fn[n];C.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?o.apply(this,arguments):this.animate(Qe(n,!0),e,t,i)}}),C.each({slideDown:Qe("show"),slideUp:Qe("hide"),slideToggle:Qe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){C.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),C.timers=[],C.fx.tick=function(){var e,t=0,i=C.timers;for(je=C.now();t<i.length;t++)(e=i[t])()||i[t]!==e||i.splice(t--,1);i.length||C.fx.stop(),je=void 0},C.fx.timer=function(e){C.timers.push(e),e()?C.fx.start():C.timers.pop()},C.fx.interval=13,C.fx.start=function(){Oe||(Oe=setInterval(C.fx.tick,C.fx.interval))},C.fx.stop=function(){clearInterval(Oe),Oe=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,e){return n=C.fx&&C.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},He=y.createElement("input"),qe=y.createElement("select"),$e=qe.appendChild(y.createElement("option")),He.type="checkbox",v.checkOn=""!==He.value,v.optSelected=$e.selected,qe.disabled=!0,v.optDisabled=!$e.disabled,(He=y.createElement("input")).value="t",He.type="radio",v.radioValue="t"===He.value;var Ge,Ke=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return M(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,i){var n,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return typeof e.getAttribute===V?C.prop(e,t,i):(1===s&&C.isXMLDoc(e)||(t=t.toLowerCase(),n=C.attrHooks[t]||(C.expr.match.bool.test(t)?Ge:void 0)),void 0===i?n&&"get"in n&&null!==(o=n.get(e,t))?o:null==(o=C.find.attr(e,t))?void 0:o:null!==i?n&&"set"in n&&void 0!==(o=n.set(e,i,t))?o:(e.setAttribute(t,i+""),i):void C.removeAttr(e,t))},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(N);if(s&&1===e.nodeType)for(;i=s[o++];)n=C.propFix[i]||i,C.expr.match.bool.test(i)&&(e[n]=!1),e.removeAttribute(i)},attrHooks:{type:{set:function(e,t){if(!v.radioValue&&"radio"===t&&C.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}}}),Ge={set:function(e,t,i){return!1===t?C.removeAttr(e,i):e.setAttribute(i,i),i}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var s=Ke[t]||C.find.attr;Ke[t]=function(e,t,i){var n,o;return i||(o=Ke[t],Ke[t]=n,n=null!=s(e,t,i)?t.toLowerCase():null,Ke[t]=o),n}});var Je=/^(?:input|select|textarea|button)$/i;C.fn.extend({prop:function(e,t){return M(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,i){var n,o,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return(1!==s||!C.isXMLDoc(e))&&(t=C.propFix[t]||t,o=C.propHooks[t]),void 0!==i?o&&"set"in o&&void 0!==(n=o.set(e,i,t))?n:e[t]=i:o&&"get"in o&&null!==(n=o.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Je.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),v.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this});var Ze=/[\t\r\n\f]/g;C.fn.extend({addClass:function(t){var e,i,n,o,s,r,a="string"==typeof t&&t,l=0,c=this.length;if(C.isFunction(t))return this.each(function(e){C(this).addClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(N)||[];l<c;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Ze," "):" ")){for(s=0;o=e[s++];)n.indexOf(" "+o+" ")<0&&(n+=o+" ");r=C.trim(n),i.className!==r&&(i.className=r)}return this},removeClass:function(t){var e,i,n,o,s,r,a=0===arguments.length||"string"==typeof t&&t,l=0,c=this.length;if(C.isFunction(t))return this.each(function(e){C(this).removeClass(t.call(this,e,this.className))});if(a)for(e=(t||"").match(N)||[];l<c;l++)if(n=1===(i=this[l]).nodeType&&(i.className?(" "+i.className+" ").replace(Ze," "):"")){for(s=0;o=e[s++];)for(;0<=n.indexOf(" "+o+" ");)n=n.replace(" "+o+" "," ");r=t?C.trim(n):"",i.className!==r&&(i.className=r)}return this},toggleClass:function(o,t){var s=typeof o;return"boolean"==typeof t&&"string"===s?t?this.addClass(o):this.removeClass(o):C.isFunction(o)?this.each(function(e){C(this).toggleClass(o.call(this,e,this.className,t),t)}):this.each(function(){if("string"===s)for(var e,t=0,i=C(this),n=o.match(N)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else s!==V&&"boolean"!==s||(this.className&&F.set(this,"__className__",this.className),this.className=this.className||!1===o?"":F.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(Ze," ").indexOf(t))return!0;return!1}});var et=/\r/g;C.fn.extend({val:function(i){var n,e,o,t=this[0];return arguments.length?(o=C.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=o?i.call(this,e,C(this).val()):i)?t="":"number"==typeof t?t+="":C.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(et,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:C.trim(C.text(e))}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||o<0,r=s?null:[],a=s?o+1:n.length,l=o<0?a:s?o:0;l<a;l++)if(((i=n[l]).selected||l===o)&&(v.optDisabled?!i.disabled:null===i.getAttribute("disabled"))&&(!i.parentNode.disabled||!C.nodeName(i.parentNode,"optgroup"))){if(t=C(i).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var i,n,o=e.options,s=C.makeArray(t),r=o.length;r--;)((n=o[r]).selected=0<=C.inArray(n.value,s))&&(i=!0);return i||(e.selectedIndex=-1),s}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(C.isArray(t))return e.checked=0<=C.inArray(C(e).val(),t)}},v.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){C.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var tt=C.now(),it=/\?/;C.parseJSON=function(e){return JSON.parse(e+"")},C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var nt,ot,st=/#.*$/,rt=/([?&])_=[^&]*/,at=/^(.*?):[ \t]*([^\r\n]*)$/gm,lt=/^(?:GET|HEAD)$/,ct=/^\/\//,ut=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,dt={},ht={},pt="*/".concat("*");try{ot=location.href}catch(e){(ot=y.createElement("a")).href="",ot=ot.href}function ft(s){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,o=e.toLowerCase().match(N)||[];if(C.isFunction(t))for(;i=o[n++];)"+"===i[0]?(i=i.slice(1)||"*",(s[i]=s[i]||[]).unshift(t)):(s[i]=s[i]||[]).push(t)}}function mt(t,o,s,r){var a={},l=t===ht;function c(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){var i=t(o,s,r);return"string"!=typeof i||l||a[i]?l?!(n=i):void 0:(o.dataTypes.unshift(i),c(i),!1)}),n}return c(o.dataTypes[0])||!a["*"]&&c("*")}function gt(e,t){var i,n,o=C.ajaxSettings.flatOptions||{};for(i in t)void 0!==t[i]&&((o[i]?e:n||(n={}))[i]=t[i]);return n&&C.extend(!0,e,n),e}nt=ut.exec(ot.toLowerCase())||[],C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ot,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(nt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":pt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":C.parseJSON,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?gt(gt(e,C.ajaxSettings),t):gt(C.ajaxSettings,e)},ajaxPrefilter:ft(dt),ajaxTransport:ft(ht),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var u,d,h,i,p,n,f,o,m=C.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?C(g):C.event,y=C.Deferred(),b=C.Callbacks("once memory"),w=m.statusCode||{},s={},r={},k=0,a="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===k){if(!i)for(i={};t=at.exec(h);)i[t[1].toLowerCase()]=t[2];t=i[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===k?h:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return k||(e=r[i]=r[i]||e,s[e]=t),this},overrideMimeType:function(e){return k||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(k<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||a;return u&&u.abort(t),l(0,t),this}};if(y.promise(x).complete=b.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||ot)+"").replace(st,"").replace(ct,nt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=C.trim(m.dataType||"*").toLowerCase().match(N)||[""],null==m.crossDomain&&(n=ut.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===nt[1]&&n[2]===nt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(nt[3]||("http:"===nt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=C.param(m.data,m.traditional)),mt(dt,m,t,x),2===k)return x;for(o in(f=m.global)&&0==C.active++&&C.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!lt.test(m.type),d=m.url,m.hasContent||(m.data&&(d=m.url+=(it.test(d)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=rt.test(d)?d.replace(rt,"$1_="+tt++):d+(it.test(d)?"&":"?")+"_="+tt++)),m.ifModified&&(C.lastModified[d]&&x.setRequestHeader("If-Modified-Since",C.lastModified[d]),C.etag[d]&&x.setRequestHeader("If-None-Match",C.etag[d])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+pt+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(o,m.headers[o]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===k))return x.abort();for(o in a="abort",{success:1,error:1,complete:1})x[o](m[o]);if(u=mt(ht,m,t,x)){x.readyState=1,f&&v.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(p=setTimeout(function(){x.abort("timeout")},m.timeout));try{k=1,u.send(s,l)}catch(e){if(!(k<2))throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,i,n){var o,s,r,a,l,c=t;2!==k&&(k=2,p&&clearTimeout(p),u=void 0,h=n||"",x.readyState=0<e?4:0,o=200<=e&&e<300||304===e,i&&(a=function(e,t,i){for(var n,o,s,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(o in a)if(a[o]&&a[o].test(n)){l.unshift(o);break}if(l[0]in i)s=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){s=o;break}r||(r=o)}s=s||r}if(s)return s!==l[0]&&l.unshift(s),i[s]}(m,x,i)),a=function(e,t,i,n){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(!(r=c[l+" "+s]||c["* "+s]))for(o in c)if((a=o.split(" "))[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[o]:!0!==c[o]&&(s=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e.throws)t=r(t);else try{t=r(t)}catch(e){return{state:"parsererror",error:r?e:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}(m,a,x,o),o?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(C.lastModified[d]=l),(l=x.getResponseHeader("etag"))&&(C.etag[d]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,s=a.data,o=!(r=a.error))):(r=c,!e&&c||(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",o?y.resolveWith(g,[s,c,x]):y.rejectWith(g,[x,c,r]),x.statusCode(w),w=void 0,f&&v.trigger(o?"ajaxSuccess":"ajaxError",[x,m,o?s:r]),b.fireWith(g,[x,c]),f&&(v.trigger("ajaxComplete",[x,m]),--C.active||C.event.trigger("ajaxStop")))}return x},getJSON:function(e,t,i){return C.get(e,t,i,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,o){C[o]=function(e,t,i,n){return C.isFunction(t)&&(n=n||i,i=t,t=void 0),C.ajax({url:e,type:o,dataType:n,data:t,success:i})}}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return C.isFunction(t)?this.each(function(e){C(this).wrapAll(t.call(this,e))}):(this[0]&&(e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(i){return C.isFunction(i)?this.each(function(e){C(this).wrapInner(i.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=C.isFunction(t);return this.each(function(e){C(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){C.nodeName(this,"body")||C(this).replaceWith(this.childNodes)}).end()}}),C.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},C.expr.filters.visible=function(e){return!C.expr.filters.hidden(e)};var vt=/%20/g,yt=/\[\]$/,bt=/\r?\n/g,wt=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function xt(i,e,n,o){var t;if(C.isArray(e))C.each(e,function(e,t){n||yt.test(i)?o(i,t):xt(i+"["+("object"==typeof t?e:"")+"]",t,n,o)});else if(n||"object"!==C.type(e))o(i,e);else for(t in e)xt(i+"["+t+"]",e[t],n,o)}C.param=function(e,t){var i,n=[],o=function(e,t){t=C.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=C.ajaxSettings&&C.ajaxSettings.traditional),C.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){o(this.name,this.value)});else for(i in e)xt(i,e[i],t,o);return n.join("&").replace(vt,"+")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&kt.test(this.nodeName)&&!wt.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var i=C(this).val();return null==i?null:C.isArray(i)?C.map(i,function(e){return{name:t.name,value:e.replace(bt,"\r\n")}}):{name:t.name,value:i.replace(bt,"\r\n")}}).get()}}),C.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var Ct=0,Tt={},Et={0:200,1223:204},St=C.ajaxSettings.xhr();f.ActiveXObject&&C(f).on("unload",function(){for(var e in Tt)Tt[e]()}),v.cors=!!St&&"withCredentials"in St,v.ajax=St=!!St,C.ajaxTransport(function(s){var r;if(v.cors||St&&!s.crossDomain)return{send:function(e,t){var i,n=s.xhr(),o=++Ct;if(n.open(s.type,s.url,s.async,s.username,s.password),s.xhrFields)for(i in s.xhrFields)n[i]=s.xhrFields[i];for(i in s.mimeType&&n.overrideMimeType&&n.overrideMimeType(s.mimeType),s.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(i,e[i]);r=function(e){return function(){r&&(delete Tt[o],r=n.onload=n.onerror=null,"abort"===e?n.abort():"error"===e?t(n.status,n.statusText):t(Et[n.status]||n.status,n.statusText,"string"==typeof n.responseText?{text:n.responseText}:void 0,n.getAllResponseHeaders()))}},n.onload=r(),n.onerror=r("error"),r=Tt[o]=r("abort");try{n.send(s.hasContent&&s.data||null)}catch(e){if(r)throw e}},abort:function(){r&&r()}}}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(i){var n,o;if(i.crossDomain)return{send:function(e,t){n=C("<script>").prop({async:!0,charset:i.scriptCharset,src:i.url}).on("load error",o=function(e){n.remove(),o=null,e&&t("error"===e.type?404:200,e.type)}),y.head.appendChild(n[0])},abort:function(){o&&o()}}});var At=[],_t=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||C.expando+"_"+tt++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,i){var n,o,s,r=!1!==e.jsonp&&(_t.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&_t.test(e.data)&&"data");if(r||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=C.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(_t,"$1"+n):!1!==e.jsonp&&(e.url+=(it.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return s||C.error(n+" was not called"),s[0]},e.dataTypes[0]="json",o=f[n],f[n]=function(){s=arguments},i.always(function(){f[n]=o,e[n]&&(e.jsonpCallback=t.jsonpCallback,At.push(n)),s&&C.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),C.parseHTML=function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||y;var n=w.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=C.buildFragment([e],t,o),o&&o.length&&C(o).remove(),C.merge([],n.childNodes))};var Pt=C.fn.load;C.fn.load=function(e,t,i){if("string"!=typeof e&&Pt)return Pt.apply(this,arguments);var n,o,s,r=this,a=e.indexOf(" ");return 0<=a&&(n=C.trim(e.slice(a)),e=e.slice(0,a)),C.isFunction(t)?(i=t,t=void 0):t&&"object"==typeof t&&(o="POST"),0<r.length&&C.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,r.html(n?C("<div>").append(C.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){r.each(i,s||[e.responseText,t,e])}),this},C.expr.filters.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length};var Nt=f.document.documentElement;function Lt(e){return C.isWindow(e)?e:9===e.nodeType&&e.defaultView}C.offset={setOffset:function(e,t,i){var n,o,s,r,a,l,c=C.css(e,"position"),u=C(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),s=C.css(e,"top"),l=C.css(e,"left"),("absolute"===c||"fixed"===c)&&-1<(s+l).indexOf("auto")?(r=(n=u.position()).top,o=n.left):(r=parseFloat(s)||0,o=parseFloat(l)||0),C.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+r),null!=t.left&&(d.left=t.left-a.left+o),"using"in t?t.using.call(e,d):u.css(d)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,i,n=this[0],o={top:0,left:0},s=n&&n.ownerDocument;return s?(e=s.documentElement,C.contains(e,n)?(typeof n.getBoundingClientRect!==V&&(o=n.getBoundingClientRect()),i=Lt(s),{top:o.top+i.pageYOffset-e.clientTop,left:o.left+i.pageXOffset-e.clientLeft}):o):void 0},position:function(){if(this[0]){var e,t,i=this[0],n={top:0,left:0};return"fixed"===C.css(i,"position")?t=i.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),C.nodeName(e[0],"html")||(n=e.offset()),n.top+=C.css(e[0],"borderTopWidth",!0),n.left+=C.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-C.css(i,"marginTop",!0),left:t.left-n.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Nt;e&&!C.nodeName(e,"html")&&"static"===C.css(e,"position");)e=e.offsetParent;return e||Nt})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,o){var s="pageYOffset"===o;C.fn[t]=function(e){return M(this,function(e,t,i){var n=Lt(e);if(void 0===i)return n?n[o]:e[t];n?n.scrollTo(s?f.pageXOffset:i,s?i:f.pageYOffset):e[t]=i},t,e,arguments.length,null)}}),C.each(["top","left"],function(e,i){C.cssHooks[i]=Ce(v.pixelPosition,function(e,t){if(t)return t=xe(e,i),we.test(t)?C(e).position()[i]+"px":t})}),C.each({Height:"height",Width:"width"},function(s,r){C.each({padding:"inner"+s,content:r,"":"outer"+s},function(n,e){C.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),o=n||(!0===e||!0===t?"margin":"border");return M(this,function(e,t,i){var n;return C.isWindow(e)?e.document.documentElement["client"+s]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+s],n["scroll"+s],e.body["offset"+s],n["offset"+s],n["client"+s])):void 0===i?C.css(e,t,o):C.style(e,t,i,o)},r,i?e:void 0,i,null)}})}),C.fn.size=function(){return this.length},C.fn.andSelf=C.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var Dt=f.jQuery,Mt=f.$;return C.noConflict=function(e){return f.$===C&&(f.$=Mt),e&&f.jQuery===C&&(f.jQuery=Dt),C},typeof e===V&&(f.jQuery=f.$=C),C}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(_){var e,t,i,n;function o(e,t){var i,n,o,s=e.nodeName.toLowerCase();return"area"===s?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(o=_("img[usemap='#"+n+"']")[0])&&r(o))):(/^(input|select|textarea|button|object)$/.test(s)?!e.disabled:"a"===s&&e.href||t)&&r(e)}function r(e){return _.expr.filters.visible(e)&&!_(e).parents().addBack().filter(function(){return"hidden"===_.css(this,"visibility")}).length}_.ui=_.ui||{},_.extend(_.ui,{version:"1.11.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),_.fn.extend({scrollParent:function(e){var t=this.css("position"),i="absolute"===t,n=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter(function(){var e=_(this);return(!i||"static"!==e.css("position"))&&n.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==t&&o.length?o:_(this[0].ownerDocument||document)},uniqueId:(e=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&_(this).removeAttr("id")})}}),_.extend(_.expr[":"],{data:_.expr.createPseudo?_.expr.createPseudo(function(t){return function(e){return!!_.data(e,t)}}):function(e,t,i){return!!_.data(e,i[3])},focusable:function(e){return o(e,!isNaN(_.attr(e,"tabindex")))},tabbable:function(e){var t=_.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&o(e,!i)}}),_("<a>").outerWidth(1).jquery||_.each(["Width","Height"],function(e,i){var o="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),s={innerWidth:_.fn.innerWidth,innerHeight:_.fn.innerHeight,outerWidth:_.fn.outerWidth,outerHeight:_.fn.outerHeight};function r(e,t,i,n){return _.each(o,function(){t-=parseFloat(_.css(e,"padding"+this))||0,i&&(t-=parseFloat(_.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(_.css(e,"margin"+this))||0)}),t}_.fn["inner"+i]=function(e){return void 0===e?s["inner"+i].call(this):this.each(function(){_(this).css(n,r(this,e)+"px")})},_.fn["outer"+i]=function(e,t){return"number"!=typeof e?s["outer"+i].call(this,e):this.each(function(){_(this).css(n,r(this,e,!0,t)+"px")})}}),_.fn.addBack||(_.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),_("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(_.fn.removeData=(t=_.fn.removeData,function(e){return arguments.length?t.call(this,_.camelCase(e)):t.call(this)})),_.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),_.fn.extend({focus:(n=_.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){_(e).focus(),i&&i.call(e)},t)}):n.apply(this,arguments)}),disableSelection:(i="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(i+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var t,i,n=_(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),_.ui.plugin={add:function(e,t,i){var n,o=_.ui[e].prototype;for(n in i)o.plugins[n]=o.plugins[n]||[],o.plugins[n].push([t,i[n]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;o<s.length;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}};var s,a=0,l=Array.prototype.slice;_.cleanData=(s=_.cleanData,function(e){var t,i,n;for(n=0;null!=(i=e[n]);n++)try{(t=_._data(i,"events"))&&t.remove&&_(i).triggerHandler("remove")}catch(e){}s(e)}),_.widget=function(e,i,t){var n,o,s,r,a={},l=e.split(".")[0];return e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=_.Widget),_.expr[":"][n.toLowerCase()]=function(e){return!!_.data(e,n)},_[l]=_[l]||{},o=_[l][e],s=_[l][e]=function(e,t){if(!this._createWidget)return new s(e,t);arguments.length&&this._createWidget(e,t)},_.extend(s,o,{version:t.version,_proto:_.extend({},t),_childConstructors:[]}),(r=new i).options=_.widget.extend({},r.options),_.each(t,function(t,n){var o,s;_.isFunction(n)?a[t]=(o=function(){return i.prototype[t].apply(this,arguments)},s=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=o,this._superApply=s,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):a[t]=n}),s.prototype=_.widget.extend(r,{widgetEventPrefix:o&&r.widgetEventPrefix||e},a,{constructor:s,namespace:l,widgetName:e,widgetFullName:n}),o?(_.each(o._childConstructors,function(e,t){var i=t.prototype;_.widget(i.namespace+"."+i.widgetName,s,t._proto)}),delete o._childConstructors):i._childConstructors.push(s),_.widget.bridge(e,s),s},_.widget.extend=function(e){for(var t,i,n=l.call(arguments,1),o=0,s=n.length;o<s;o++)for(t in n[o])i=n[o][t],n[o].hasOwnProperty(t)&&void 0!==i&&(_.isPlainObject(i)?e[t]=_.isPlainObject(e[t])?_.widget.extend({},e[t],i):_.widget.extend({},i):e[t]=i);return e},_.widget.bridge=function(s,t){var r=t.prototype.widgetFullName||s;_.fn[s]=function(i){var e="string"==typeof i,n=l.call(arguments,1),o=this;return e?this.each(function(){var e,t=_.data(this,r);return"instance"===i?(o=t,!1):t?_.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n))!==t&&void 0!==e?(o=e&&e.jquery?o.pushStack(e.get()):e,!1):void 0:_.error("no such method '"+i+"' for "+s+" widget instance"):_.error("cannot call methods on "+s+" prior to initialization; attempted to call method '"+i+"'")}):(n.length&&(i=_.widget.extend.apply(null,[i].concat(n))),this.each(function(){var e=_.data(this,r);e?(e.option(i||{}),e._init&&e._init()):_.data(this,r,new t(i,this))})),o}},_.Widget=function(){},_.Widget._childConstructors=[],_.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=_(t||this.defaultElement||this)[0],this.element=_(t),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=_(),this.hoverable=_(),this.focusable=_(),t!==this&&(_.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=_(t.style?t.ownerDocument:t.document||t),this.window=_(this.document[0].defaultView||this.document[0].parentWindow)),this.options=_.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:_.noop,_getCreateEventData:_.noop,_create:_.noop,_init:_.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(_.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:_.noop,widget:function(){return this.element},option:function(e,t){var i,n,o,s=e;if(0===arguments.length)return _.widget.extend({},this.options);if("string"==typeof e)if(s={},e=(i=e.split(".")).shift(),i.length){for(n=s[e]=_.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)n[i[o]]=n[i[o]]||{},n=n[i[o]];if(e=i.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=t}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=t}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(r,a,e){var l,c=this;"boolean"!=typeof r&&(e=a,a=r,r=!1),e?(a=l=_(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),_.each(e,function(e,t){function i(){if(r||!0!==c.options.disabled&&!_(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||_.guid++);var n=e.match(/^([\w:-]*)\s*(.*)$/),o=n[1]+c.eventNamespace,s=n[2];s?l.delegate(s,o,i):a.bind(o,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t),this.bindings=_(this.bindings.not(e).get()),this.focusable=_(this.focusable.not(e).get()),this.hoverable=_(this.hoverable.not(e).get())},_delay:function(e,t){var i=this;return setTimeout(function(){return("string"==typeof e?i[e]:e).apply(i,arguments)},t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){_(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){_(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){_(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){_(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,o,s=this.options[e];if(i=i||{},(t=_.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],o=t.originalEvent)for(n in o)n in t||(t[n]=o[n]);return this.element.trigger(t,i),!(_.isFunction(s)&&!1===s.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},_.each({show:"fadeIn",hide:"fadeOut"},function(s,r){_.Widget.prototype["_"+s]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,o=e?!0===e||"number"==typeof e?r:e.effect||r:s;"number"==typeof(e=e||{})&&(e={duration:e}),n=!_.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&_.effects&&_.effects.effect[o]?t[s](e):o!==s&&t[o]?t[o](e.duration,e.easing,i):t.queue(function(e){_(this)[s](),i&&i.call(t[0]),e()})}});_.widget;var c=!1;_(document).mouseup(function(){c=!1});_.widget("ui.mouse",{version:"1.11.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===_.data(e.target,t.widgetName+".preventClickEvent"))return _.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!c){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&_(e.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===_.data(e.target,this.widgetName+".preventClickEvent")&&_.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),c=!0))}},_mouseMove:function(e){if(this._mouseMoved){if(_.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&_.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),c=!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}});!function(){_.ui=_.ui||{};var o,x,C=Math.max,T=Math.abs,E=Math.round,n=/left|center|right/,s=/top|center|bottom/,r=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,c=_.fn.position;function S(e,t,i){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?i/100:1)]}function A(e,t){return parseInt(_.css(e,t),10)||0}_.position={scrollbarWidth:function(){if(void 0!==o)return o;var e,t,i=_("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return _("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),e===(t=n.offsetWidth)&&(t=i[0].clientWidth),i.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),i=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?_.position.scrollbarWidth():0,height:n?_.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=_(e||window),i=_.isWindow(t[0]),n=!!t[0]&&9===t[0].nodeType;return{element:t,isWindow:i,isDocument:n,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i||n?t.width():t.outerWidth(),height:i||n?t.height():t.outerHeight()}}},_.fn.position=function(d){if(!d||!d.of)return c.apply(this,arguments);d=_.extend({},d);var h,p,f,m,g,e,t,i,v=_(d.of),y=_.position.getWithinInfo(d.within),b=_.position.getScrollInfo(y),w=(d.collision||"flip").split(" "),k={};return e=9===(i=(t=v)[0]).nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:_.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()},v[0].preventDefault&&(d.at="left top"),p=e.width,f=e.height,m=e.offset,g=_.extend({},m),_.each(["my","at"],function(){var e,t,i=(d[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):s.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=s.test(i[1])?i[1]:"center",e=r.exec(i[0]),t=r.exec(i[1]),k[this]=[e?e[0]:0,t?t[0]:0],d[this]=[a.exec(i[0])[0],a.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===d.at[0]?g.left+=p:"center"===d.at[0]&&(g.left+=p/2),"bottom"===d.at[1]?g.top+=f:"center"===d.at[1]&&(g.top+=f/2),h=S(k.at,p,f),g.left+=h[0],g.top+=h[1],this.each(function(){var i,e,r=_(this),a=r.outerWidth(),l=r.outerHeight(),t=A(this,"marginLeft"),n=A(this,"marginTop"),o=a+t+A(this,"marginRight")+b.width,s=l+n+A(this,"marginBottom")+b.height,c=_.extend({},g),u=S(k.my,r.outerWidth(),r.outerHeight());"right"===d.my[0]?c.left-=a:"center"===d.my[0]&&(c.left-=a/2),"bottom"===d.my[1]?c.top-=l:"center"===d.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],x||(c.left=E(c.left),c.top=E(c.top)),i={marginLeft:t,marginTop:n},_.each(["left","top"],function(e,t){_.ui.position[w[e]]&&_.ui.position[w[e]][t](c,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:o,collisionHeight:s,offset:[h[0]+u[0],h[1]+u[1]],my:d.my,at:d.at,within:y,elem:r})}),d.using&&(e=function(e){var t=m.left-c.left,i=t+p-a,n=m.top-c.top,o=n+f-l,s={target:{element:v,left:m.left,top:m.top,width:p,height:f},element:{element:r,left:c.left,top:c.top,width:a,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:o<0?"top":0<n?"bottom":"middle"};p<a&&T(t+i)<p&&(s.horizontal="center"),f<l&&T(n+o)<f&&(s.vertical="middle"),C(T(t),T(i))>C(T(n),T(o))?s.important="horizontal":s.important="vertical",d.using.call(this,e,s)}),r.offset(_.extend(c,{using:e}))})},_.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,r=e.left-t.collisionPosition.marginLeft,a=o-r,l=r+t.collisionWidth-s-o;t.collisionWidth>s?0<a&&l<=0?(i=e.left+a+t.collisionWidth-s-o,e.left+=a-i):e.left=0<l&&a<=0?o:l<a?o+s-t.collisionWidth:o:0<a?e.left+=a:0<l?e.left-=l:e.left=C(e.left-r,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,r=e.top-t.collisionPosition.marginTop,a=o-r,l=r+t.collisionHeight-s-o;t.collisionHeight>s?0<a&&l<=0?(i=e.top+a+t.collisionHeight-s-o,e.top+=a-i):e.top=0<l&&a<=0?o:l<a?o+s-t.collisionHeight:o:0<a?e.top+=a:0<l?e.top-=l:e.top=C(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,a=o.isWindow?o.scrollLeft:o.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-a,u=l+t.collisionWidth-r-a,d="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,h="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((i=e.left+d+h+p+t.collisionWidth-r-s)<0||i<T(c))&&(e.left+=d+h+p):0<u&&(0<(n=e.left-t.collisionPosition.marginLeft+d+h+p-a)||T(n)<u)&&(e.left+=d+h+p)},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,a=o.isWindow?o.scrollTop:o.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-a,u=l+t.collisionHeight-r-a,d="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,h="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?((n=e.top+d+h+p+t.collisionHeight-r-s)<0||n<T(c))&&(e.top+=d+h+p):0<u&&(0<(i=e.top-t.collisionPosition.marginTop+d+h+p-a)||T(i)<u)&&(e.top+=d+h+p)}},flipfit:{left:function(){_.ui.position.flip.left.apply(this,arguments),_.ui.position.fit.left.apply(this,arguments)},top:function(){_.ui.position.flip.top.apply(this,arguments),_.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,o,s=document.getElementsByTagName("body")[0],r=document.createElement("div");for(o in e=document.createElement(s?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},s&&_.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)e.style[o]=i[o];e.appendChild(r),(t=s||document.documentElement).insertBefore(e,t.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=_(r).offset().left,x=10<n&&n<11,e.innerHTML="",t.removeChild(e)}()}();_.ui.position,_.widget("ui.sortable",_.ui.mouse,{version:"1.11.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return t<=e&&e<t+i},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||this._isFloating(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),_.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,t){var i=null,n=!1,o=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),_(e.target).parents().each(function(){if(_.data(this,o.widgetName+"-item")===o)return i=_(this),!1}),_.data(e.target,o.widgetName+"-item")===o&&(i=_(e.target)),!!i&&(!(this.options.handle&&!t&&(_(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,o,s=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},_.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=_("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return _.ui.ddmanager&&(_.ui.ddmanager.current=this),_.ui.ddmanager&&!s.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,n,o,s=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?r=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(r=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?r=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(r=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==r&&_.ui.ddmanager&&!s.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===n||_.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&_.contains(this.element[0],n))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),_.ui.ddmanager&&_.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(_.ui.ddmanager&&!this.options.dropBehaviour&&_.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,_(this.helper).animate(s,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),_.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?_(this.domPosition.prev).after(this.currentItem):_(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},_(e).each(function(){var e=(_(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(_(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||a<n+c&&n+c<l,h="y"===this.options.axis||s<t+u&&t+u<r,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&o-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return!!n&&(this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1))},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,i,n,o,s=[],r=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(i=(n=_(a[t],this.document[0])).length-1;0<=i;i--)(o=_.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&r.push([_.isFunction(o.options.items)?o.options.items.call(o.element):_(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function l(){s.push(this)}for(r.push([_.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):_(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;0<=t;t--)r[t][0].each(l);return _(s)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=_.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,o,s,r,a,l,c=this.items,u=[[_.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):_(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(t=d.length-1;0<=t;t--)for(i=(n=_(d[t],this.document[0])).length-1;0<=i;i--)(o=_.data(n[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(u.push([_.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):_(o.options.items,o.element),o]),this.containers.push(o));for(t=u.length-1;0<=t;t--)for(s=u[t][1],i=0,l=(r=u[t][0]).length;i<l;i++)(a=_(r[i])).data(this.widgetName+"-item",s),c.push({item:a,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,n,o;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(i=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?_(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),o=n.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)o=this.containers[t].element.offset(),this.containers[t].containerCache.left=o.left,this.containers[t].containerCache.top=o.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,o=(i=i||this).options;o.placeholder&&o.placeholder.constructor!==String||(n=o.placeholder,o.placeholder={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=_("<"+e+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?i.currentItem.children().each(function(){_("<td>&#160;</td>",i.document[0]).attr("colspan",_(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",i.currentItem.attr("src")),n||t.css("visibility","hidden"),t},update:function(e,t){n&&!o.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=_(o.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),o.placeholder.update(i,i.placeholder)},_contactContainers:function(e){var t,i,n,o,s,r,a,l,c,u,d=null,h=null;for(t=this.containers.length-1;0<=t;t--)if(!_.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(d&&_.contains(this.containers[t].element[0],d.element[0]))continue;d=this.containers[t],h=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(n=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",r=c?"width":"height",u=c?"clientX":"clientY",i=this.items.length-1;0<=i;i--)_.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(a=this.items[i].item.offset()[s],l=!1,e[u]-a>this.items[i][r]/2&&(l=!0),Math.abs(e[u]-a)<n&&(n=Math.abs(e[u]-a),o=this.items[i],this.direction=l?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=_.isFunction(t.helper)?_(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||_("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),_.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===n.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===n.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=_(n.containment)[0],t=_(n.containment).offset(),i="hidden"!==_(e).css("overflow"),this.containment=[t.left+(parseInt(_(e).css("borderLeftWidth"),10)||0)+(parseInt(_(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(_(e).css("borderTopWidth"),10)||0)+(parseInt(_(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(_(e).css("borderLeftWidth"),10)||0)-(parseInt(_(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(_(e).css("borderTopWidth"),10)||0)-(parseInt(_(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:n.scrollLeft())*i}},_generatePosition:function(e){var t,i,n=this.options,o=e.pageX,s=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),n.grid&&(t=this.originalPageY+Math.round((s-this.originalPageY)/n.grid[1])*n.grid[1],s=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-n.grid[1]:t+n.grid[1]:t,i=this.originalPageX+Math.round((o-this.originalPageX)/n.grid[0])*n.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function o(t,i,n){return function(e){n._trigger(t,e,i._uiHash(i))}}for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)t||n.push(o("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(o("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===_.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||_([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}),function(){"use strict";function a(o,e){var t;if(e=e||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=e.touchBoundary||10,this.layer=o,this.tapDelay=e.tapDelay||200,this.tapTimeout=e.tapTimeout||700,!a.notNeeded(o)){for(var i=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],n=0,s=i.length;n<s;n++)this[i[n]]=r(this[i[n]],this);l&&(o.addEventListener("mouseover",this.onMouse,!0),o.addEventListener("mousedown",this.onMouse,!0),o.addEventListener("mouseup",this.onMouse,!0)),o.addEventListener("click",this.onClick,!0),o.addEventListener("touchstart",this.onTouchStart,!1),o.addEventListener("touchmove",this.onTouchMove,!1),o.addEventListener("touchend",this.onTouchEnd,!1),o.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(o.removeEventListener=function(e,t,i){var n=Node.prototype.removeEventListener;"click"===e?n.call(o,e,t.hijacked||t,i):n.call(o,e,t,i)},o.addEventListener=function(e,t,i){var n=Node.prototype.addEventListener;"click"===e?n.call(o,e,t.hijacked||(t.hijacked=function(e){e.propagationStopped||t(e)}),i):n.call(o,e,t,i)}),"function"==typeof o.onclick&&(t=o.onclick,o.addEventListener("click",function(e){t(e)},!1),o.onclick=null)}function r(e,t){return function(){return e.apply(t,arguments)}}}var e=0<=navigator.userAgent.indexOf("Windows Phone"),l=0<navigator.userAgent.indexOf("Android")&&!e,c=/iP(ad|hone|od)/.test(navigator.userAgent)&&!e,u=c&&/OS 4_\d(_\d)?/.test(navigator.userAgent),d=c&&/OS ([6-9]|\d{2})_\d/.test(navigator.userAgent),o=0<navigator.userAgent.indexOf("BB10");a.prototype.needsClick=function(e){switch(e.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(e.disabled)return!0;break;case"input":if(c&&"file"===e.type||e.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(e.className)},a.prototype.needsFocus=function(e){switch(e.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!l;case"input":switch(e.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!e.disabled&&!e.readOnly;default:return/\bneedsfocus\b/.test(e.className)}},a.prototype.sendClick=function(e,t){var i,n;document.activeElement&&document.activeElement!==e&&document.activeElement.blur(),n=t.changedTouches[0],(i=document.createEvent("MouseEvents")).initMouseEvent(this.determineEventType(e),!0,!0,window,1,n.screenX,n.screenY,n.clientX,n.clientY,!1,!1,!1,!1,0,null),i.forwardedTouchEvent=!0,e.dispatchEvent(i)},a.prototype.determineEventType=function(e){return l&&"select"===e.tagName.toLowerCase()?"mousedown":"click"},a.prototype.focus=function(e){var t;c&&e.setSelectionRange&&0!==e.type.indexOf("date")&&"time"!==e.type&&"month"!==e.type?(t=e.value.length,e.setSelectionRange(t,t)):e.focus()},a.prototype.updateScrollParent=function(e){var t,i;if(!(t=e.fastClickScrollParent)||!t.contains(e)){i=e;do{if(i.scrollHeight>i.offsetHeight){t=i,e.fastClickScrollParent=i;break}i=i.parentElement}while(i)}t&&(t.fastClickLastScrollTop=t.scrollTop)},a.prototype.getTargetElementFromEventTarget=function(e){return e.nodeType===Node.TEXT_NODE?e.parentNode:e},a.prototype.onTouchStart=function(e){var t,i,n;if(1<e.targetTouches.length)return!0;if(t=this.getTargetElementFromEventTarget(e.target),i=e.targetTouches[0],c){if((n=window.getSelection()).rangeCount&&!n.isCollapsed)return!0;if(!u){if(i.identifier&&i.identifier===this.lastTouchIdentifier)return e.preventDefault(),!1;this.lastTouchIdentifier=i.identifier,this.updateScrollParent(t)}}return this.trackingClick=!0,this.trackingClickStart=e.timeStamp,this.targetElement=t,this.touchStartX=i.pageX,this.touchStartY=i.pageY,e.timeStamp-this.lastClickTime<this.tapDelay&&e.preventDefault(),!0},a.prototype.touchHasMoved=function(e){var t=e.changedTouches[0],i=this.touchBoundary;return Math.abs(t.pageX-this.touchStartX)>i||Math.abs(t.pageY-this.touchStartY)>i},a.prototype.onTouchMove=function(e){return this.trackingClick&&(this.targetElement!==this.getTargetElementFromEventTarget(e.target)||this.touchHasMoved(e))&&(this.trackingClick=!1,this.targetElement=null),!0},a.prototype.findControl=function(e){return void 0!==e.control?e.control:e.htmlFor?document.getElementById(e.htmlFor):e.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},a.prototype.onTouchEnd=function(e){var t,i,n,o,s,r=this.targetElement;if(!this.trackingClick)return!0;if(e.timeStamp-this.lastClickTime<this.tapDelay)return this.cancelNextClick=!0;if(e.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=e.timeStamp,i=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,d&&(s=e.changedTouches[0],(r=document.elementFromPoint(s.pageX-window.pageXOffset,s.pageY-window.pageYOffset)||r).fastClickScrollParent=this.targetElement.fastClickScrollParent),"label"===(n=r.tagName.toLowerCase())){if(t=this.findControl(r)){if(this.focus(r),l)return!1;r=t}}else if(this.needsFocus(r))return 100<e.timeStamp-i||c&&window.top!==window&&"input"===n?this.targetElement=null:(this.focus(r),this.sendClick(r,e),c&&"select"===n||(this.targetElement=null,e.preventDefault())),!1;return!(!c||u||!(o=r.fastClickScrollParent)||o.fastClickLastScrollTop===o.scrollTop)||(this.needsClick(r)||(e.preventDefault(),this.sendClick(r,e)),!1)},a.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},a.prototype.onMouse=function(e){return!this.targetElement||(!!e.forwardedTouchEvent||(!e.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(e.stopImmediatePropagation?e.stopImmediatePropagation():e.propagationStopped=!0,e.stopPropagation(),e.preventDefault(),!1))))},a.prototype.onClick=function(e){var t;return this.trackingClick?(this.targetElement=null,!(this.trackingClick=!1)):"submit"===e.target.type&&0===e.detail||((t=this.onMouse(e))||(this.targetElement=null),t)},a.prototype.destroy=function(){var e=this.layer;l&&(e.removeEventListener("mouseover",this.onMouse,!0),e.removeEventListener("mousedown",this.onMouse,!0),e.removeEventListener("mouseup",this.onMouse,!0)),e.removeEventListener("click",this.onClick,!0),e.removeEventListener("touchstart",this.onTouchStart,!1),e.removeEventListener("touchmove",this.onTouchMove,!1),e.removeEventListener("touchend",this.onTouchEnd,!1),e.removeEventListener("touchcancel",this.onTouchCancel,!1)},a.notNeeded=function(e){var t,i,n;if(void 0===window.ontouchstart)return!0;if(i=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1]){if(!l)return!0;if(t=document.querySelector("meta[name=viewport]")){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(31<i&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(o&&10<=(n=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/))[1]&&3<=n[2]&&(t=document.querySelector("meta[name=viewport]"))){if(-1!==t.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===e.style.msTouchAction||"none"===e.style.touchAction},a.attach=function(e,t){return new a(e,t)},"function"==typeof define&&"object"==typeof define.amd&&define.amd?define(function(){return a}):"undefined"!=typeof module&&module.exports?(module.exports=a.attach,module.exports.FastClick=a):window.FastClick=a}(),function(s,r,a){"$:nomunge";function t(e,i){i=i||e+a;var n=s(),t=e+"."+i+"-special-event";function o(t){s(n).each(function(){var e=s(this);this===t.target||e.has(t.target).length||e.triggerHandler(i,[t.target])})}s.event.special[i]={setup:function(){1===(n=n.add(this)).length&&s(r).bind(t,o)},teardown:function(){0===(n=n.not(this)).length&&s(r).unbind(t)},add:function(e){var i=e.handler;e.handler=function(e,t){e.target=t,i.apply(this,arguments)}}}}s.map("click dblclick mousemove mousedown mouseup mouseover mouseout change select submit keydown keypress keyup".split(" "),function(e){t(e)}),t("focusin","focus"+a),t("focusout","blur"+a),s.addOutsideEvent=t}(jQuery,document,"outside"),function(d,h,y,p){y.swipebox=function(o,e){var r,s,t={useCSS:!0,useSVG:!0,initialIndexOnArray:0,removeBarsOnMobile:!0,hideCloseButtonOnMobile:!1,hideBarsDelay:3e3,videoMaxWidth:1140,vimeoColor:"cccccc",beforeOpen:null,afterOpen:null,afterClose:null,afterMedia:null,nextSlide:null,prevSlide:null,loopAtEnd:!1,autoplayVideos:!1,queryStringData:{},toggleClassOnLoad:""},a=this,m=[],l=o.selector,i=navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i),n=null!==i||h.createTouch!==p||"ontouchstart"in d||"onmsgesturechange"in d||navigator.msMaxTouchPoints,c=!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,g=d.innerWidth?d.innerWidth:y(d).width(),u=d.innerHeight?d.innerHeight:y(d).height(),v=0;a.settings={},y.swipebox.close=function(){r.closeSlide()},y.swipebox.extend=function(){return r},a.init=function(){a.settings=y.extend({},t,e),y.isArray(o)?(m=o,r.target=y(d),r.init(a.settings.initialIndexOnArray)):y(h).on("click",l,function(e){if("slide current"===e.target.parentNode.className)return!1;var t,i,n;y.isArray(o)||(r.destroy(),s=y(l),r.actions()),m=[],n||(i="data-rel",n=y(this).attr(i)),n||(i="rel",n=y(this).attr(i)),(s=n&&""!==n&&"nofollow"!==n?y(l).filter("["+i+'="'+n+'"]'):y(l)).each(function(){var e=null,t=null;y(this).attr("title")&&(e=y(this).attr("title")),y(this).attr("href")&&(t=y(this).attr("href")),m.push({href:t,title:e})}),t=s.index(y(this)),e.preventDefault(),e.stopPropagation(),r.target=y(e.target),r.init(t)})},r={init:function(e){a.settings.beforeOpen&&a.settings.beforeOpen(),this.target.trigger("swipebox-start"),y.swipebox.isOpen=!0,this.build(),this.openSlide(e),this.openMedia(e),this.preloadMedia(e+1),this.preloadMedia(e-1),a.settings.afterOpen&&a.settings.afterOpen(e)},build:function(){var e,t=this;y("body").append('<div id="swipebox-overlay">\t\t\t\t\t<div id="swipebox-container">\t\t\t\t\t\t<div id="swipebox-slider"></div>\t\t\t\t\t\t<div id="swipebox-top-bar">\t\t\t\t\t\t\t<div id="swipebox-title"></div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<div id="swipebox-bottom-bar">\t\t\t\t\t\t\t<div id="swipebox-arrows">\t\t\t\t\t\t\t\t<a id="swipebox-prev"></a>\t\t\t\t\t\t\t\t<a id="swipebox-next"></a>\t\t\t\t\t\t\t</div>\t\t\t\t\t\t</div>\t\t\t\t\t\t<a id="swipebox-close"></a>\t\t\t\t\t</div>\t\t\t</div>'),c&&!0===a.settings.useSVG&&(e=(e=y("#swipebox-close").css("background-image")).replace("png","svg"),y("#swipebox-prev, #swipebox-next, #swipebox-close").css({"background-image":e})),i&&a.settings.removeBarsOnMobile&&y("#swipebox-bottom-bar, #swipebox-top-bar").remove(),y.each(m,function(){y("#swipebox-slider").append('<div class="slide"></div>')}),t.setDim(),t.actions(),n&&t.gesture(),t.keyboard(),t.animBars(),t.resize()},setDim:function(){var e,t,i;"onorientationchange"in d?d.addEventListener("orientationchange",function(){0===d.orientation?(e=g,t=u):90!==d.orientation&&-90!==d.orientation||(e=u,t=g)},!1):(e=d.innerWidth?d.innerWidth:y(d).width(),t=d.innerHeight?d.innerHeight:y(d).height()),i={width:e,height:t},y("#swipebox-overlay").css(i)},resize:function(){var e=this;y(d).resize(function(){e.setDim()}).resize()},supportTransition:function(){var e,t="transition WebkitTransition MozTransition OTransition msTransition KhtmlTransition".split(" ");for(e=0;e<t.length;e++)if(h.createElement("div").style[t[e]]!==p)return t[e];return!1},doCssTrans:function(){if(a.settings.useCSS&&this.supportTransition())return!0},gesture:function(){var i,n,o,s,r,a,l=this,c=!1,u=!1,d={},h={},p=y("#swipebox-top-bar, #swipebox-bottom-bar"),f=y("#swipebox-slider");p.addClass("visible-bars"),l.setTimeout(),y("body").bind("touchstart",function(e){return y(this).addClass("touching"),i=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current")),h=e.originalEvent.targetTouches[0],d.pageX=e.originalEvent.targetTouches[0].pageX,d.pageY=e.originalEvent.targetTouches[0].pageY,y("#swipebox-slider").css({"-webkit-transform":"translate3d("+v+"%, 0, 0)",transform:"translate3d("+v+"%, 0, 0)"}),y(".touching").bind("touchmove",function(e){if(e.preventDefault(),e.stopPropagation(),h=e.originalEvent.targetTouches[0],!u&&(r=o,o=h.pageY-d.pageY,50<=Math.abs(o)||c)){var t=.75-Math.abs(o)/f.height();f.css({top:o+"px"}),f.css({opacity:t}),c=!0}s=n,n=h.pageX-d.pageX,a=100*n/g,!u&&!c&&10<=Math.abs(n)&&(y("#swipebox-slider").css({"-webkit-transition":"",transition:""}),u=!0),u&&(0<n?0===i?y("#swipebox-overlay").addClass("leftSpringTouch"):(y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y("#swipebox-slider").css({"-webkit-transform":"translate3d("+(v+a)+"%, 0, 0)",transform:"translate3d("+(v+a)+"%, 0, 0)"})):n<0&&(m.length===i+1?y("#swipebox-overlay").addClass("rightSpringTouch"):(y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y("#swipebox-slider").css({"-webkit-transform":"translate3d("+(v+a)+"%, 0, 0)",transform:"translate3d("+(v+a)+"%, 0, 0)"}))))}),!1}).bind("touchend",function(e){if(e.preventDefault(),e.stopPropagation(),y("#swipebox-slider").css({"-webkit-transition":"-webkit-transform 0.4s ease",transition:"transform 0.4s ease"}),o=h.pageY-d.pageY,n=h.pageX-d.pageX,a=100*n/g,c)if(c=!1,100<=Math.abs(o)&&Math.abs(o)>Math.abs(r)){var t=0<o?f.height():-f.height();f.animate({top:t+"px",opacity:0},300,function(){l.closeSlide()})}else f.animate({top:0,opacity:1},300);else u?(u=!1,10<=n&&s<=n?l.getPrev():n<=-10&&n<=s&&l.getNext()):p.hasClass("visible-bars")?(l.clearTimeout(),l.hideBars()):(l.showBars(),l.setTimeout());y("#swipebox-slider").css({"-webkit-transform":"translate3d("+v+"%, 0, 0)",transform:"translate3d("+v+"%, 0, 0)"}),y("#swipebox-overlay").removeClass("leftSpringTouch").removeClass("rightSpringTouch"),y(".touching").off("touchmove").removeClass("touching")})},setTimeout:function(){if(0<a.settings.hideBarsDelay){var e=this;e.clearTimeout(),e.timeout=d.setTimeout(function(){e.hideBars()},a.settings.hideBarsDelay)}},clearTimeout:function(){d.clearTimeout(this.timeout),this.timeout=null},showBars:function(){var e=y("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.addClass("visible-bars"):(y("#swipebox-top-bar").animate({top:0},500),y("#swipebox-bottom-bar").animate({bottom:0},500),setTimeout(function(){e.addClass("visible-bars")},1e3))},hideBars:function(){var e=y("#swipebox-top-bar, #swipebox-bottom-bar");this.doCssTrans()?e.removeClass("visible-bars"):(y("#swipebox-top-bar").animate({top:"-50px"},500),y("#swipebox-bottom-bar").animate({bottom:"-50px"},500),setTimeout(function(){e.removeClass("visible-bars")},1e3))},animBars:function(){var e=this,t=y("#swipebox-top-bar, #swipebox-bottom-bar");t.addClass("visible-bars"),e.setTimeout(),y("#swipebox-slider").click(function(){t.hasClass("visible-bars")||(e.showBars(),e.setTimeout())}),y("#swipebox-bottom-bar").hover(function(){e.showBars(),t.addClass("visible-bars"),e.clearTimeout()},function(){0<a.settings.hideBarsDelay&&(t.removeClass("visible-bars"),e.setTimeout())})},keyboard:function(){var t=this;y(d).bind("keyup",function(e){e.preventDefault(),e.stopPropagation(),37===e.keyCode?t.getPrev():39===e.keyCode?t.getNext():27===e.keyCode&&t.closeSlide()})},actions:function(){var t=this,e="touchend click";m.length<2?(y("#swipebox-bottom-bar").hide(),p===m[1]&&y("#swipebox-top-bar").hide()):(y("#swipebox-prev").bind(e,function(e){e.preventDefault(),e.stopPropagation(),t.getPrev(),t.setTimeout()}),y("#swipebox-next").bind(e,function(e){e.preventDefault(),e.stopPropagation(),t.getNext(),t.setTimeout()})),y("#swipebox-close").bind(e,function(){t.closeSlide()})},setSlide:function(e,t){t=t||!1;var i=y("#swipebox-slider");v=100*-e,this.doCssTrans()?i.css({"-webkit-transform":"translate3d("+100*-e+"%, 0, 0)",transform:"translate3d("+100*-e+"%, 0, 0)"}):i.animate({left:100*-e+"%"}),y("#swipebox-slider .slide").removeClass("current"),y("#swipebox-slider .slide").eq(e).addClass("current"),this.setTitle(e),t&&i.fadeIn(),y("#swipebox-prev, #swipebox-next").removeClass("disabled"),0===e?y("#swipebox-prev").addClass("disabled"):e===m.length-1&&!0!==a.settings.loopAtEnd&&y("#swipebox-next").addClass("disabled")},openSlide:function(e){y("html").addClass("swipebox-html"),n?(y("html").addClass("swipebox-touch"),a.settings.hideCloseButtonOnMobile&&y("html").addClass("swipebox-no-close-button")):y("html").addClass("swipebox-no-touch"),y(d).trigger("resize"),this.setSlide(e,!0)},preloadMedia:function(e){var t=this,i=null;m[e]!==p&&(i=m[e].href),t.isVideo(i)?t.openMedia(e):setTimeout(function(){t.openMedia(e)},1e3)},openMedia:function(e){var t,i;if(m[e]!==p&&(t=m[e].href),e<0||e>=m.length)return!1;i=y("#swipebox-slider .slide").eq(e),this.isVideo(t)?(i.html(this.getVideo(t)),a.settings.afterMedia&&a.settings.afterMedia(e)):(i.addClass("slide-loading"),this.loadMedia(t,function(){i.removeClass("slide-loading"),i.html(this),a.settings.afterMedia&&a.settings.afterMedia(e)}))},setTitle:function(e){var t=null;y("#swipebox-title").empty(),m[e]!==p&&(t=m[e].title),t?(y("#swipebox-top-bar").show(),y("#swipebox-title").append(t)):y("#swipebox-top-bar").hide()},isVideo:function(e){if(e){if(e.match(/(youtube\.com|youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/)||e.match(/vimeo\.com\/([0-9]*)/)||e.match(/youtu\.be\/([a-zA-Z0-9\-_]+)/))return!0;if(0<=e.toLowerCase().indexOf("swipeboxvideo=1"))return!0}},parseUri:function(e,t){var i=h.createElement("a"),n={};return i.href=decodeURIComponent(e),i.search&&(n=JSON.parse('{"'+i.search.toLowerCase().replace("?","").replace(/&/g,'","').replace(/=/g,'":"')+'"}')),y.isPlainObject(t)&&(n=y.extend(n,t,a.settings.queryStringData)),y.map(n,function(e,t){if(e&&""<e)return encodeURIComponent(t)+"="+encodeURIComponent(e)}).join("&")},getVideo:function(e){var t="",i=e.match(/((?:www\.)?youtube\.com|(?:www\.)?youtube-nocookie\.com)\/watch\?v=([a-zA-Z0-9\-_]+)/),n=e.match(/(?:www\.)?youtu\.be\/([a-zA-Z0-9\-_]+)/),o=e.match(/(?:www\.)?vimeo\.com\/([0-9]*)/),s="";return i||n?(n&&(i=n),s=r.parseUri(e,{autoplay:a.settings.autoplayVideos?"1":"0",v:""}),t='<iframe width="560" height="315" src="//'+i[1]+"/embed/"+i[2]+"?"+s+'" frameborder="0" allowfullscreen></iframe>'):o?(s=r.parseUri(e,{autoplay:a.settings.autoplayVideos?"1":"0",byline:"0",portrait:"0",color:a.settings.vimeoColor}),t='<iframe width="560" height="315"  src="//player.vimeo.com/video/'+o[1]+"?"+s+'" frameborder="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'):t='<iframe width="560" height="315" src="'+e+'" frameborder="0" allowfullscreen></iframe>','<div class="swipebox-video-container" style="max-width:'+a.settings.videoMaxWidth+'px"><div class="swipebox-video">'+t+"</div></div>"},loadMedia:function(e,t){if(0===e.trim().indexOf("#"))t.call(y("<div>",{class:"swipebox-inline-container"}).append(y(e).clone().toggleClass(a.settings.toggleClassOnLoad)));else if(!this.isVideo(e)){var i=y("<img>").on("load",function(){t.call(i)});i.attr("src",e)}},getNext:function(){var e,t=this,i=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current"));i+1<m.length?(e=y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src",e),i++,t.setSlide(i),t.preloadMedia(i+1),a.settings.nextSlide&&a.settings.nextSlide(i)):!0===a.settings.loopAtEnd?(e=y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(i).contents().find("iframe").attr("src",e),i=0,t.preloadMedia(i),t.setSlide(i),t.preloadMedia(i+1),a.settings.nextSlide&&a.settings.nextSlide(i)):(y("#swipebox-overlay").addClass("rightSpring"),setTimeout(function(){y("#swipebox-overlay").removeClass("rightSpring")},500))},getPrev:function(){var e,t=y("#swipebox-slider .slide").index(y("#swipebox-slider .slide.current"));0<t?(e=y("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src"),y("#swipebox-slider .slide").eq(t).contents().find("iframe").attr("src",e),t--,this.setSlide(t),this.preloadMedia(t-1),a.settings.prevSlide&&a.settings.prevSlide(t)):(y("#swipebox-overlay").addClass("leftSpring"),setTimeout(function(){y("#swipebox-overlay").removeClass("leftSpring")},500))},nextSlide:function(e){},prevSlide:function(e){},closeSlide:function(){y("html").removeClass("swipebox-html"),y("html").removeClass("swipebox-touch"),y(d).trigger("resize"),this.destroy()},destroy:function(){y(d).unbind("keyup"),y("body").unbind("touchstart"),y("body").unbind("touchmove"),y("body").unbind("touchend"),y("#swipebox-slider").unbind(),y("#swipebox-overlay").remove(),y.isArray(o)||o.removeData("_swipebox"),this.target&&this.target.trigger("swipebox-destroy"),y.swipebox.isOpen=!1,a.settings.afterClose&&a.settings.afterClose()}},a.init()},y.fn.swipebox=function(e){if(!y.data(this,"_swipebox")){var t=new y.swipebox(this,e);this.data("_swipebox",t)}return this.data("_swipebox")}}(window,document,jQuery),function(){var t,e={},i=null,n=null,o=null,s=null,d={},h=window.devicePixelRatio||1,p=16*h,r={width:7,height:9,font:10*h+"px arial",colour:"#ffffff",background:"#F03D25",fallback:!0,crossOrigin:!0,abbreviate:!0},a=(t=navigator.userAgent.toLowerCase(),function(e){return-1!==t.indexOf(e)}),l=a("msie"),f=(a("chrome"),a("chrome")||a("safari")),c=a("safari")&&!a("chrome"),m=a("mozilla")&&!a("chrome")&&!a("safari"),u=function(){if(!n||!i){var e=function(){for(var e=document.getElementsByTagName("link"),t=0,i=e.length;t<i;t++)if((e[t].getAttribute("rel")||"").match(/\bicon\b/))return e[t];return!1}();n=i=e?e.getAttribute("href"):"/favicon.ico"}return i},g=function(){return s||((s=document.createElement("canvas")).width=p,s.height=p),s},v=function(e){!function(){for(var e=document.getElementsByTagName("link"),t=document.getElementsByTagName("head")[0],i=0,n=e.length;i<n;i++)void 0!==e[i]&&(e[i].getAttribute("rel")||"").match(/\bicon\b/)&&t.removeChild(e[i])}();var t=document.createElement("link");t.type="image/x-icon",t.rel="icon",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)},y=function(e){if(d.fallback){var t=document.title;"("===t[0]&&(t=t.slice(t.indexOf(" "))),document.title=0<(e+"").length?"("+e+") "+t:t}},b=function(e,t,i){"number"==typeof t&&99<t&&d.abbreviate&&(t=k(t));var n=(t+"").length-1,o=d.width*h+6*h*n,s=d.height*h,r=p-s,a=p-o-h,l=16*h,c=16*h,u=2*h;e.font=(f?"bold ":"")+d.font,e.fillStyle=d.background,e.strokeStyle=d.background,e.lineWidth=h,e.beginPath(),e.moveTo(a+u,r),e.quadraticCurveTo(a,r,a,r+u),e.lineTo(a,l-u),e.quadraticCurveTo(a,l,a+u,l),e.lineTo(c-u,l),e.quadraticCurveTo(c,l,c,l-u),e.lineTo(c,r+u),e.quadraticCurveTo(c,r,c-u,r),e.closePath(),e.fill(),e.beginPath(),e.strokeStyle="rgba(0,0,0,0.3)",e.moveTo(a+u/2,l),e.lineTo(c-u/2,l),e.stroke(),e.fillStyle=d.colour,e.textAlign="right",e.textBaseline="top",e.fillText(t,2===h?29:15,m?7*h:6*h)},w=function(){g().getContext&&v(g().toDataURL())},k=function(e){for(var t=[["G",1e9],["M",1e6],["k",1e3]],i=0;i<t.length;++i)if(e>=t[i][1]){e=x(e/t[i][1])+t[i][0];break}return e},x=function(e,t){return new Number(e).toFixed(t)};e.setOptions=function(e){for(var t in d={},r)d[t]=e.hasOwnProperty(t)?e[t]:r[t];return this},e.setImage=function(e){return i=e,w(),this},e.setBubble=function(e,t){return function(e,t){if(!g().getContext||l||c||"force"===d.fallback)return y(e);var i=g().getContext("2d"),n=(t=t||"#000000",u());(o=document.createElement("img")).onload=function(){i.clearRect(0,0,p,p),i.drawImage(o,0,0,o.width,o.height,0,0,p,p),0<(e+"").length&&b(i,e,t),w()},!n.match(/^data/)&&d.crossOrigin&&(o.crossOrigin="anonymous"),o.src=n}(e=e||"",t),this},e.reset=function(){v(n)},e.setOptions(r),window.Tinycon=e,"function"==typeof define&&define.amd&&define(e)}(),"object"==typeof navigator&&function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("Plyr",t):e.Plyr=t()}(this,function(){"use strict";function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function e(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i=[],n=!0,o=!1,s=void 0;try{for(var r,a=e[Symbol.iterator]();!(n=(r=a.next()).done)&&(i.push(r.value),!t||i.length!==t);n=!0);}catch(e){o=!0,s=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw s}}return i}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var t=function(e){return null!=e?e.constructor:null},i=function(e,t){return Boolean(e&&t&&e instanceof t)},o=function(e){return null==e},r=function(e){return t(e)===Object},l=function(e){return t(e)===String},c=function(e){return Array.isArray(e)},d=function(e){return i(e,NodeList)},h=function(e){return o(e)||(l(e)||c(e)||d(e))&&!e.length||r(e)&&!Object.keys(e).length},m={nullOrUndefined:o,object:r,number:function(e){return t(e)===Number&&!Number.isNaN(e)},string:l,boolean:function(e){return t(e)===Boolean},function:function(e){return t(e)===Function},array:c,weakMap:function(e){return i(e,WeakMap)},nodeList:d,element:function(e){return i(e,Element)},textNode:function(e){return t(e)===Text},event:function(e){return i(e,Event)},keyboardEvent:function(e){return i(e,KeyboardEvent)},cue:function(e){return i(e,window.TextTrackCue)||i(e,window.VTTCue)},track:function(e){return i(e,TextTrack)||!o(e)&&l(e.kind)},url:function(e){if(i(e,window.URL))return!0;if(!l(e))return!1;var t=e;e.startsWith("http://")&&e.startsWith("https://")||(t="http://".concat(e));try{return!h(new URL(t).hostname)}catch(e){return!1}},empty:h},f=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,null}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(e){}return e}();function g(t,e,i){var n=this,o=3<arguments.length&&void 0!==arguments[3]&&arguments[3],s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(t&&"addEventListener"in t&&!m.empty(e)&&m.function(i)){var a=e.split(" "),l=r;f&&(l={passive:s,capture:r}),a.forEach(function(e){n&&n.eventListeners&&o&&n.eventListeners.push({element:t,type:e,callback:i,options:l}),t[o?"addEventListener":"removeEventListener"](e,i,l)})}}function v(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length?arguments[2]:void 0,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];g.call(this,e,t,i,!0,n,o)}function y(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length?arguments[2]:void 0,n=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],o=4<arguments.length&&void 0!==arguments[4]&&arguments[4];g.call(this,e,t,i,!1,n,o)}function b(o){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",r=2<arguments.length?arguments[2]:void 0,a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],l=4<arguments.length&&void 0!==arguments[4]&&arguments[4];g.call(this,o,s,function e(){y(o,s,e,a,l);for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];r.apply(this,i)},!0,a,l)}function w(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};if(m.element(e)&&!m.empty(t)){var o=new CustomEvent(t,{bubbles:i,detail:Object.assign({},n,{plyr:this})});e.dispatchEvent(o)}}function k(e,s){var t=e.length?e:[e];Array.from(t).reverse().forEach(function(e,t){var i=0<t?s.cloneNode(!0):s,n=e.parentNode,o=e.nextSibling;i.appendChild(e),o?n.insertBefore(i,o):n.appendChild(i)})}function x(o,e){m.element(o)&&!m.empty(e)&&Object.entries(e).filter(function(e){var t=p(e,2)[1];return!m.nullOrUndefined(t)}).forEach(function(e){var t=p(e,2),i=t[0],n=t[1];return o.setAttribute(i,n)})}function C(e,t,i){var n=document.createElement(e);return m.object(t)&&x(n,t),m.string(i)&&(n.innerText=i),n}function T(e,t,i,n){m.element(t)&&t.appendChild(C(e,i,n))}function E(e){m.nodeList(e)||m.array(e)?Array.from(e).forEach(E):m.element(e)&&m.element(e.parentNode)&&e.parentNode.removeChild(e)}function S(e){if(m.element(e))for(var t=e.childNodes.length;0<t;)e.removeChild(e.lastChild),t-=1}function A(e,t){return m.element(t)&&m.element(t.parentNode)&&m.element(e)?(t.parentNode.replaceChild(e,t),e):null}function _(e,t){if(!m.string(e)||m.empty(e))return{};var r={},a=t;return e.split(",").forEach(function(e){var t=e.trim(),i=t.replace(".",""),n=t.replace(/[[\]]/g,"").split("="),o=n[0],s=1<n.length?n[1].replace(/["']/g,""):"";switch(t.charAt(0)){case".":m.object(a)&&m.string(a.class)&&(a.class+=" ".concat(i)),r.class=i;break;case"#":r.id=t.replace("#","");break;case"[":r[o]=s}}),r}function P(e,t){if(m.element(e)){var i=t;m.boolean(i)||(i=!e.hidden),i?e.setAttribute("hidden",""):e.removeAttribute("hidden")}}function N(e,t,i){if(m.nodeList(e))return Array.from(e).map(function(e){return N(e,t,i)});if(m.element(e)){var n="toggle";return void 0!==i&&(n=i?"add":"remove"),e.classList[n](t),e.classList.contains(t)}return!1}function L(e,t){return m.element(e)&&e.classList.contains(t)}function D(e,t){var i={Element:Element};return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(){return Array.from(document.querySelectorAll(t)).includes(this)}).call(e,t)}function M(e){return this.elements.container.querySelectorAll(e)}function I(e){return this.elements.container.querySelector(e)}function F(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];m.element(e)&&(e.focus(),t&&N(e,this.config.classNames.tabFocus))}var j,O,H,q=(j=document.createElement("span"),O={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},H=Object.keys(O).find(function(e){return void 0!==j.style[e]}),!!m.string(H)&&O[H]);function $(e){setTimeout(function(){try{P(e,!0),e.offsetHeight,P(e,!1)}catch(e){}},0)}var R,W={isIE:!!document.documentMode,isWebkit:"WebkitAppearance"in document.documentElement.style&&!/Edge/.test(navigator.userAgent),isIPhone:/(iPhone|iPod)/gi.test(navigator.platform),isIos:/(iPad|iPhone|iPod)/gi.test(navigator.platform)},B={"audio/ogg":"vorbis","audio/wav":"1","video/webm":"vp8, vorbis","video/mp4":"avc1.42E01E, mp4a.40.2","video/ogg":"theora"},z={audio:"canPlayType"in document.createElement("audio"),video:"canPlayType"in document.createElement("video"),check:function(e,t,i){var n=W.isIPhone&&i&&z.playsinline,o=z[e]||"html5"!==t;return{api:o,ui:o&&z.rangeInput&&("video"!==e||!W.isIPhone||n)}},pip:!W.isIPhone&&m.function(C("video").webkitSetPresentationMode),airplay:m.function(window.WebKitPlaybackTargetAvailabilityEvent),playsinline:"playsInline"in document.createElement("video"),mime:function(e){var t,i=p(e.split("/"),1)[0];if(!this.isHTML5||i!==this.type)return!1;e&&e.includes("codecs=")?t=e:"audio/mpeg"===e?t="audio/mpeg;":e in B&&(t="".concat(e,'; codecs="').concat(B[e],'"'));try{return Boolean(t&&this.media.canPlayType(t).replace(/no/,""))}catch(e){return!1}},textTracks:"textTracks"in document.createElement("video"),rangeInput:(R=document.createElement("input"),(R.type="range")===R.type),touch:"ontouchstart"in document.documentElement,transitions:!1!==q,reducedMotion:"matchMedia"in window&&window.matchMedia("(prefers-reduced-motion)").matches},U={getSources:function(){var t=this;return this.isHTML5?Array.from(this.media.querySelectorAll("source")).filter(function(e){return z.mime.call(t,e.getAttribute("type"))}):[]},getQualityOptions:function(){return U.getSources.call(this).map(function(e){return Number(e.getAttribute("size"))}).filter(Boolean)},extend:function(){if(this.isHTML5){var a=this;Object.defineProperty(a.media,"quality",{get:function(){var e=U.getSources.call(a).find(function(e){return e.getAttribute("src")===a.source});return e&&Number(e.getAttribute("size"))},set:function(t){var e=U.getSources.call(a).find(function(e){return Number(e.getAttribute("size"))===t});if(e){var i=a.media,n=i.currentTime,o=i.paused,s=i.preload,r=i.readyState;a.media.src=e.getAttribute("src"),("none"!==s||r)&&(a.once("loadedmetadata",function(){a.currentTime=n,o||a.play()}),a.media.load()),w.call(a,a.media,"qualitychange",!1,{quality:t}),a.storage.set({quality:t})}}})}},cancelRequests:function(){this.isHTML5&&(E(U.getSources.call(this)),this.media.setAttribute("src",this.config.blankVideo),this.media.load(),this.debug.log("Cancelled network requests"))}};function V(i){return m.array(i)?i.filter(function(e,t){return i.indexOf(e)===t}):i}function Q(e,t){return t.split(".").reduce(function(e,t){return e&&e[t]},e)}function X(){for(var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length,i=new Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];if(!i.length)return t;var o=i.shift();return m.object(o)?(Object.keys(o).forEach(function(e){m.object(o[e])?(Object.keys(t).includes(e)||Object.assign(t,s({},e,{})),X(t[e],o[e])):Object.assign(t,s({},e,o[e]))}),X.apply(void 0,[t].concat(i))):t}function Y(e){for(var t=arguments.length,i=new Array(1<t?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];return m.empty(e)?e:e.toString().replace(/{(\d+)}/g,function(e,t){return i[t].toString()})}function G(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e.replace(new RegExp(t.toString().replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1"),"g"),i.toString())}function K(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString().replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})}function J(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return(e=function(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:"").toString();return G(e=K(e=G(e=G(e,"-"," "),"_"," "))," ","")}(e)).charAt(0).toLowerCase()+e.slice(1)}function Z(e){var t=document.createElement("div");return t.appendChild(e),t.innerHTML}var ee={pip:"PIP",airplay:"AirPlay",html5:"HTML5",vimeo:"Vimeo",youtube:"YouTube"},te=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if(m.empty(e)||m.empty(t))return"";var o=Q(t.i18n,e);if(m.empty(o))return Object.keys(ee).includes(e)?ee[e]:"";var i={"{seektime}":t.seekTime,"{title}":t.title};return Object.entries(i).forEach(function(e){var t=p(e,2),i=t[0],n=t[1];o=G(o,i,n)}),o},ie=function(){function n(e){u(this,n),this.enabled=e.config.storage.enabled,this.key=e.config.storage.key}return e(n,[{key:"get",value:function(e){if(!n.supported||!this.enabled)return null;var t=window.localStorage.getItem(this.key);if(m.empty(t))return null;var i=JSON.parse(t);return m.string(e)&&e.length?i[e]:i}},{key:"set",value:function(e){if(n.supported&&this.enabled&&m.object(e)){var t=this.get();m.empty(t)&&(t={}),X(t,e),window.localStorage.setItem(this.key,JSON.stringify(t))}}}],[{key:"supported",get:function(){try{if(!("localStorage"in window))return!1;var e="___test";return window.localStorage.setItem(e,e),window.localStorage.removeItem(e),!0}catch(e){return!1}}}]),n}();function ne(e){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"text";return new Promise(function(t,i){try{var n=new XMLHttpRequest;if(!("withCredentials"in n))return;n.addEventListener("load",function(){if("text"===o)try{t(JSON.parse(n.responseText))}catch(e){t(n.responseText)}else t(n.response)}),n.addEventListener("error",function(){throw new Error(n.status)}),n.open("GET",e,!0),n.responseType=o,n.send()}catch(e){i(e)}})}function oe(e,t){if(m.string(e)){var i=m.string(t),n=function(){return null!==document.getElementById(t)},o=function(e,t){e.innerHTML=t,i&&n()||document.body.insertAdjacentElement("afterbegin",e)};if(!i||!n()){var s=ie.supported,r=document.createElement("div");if(r.setAttribute("hidden",""),i&&r.setAttribute("id",t),s){var a=window.localStorage.getItem("".concat("cache","-").concat(t));if(null!==a){var l=JSON.parse(a);o(r,l.content)}}ne(e).then(function(e){m.empty(e)||(s&&window.localStorage.setItem("".concat("cache","-").concat(t),JSON.stringify({content:e})),o(r,e))}).catch(function(){})}}}var se=function(e){return parseInt(e/60/60%60,10)},re=function(e){return parseInt(e/60%60,10)},ae=function(e){return parseInt(e%60,10)};function le(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(!m.number(e))return le(null,t,i);var n=function(e){return"0".concat(e).slice(-2)},o=se(e),s=re(e),r=ae(e);return o=t||0<o?"".concat(o,":"):"","".concat(i&&0<e?"-":"").concat(o).concat(n(s),":").concat(n(r))}var ce={getIconUrl:function(){var e=new URL(this.config.iconUrl,window.location).host!==window.location.host||W.isIE&&!window.svg4everybody;return{url:this.config.iconUrl,cors:e}},findElements:function(){try{return this.elements.controls=I.call(this,this.config.selectors.controls.wrapper),this.elements.buttons={play:M.call(this,this.config.selectors.buttons.play),pause:I.call(this,this.config.selectors.buttons.pause),restart:I.call(this,this.config.selectors.buttons.restart),rewind:I.call(this,this.config.selectors.buttons.rewind),fastForward:I.call(this,this.config.selectors.buttons.fastForward),mute:I.call(this,this.config.selectors.buttons.mute),pip:I.call(this,this.config.selectors.buttons.pip),airplay:I.call(this,this.config.selectors.buttons.airplay),settings:I.call(this,this.config.selectors.buttons.settings),captions:I.call(this,this.config.selectors.buttons.captions),fullscreen:I.call(this,this.config.selectors.buttons.fullscreen)},this.elements.progress=I.call(this,this.config.selectors.progress),this.elements.inputs={seek:I.call(this,this.config.selectors.inputs.seek),volume:I.call(this,this.config.selectors.inputs.volume)},this.elements.display={buffer:I.call(this,this.config.selectors.display.buffer),currentTime:I.call(this,this.config.selectors.display.currentTime),duration:I.call(this,this.config.selectors.display.duration)},m.element(this.elements.progress)&&(this.elements.display.seekTooltip=this.elements.progress.querySelector(".".concat(this.config.classNames.tooltip))),!0}catch(e){return this.debug.warn("It looks like there is a problem with your custom controls HTML",e),this.toggleNativeControls(!0),!1}},createIcon:function(e,t){var i="http://www.w3.org/2000/svg",n=ce.getIconUrl.call(this),o="".concat(n.cors?"":n.url,"#").concat(this.config.iconPrefix),s=document.createElementNS(i,"svg");x(s,X(t,{role:"presentation",focusable:"false"}));var r=document.createElementNS(i,"use"),a="".concat(o,"-").concat(e);return"href"in r&&r.setAttributeNS("http://www.w3.org/1999/xlink","href",a),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a),s.appendChild(r),s},createLabel:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=te(e,this.config);return C("span",Object.assign({},t,{class:[t.class,this.config.classNames.hidden].filter(Boolean).join(" ")}),i)},createBadge:function(e){if(m.empty(e))return null;var t=C("span",{class:this.config.classNames.menu.value});return t.appendChild(C("span",{class:this.config.classNames.menu.badge},e)),t},createButton:function(e,t){var i=Object.assign({},t),n=J(e),o={element:"button",toggle:!1,label:null,icon:null,labelPressed:null,iconPressed:null};switch(["element","icon","label"].forEach(function(e){Object.keys(i).includes(e)&&(o[e]=i[e],delete i[e])}),"button"!==o.element||Object.keys(i).includes("type")||(i.type="button"),Object.keys(i).includes("class")?i.class.includes(this.config.classNames.control)||(i.class+=" ".concat(this.config.classNames.control)):i.class=this.config.classNames.control,e){case"play":o.toggle=!0,o.label="play",o.labelPressed="pause",o.icon="play",o.iconPressed="pause";break;case"mute":o.toggle=!0,o.label="mute",o.labelPressed="unmute",o.icon="volume",o.iconPressed="muted";break;case"captions":o.toggle=!0,o.label="enableCaptions",o.labelPressed="disableCaptions",o.icon="captions-off",o.iconPressed="captions-on";break;case"fullscreen":o.toggle=!0,o.label="enterFullscreen",o.labelPressed="exitFullscreen",o.icon="enter-fullscreen",o.iconPressed="exit-fullscreen";break;case"play-large":i.class+=" ".concat(this.config.classNames.control,"--overlaid"),n="play",o.label="play",o.icon="play";break;default:m.empty(o.label)&&(o.label=n),m.empty(o.icon)&&(o.icon=e)}var s=C(o.element);return o.toggle?(s.appendChild(ce.createIcon.call(this,o.iconPressed,{class:"icon--pressed"})),s.appendChild(ce.createIcon.call(this,o.icon,{class:"icon--not-pressed"})),s.appendChild(ce.createLabel.call(this,o.labelPressed,{class:"label--pressed"})),s.appendChild(ce.createLabel.call(this,o.label,{class:"label--not-pressed"}))):(s.appendChild(ce.createIcon.call(this,o.icon)),s.appendChild(ce.createLabel.call(this,o.label))),X(i,_(this.config.selectors.buttons[n],i)),x(s,i),"play"===n?(m.array(this.elements.buttons[n])||(this.elements.buttons[n]=[]),this.elements.buttons[n].push(s)):this.elements.buttons[n]=s,s},createRange:function(e,t){var i=C("input",X(_(this.config.selectors.inputs[e]),{type:"range",min:0,max:100,step:.01,value:0,autocomplete:"off",role:"slider","aria-label":te(e,this.config),"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":0},t));return this.elements.inputs[e]=i,ce.updateRangeFill.call(this,i),i},createProgress:function(e,t){var i=C("progress",X(_(this.config.selectors.display[e]),{min:0,max:100,value:0,role:"presentation","aria-hidden":!0},t));if("volume"!==e){i.appendChild(C("span",null,"0"));var n={played:"played",buffer:"buffered"}[e],o=n?te(n,this.config):"";i.innerText="% ".concat(o.toLowerCase())}return this.elements.display[e]=i},createTime:function(e){var t=_(this.config.selectors.display[e]),i=C("div",X(t,{class:"".concat(this.config.classNames.display.time," ").concat(t.class?t.class:"").trim(),"aria-label":te(e,this.config)}),"00:00");return this.elements.display[e]=i},bindMenuItemShortcuts:function(n,o){var s=this;v(n,"keydown keyup",function(e){if([32,38,39,40].includes(e.which)&&(e.preventDefault(),e.stopPropagation(),"keydown"!==e.type)){var t,i=D(n,'[role="menuitemradio"]');if(!i&&[32,39].includes(e.which))ce.showMenuPanel.call(s,o,!0);else 32!==e.which&&(40===e.which||i&&39===e.which?(t=n.nextElementSibling,m.element(t)||(t=n.parentNode.firstElementChild)):(t=n.previousElementSibling,m.element(t)||(t=n.parentNode.lastElementChild)),F.call(s,t,!0))}},!1),v(n,"keyup",function(e){13===e.which&&ce.focusFirstMenuItem.call(s,null,!0)})},createMenuItem:function(e){var t=this,i=e.value,n=e.list,o=e.type,s=e.title,r=e.badge,a=void 0===r?null:r,l=e.checked,c=void 0!==l&&l,u=_(this.config.selectors.inputs[o]),d=C("button",X(u,{type:"button",role:"menuitemradio",class:"".concat(this.config.classNames.control," ").concat(u.class?u.class:"").trim(),"aria-checked":c,value:i})),h=C("span");h.innerHTML=s,m.element(a)&&h.appendChild(a),d.appendChild(h),Object.defineProperty(d,"checked",{enumerable:!0,get:function(){return"true"===d.getAttribute("aria-checked")},set:function(e){e&&Array.from(d.parentNode.children).filter(function(e){return D(e,'[role="menuitemradio"]')}).forEach(function(e){return e.setAttribute("aria-checked","false")}),d.setAttribute("aria-checked",e?"true":"false")}}),this.listeners.bind(d,"click keyup",function(e){if(!m.keyboardEvent(e)||32===e.which){switch(e.preventDefault(),e.stopPropagation(),d.checked=!0,o){case"language":t.currentTrack=Number(i);break;case"quality":t.quality=i;break;case"speed":t.speed=parseFloat(i)}ce.showMenuPanel.call(t,"home",m.keyboardEvent(e))}},o,!1),ce.bindMenuItemShortcuts.call(this,d,o),n.appendChild(d)},formatTime:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return m.number(e)?le(e,0<se(this.duration),t):e},updateTimeDisplay:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];m.element(e)&&m.number(t)&&(e.innerText=ce.formatTime(t,i))},updateVolume:function(){this.supported.ui&&(m.element(this.elements.inputs.volume)&&ce.setRange.call(this,this.elements.inputs.volume,this.muted?0:this.volume),m.element(this.elements.buttons.mute)&&(this.elements.buttons.mute.pressed=this.muted||0===this.volume))},setRange:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;m.element(e)&&(e.value=t,ce.updateRangeFill.call(this,e))},updateProgress:function(e){var s=this;if(this.supported.ui&&m.event(e)){var t,i,n=0;if(e)switch(e.type){case"timeupdate":case"seeking":case"seeked":t=this.currentTime,i=this.duration,n=0===t||0===i||Number.isNaN(t)||Number.isNaN(i)?0:(t/i*100).toFixed(2),"timeupdate"===e.type&&ce.setRange.call(this,this.elements.inputs.seek,n);break;case"playing":case"progress":!function(e,t){var i=m.number(t)?t:0,n=m.element(e)?e:s.elements.display.buffer;if(m.element(n)){n.value=i;var o=n.getElementsByTagName("span")[0];m.element(o)&&(o.childNodes[0].nodeValue=i)}}(this.elements.display.buffer,100*this.buffered)}}},updateRangeFill:function(e){var t=m.event(e)?e.target:e;if(m.element(t)&&"range"===t.getAttribute("type")){if(D(t,this.config.selectors.inputs.seek)){t.setAttribute("aria-valuenow",this.currentTime);var i=ce.formatTime(this.currentTime),n=ce.formatTime(this.duration),o=te("seekLabel",this.config);t.setAttribute("aria-valuetext",o.replace("{currentTime}",i).replace("{duration}",n))}else if(D(t,this.config.selectors.inputs.volume)){var s=100*t.value;t.setAttribute("aria-valuenow",s),t.setAttribute("aria-valuetext","".concat(s.toFixed(1),"%"))}else t.setAttribute("aria-valuenow",t.value);W.isWebkit&&t.style.setProperty("--value","".concat(t.value/t.max*100,"%"))}},updateSeekTooltip:function(e){var t=this;if(this.config.tooltips.seek&&m.element(this.elements.inputs.seek)&&m.element(this.elements.display.seekTooltip)&&0!==this.duration){var i=0,n=this.elements.progress.getBoundingClientRect(),o="".concat(this.config.classNames.tooltip,"--visible"),s=function(e){N(t.elements.display.seekTooltip,o,e)};if(this.touch)s(!1);else{if(m.event(e))i=100/n.width*(e.pageX-n.left);else{if(!L(this.elements.display.seekTooltip,o))return;i=parseFloat(this.elements.display.seekTooltip.style.left,10)}i<0?i=0:100<i&&(i=100),ce.updateTimeDisplay.call(this,this.elements.display.seekTooltip,this.duration/100*i),this.elements.display.seekTooltip.style.left="".concat(i,"%"),m.event(e)&&["mouseenter","mouseleave"].includes(e.type)&&s("mouseenter"===e.type)}}},timeUpdate:function(e){var t=!m.element(this.elements.display.duration)&&this.config.invertTime;ce.updateTimeDisplay.call(this,this.elements.display.currentTime,t?this.duration-this.currentTime:this.currentTime,t),e&&"timeupdate"===e.type&&this.media.seeking||ce.updateProgress.call(this,e)},durationUpdate:function(){if(this.supported.ui&&(this.config.invertTime||!this.currentTime)){if(this.duration>=Math.pow(2,32))return P(this.elements.display.currentTime,!0),void P(this.elements.progress,!0);m.element(this.elements.inputs.seek)&&this.elements.inputs.seek.setAttribute("aria-valuemax",this.duration);var e=m.element(this.elements.display.duration);!e&&this.config.displayDuration&&this.paused&&ce.updateTimeDisplay.call(this,this.elements.display.currentTime,this.duration),e&&ce.updateTimeDisplay.call(this,this.elements.display.duration,this.duration),ce.updateSeekTooltip.call(this)}},toggleMenuButton:function(e,t){P(this.elements.settings.buttons[e],!t)},updateSetting:function(e,t,i){var n=this.elements.settings.panels[e],o=null,s=t;if("captions"===e)o=this.currentTrack;else{if(o=m.empty(i)?this[e]:i,m.empty(o)&&(o=this.config[e].default),!m.empty(this.options[e])&&!this.options[e].includes(o))return void this.debug.warn("Unsupported value of '".concat(o,"' for ").concat(e));if(!this.config[e].options.includes(o))return void this.debug.warn("Disabled value of '".concat(o,"' for ").concat(e))}if(m.element(s)||(s=n&&n.querySelector('[role="menu"]')),m.element(s)){this.elements.settings.buttons[e].querySelector(".".concat(this.config.classNames.menu.value)).innerHTML=ce.getLabel.call(this,e,o);var r=s&&s.querySelector('[value="'.concat(o,'"]'));m.element(r)&&(r.checked=!0)}},getLabel:function(e,t){switch(e){case"speed":return 1===t?te("normal",this.config):"".concat(t,"&times;");case"quality":if(m.number(t)){var i=te("qualityLabel.".concat(t),this.config);return i.length?i:"".concat(t,"p")}return K(t);case"captions":return he.getLabel.call(this);default:return null}},setQualityMenu:function(e){var n=this;if(m.element(this.elements.settings.panels.quality)){var o="quality",s=this.elements.settings.panels.quality.querySelector('[role="menu"]');m.array(e)&&(this.options.quality=V(e).filter(function(e){return n.config.quality.options.includes(e)}));var t=!m.empty(this.options.quality)&&1<this.options.quality.length;if(ce.toggleMenuButton.call(this,o,t),S(s),ce.checkMenu.call(this),t){this.options.quality.sort(function(e,t){var i=n.config.quality.options;return i.indexOf(e)>i.indexOf(t)?1:-1}).forEach(function(e){var t,i;ce.createMenuItem.call(n,{value:e,list:s,type:o,title:ce.getLabel.call(n,"quality",e),badge:(t=e,i=te("qualityBadge.".concat(t),n.config),i.length?ce.createBadge.call(n,i):null)})}),ce.updateSetting.call(this,o,s)}}},setCaptionsMenu:function(){var i=this;if(m.element(this.elements.settings.panels.captions)){var e="captions",n=this.elements.settings.panels.captions.querySelector('[role="menu"]'),t=he.getTracks.call(this),o=Boolean(t.length);if(ce.toggleMenuButton.call(this,e,o),S(n),ce.checkMenu.call(this),o){var s=t.map(function(e,t){return{value:t,checked:i.captions.toggled&&i.currentTrack===t,title:he.getLabel.call(i,e),badge:e.language&&ce.createBadge.call(i,e.language.toUpperCase()),list:n,type:"language"}});s.unshift({value:-1,checked:!this.captions.toggled,title:te("disabled",this.config),list:n,type:"language"}),s.forEach(ce.createMenuItem.bind(this)),ce.updateSetting.call(this,e,n)}}},setSpeedMenu:function(e){var t=this;if(m.element(this.elements.settings.panels.speed)){var i="speed",n=this.elements.settings.panels.speed.querySelector('[role="menu"]');m.array(e)?this.options.speed=e:(this.isHTML5||this.isVimeo)&&(this.options.speed=[.5,.75,1,1.25,1.5,1.75,2]),this.options.speed=this.options.speed.filter(function(e){return t.config.speed.options.includes(e)});var o=!m.empty(this.options.speed)&&1<this.options.speed.length;ce.toggleMenuButton.call(this,i,o),S(n),ce.checkMenu.call(this),o&&(this.options.speed.forEach(function(e){ce.createMenuItem.call(t,{value:e,list:n,type:i,title:ce.getLabel.call(t,"speed",e)})}),ce.updateSetting.call(this,i,n))}},checkMenu:function(){var e=this.elements.settings.buttons,t=!m.empty(e)&&Object.values(e).some(function(e){return!e.hidden});P(this.elements.settings.menu,!t)},focusFirstMenuItem:function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(!this.elements.settings.popup.hidden){var i=e;m.element(i)||(i=Object.values(this.elements.settings.panels).find(function(e){return!e.hidden}));var n=i.querySelector('[role^="menuitem"]');F.call(this,n,t)}},toggleMenu:function(e){var t=this.elements.settings.popup,i=this.elements.buttons.settings;if(m.element(t)&&m.element(i)){var n=t.hidden,o=n;if(m.boolean(e))o=e;else if(m.keyboardEvent(e)&&27===e.which)o=!1;else if(m.event(e)){var s=t.contains(e.target);if(s||!s&&e.target!==i&&o)return}i.setAttribute("aria-expanded",o),P(t,!o),N(this.elements.container,this.config.classNames.menu.open,o),o&&m.keyboardEvent(e)?ce.focusFirstMenuItem.call(this,null,!0):o||n||F.call(this,i,m.keyboardEvent(e))}},getMenuSize:function(e){var t=e.cloneNode(!0);t.style.position="absolute",t.style.opacity=0,t.removeAttribute("hidden"),e.parentNode.appendChild(t);var i=t.scrollWidth,n=t.scrollHeight;return E(t),{width:i,height:n}},showMenuPanel:function(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("plyr-settings-".concat(this.id,"-").concat(e));if(m.element(n)){var o=n.parentNode,s=Array.from(o.children).find(function(e){return!e.hidden});if(z.transitions&&!z.reducedMotion){o.style.width="".concat(s.scrollWidth,"px"),o.style.height="".concat(s.scrollHeight,"px");var r=ce.getMenuSize.call(this,n);v.call(this,o,q,function e(t){t.target===o&&["width","height"].includes(t.propertyName)&&(o.style.width="",o.style.height="",y.call(i,o,q,e))}),o.style.width="".concat(r.width,"px"),o.style.height="".concat(r.height,"px")}P(s,!0),P(n,!1),ce.focusFirstMenuItem.call(this,n,t)}},setDownloadLink:function(){var e=this.elements.buttons.download;m.element(e)&&e.setAttribute("href",this.download)},create:function(r){var a=this,e=C("div",_(this.config.selectors.controls.wrapper));if(this.config.controls.includes("restart")&&e.appendChild(ce.createButton.call(this,"restart")),this.config.controls.includes("rewind")&&e.appendChild(ce.createButton.call(this,"rewind")),this.config.controls.includes("play")&&e.appendChild(ce.createButton.call(this,"play")),this.config.controls.includes("fast-forward")&&e.appendChild(ce.createButton.call(this,"fast-forward")),this.config.controls.includes("progress")){var t=C("div",_(this.config.selectors.progress));if(t.appendChild(ce.createRange.call(this,"seek",{id:"plyr-seek-".concat(r.id)})),t.appendChild(ce.createProgress.call(this,"buffer")),this.config.tooltips.seek){var i=C("span",{class:this.config.classNames.tooltip},"00:00");t.appendChild(i),this.elements.display.seekTooltip=i}this.elements.progress=t,e.appendChild(this.elements.progress)}if(this.config.controls.includes("current-time")&&e.appendChild(ce.createTime.call(this,"currentTime")),this.config.controls.includes("duration")&&e.appendChild(ce.createTime.call(this,"duration")),this.config.controls.includes("mute")||this.config.controls.includes("volume")){var n=C("div",{class:"plyr__volume"});if(this.config.controls.includes("mute")&&n.appendChild(ce.createButton.call(this,"mute")),this.config.controls.includes("volume")){var o={max:1,step:.05,value:this.config.volume};n.appendChild(ce.createRange.call(this,"volume",X(o,{id:"plyr-volume-".concat(r.id)}))),this.elements.volume=n}e.appendChild(n)}if(this.config.controls.includes("captions")&&e.appendChild(ce.createButton.call(this,"captions")),this.config.controls.includes("settings")&&!m.empty(this.config.settings)){var s=C("div",{class:"plyr__menu",hidden:""});s.appendChild(ce.createButton.call(this,"settings",{"aria-haspopup":!0,"aria-controls":"plyr-settings-".concat(r.id),"aria-expanded":!1}));var l=C("div",{class:"plyr__menu__container",id:"plyr-settings-".concat(r.id),hidden:""}),c=C("div"),u=C("div",{id:"plyr-settings-".concat(r.id,"-home")}),d=C("div",{role:"menu"});u.appendChild(d),c.appendChild(u),this.elements.settings.panels.home=u,this.config.settings.forEach(function(e){var t=C("button",X(_(a.config.selectors.buttons.settings),{type:"button",class:"".concat(a.config.classNames.control," ").concat(a.config.classNames.control,"--forward"),role:"menuitem","aria-haspopup":!0,hidden:""}));ce.bindMenuItemShortcuts.call(a,t,e),v(t,"click",function(){ce.showMenuPanel.call(a,e,!1)});var i=C("span",null,te(e,a.config)),n=C("span",{class:a.config.classNames.menu.value});n.innerHTML=r[e],i.appendChild(n),t.appendChild(i),d.appendChild(t);var o=C("div",{id:"plyr-settings-".concat(r.id,"-").concat(e),hidden:""}),s=C("button",{type:"button",class:"".concat(a.config.classNames.control," ").concat(a.config.classNames.control,"--back")});s.appendChild(C("span",{"aria-hidden":!0},te(e,a.config))),s.appendChild(C("span",{class:a.config.classNames.hidden},te("menuBack",a.config))),v(o,"keydown",function(e){37===e.which&&(e.preventDefault(),e.stopPropagation(),ce.showMenuPanel.call(a,"home",!0))},!1),v(s,"click",function(){ce.showMenuPanel.call(a,"home",!1)}),o.appendChild(s),o.appendChild(C("div",{role:"menu"})),c.appendChild(o),a.elements.settings.buttons[e]=t,a.elements.settings.panels[e]=o}),l.appendChild(c),s.appendChild(l),e.appendChild(s),this.elements.settings.popup=l,this.elements.settings.menu=s}if(this.config.controls.includes("pip")&&z.pip&&e.appendChild(ce.createButton.call(this,"pip")),this.config.controls.includes("airplay")&&z.airplay&&e.appendChild(ce.createButton.call(this,"airplay")),this.config.controls.includes("download")){var h={element:"a",href:this.download,target:"_blank"},p=this.config.urls.download;!m.url(p)&&this.isEmbed&&X(h,{icon:"logo-".concat(this.provider),label:this.provider}),e.appendChild(ce.createButton.call(this,"download",h))}return this.config.controls.includes("fullscreen")&&e.appendChild(ce.createButton.call(this,"fullscreen")),this.config.controls.includes("play-large")&&this.elements.container.appendChild(ce.createButton.call(this,"play-large")),this.elements.controls=e,this.isHTML5&&ce.setQualityMenu.call(this,U.getQualityOptions.call(this)),ce.setSpeedMenu.call(this),e},inject:function(){var n=this;if(this.config.loadSprite){var e=ce.getIconUrl.call(this);e.cors&&oe(e.url,"sprite-plyr")}this.id=Math.floor(1e4*Math.random());var t=null;this.elements.controls=null;var i={id:this.id,seektime:this.config.seekTime,title:this.config.title},o=!0;m.function(this.config.controls)&&(this.config.controls=this.config.controls.call(this.props)),this.config.controls||(this.config.controls=[]),m.element(this.config.controls)||m.string(this.config.controls)?t=this.config.controls:(t=ce.create.call(this,{id:this.id,seektime:this.config.seekTime,speed:this.speed,quality:this.quality,captions:he.getLabel.call(this)}),o=!1);var s,r=function(e){var o=e;return Object.entries(i).forEach(function(e){var t=p(e,2),i=t[0],n=t[1];o=G(o,"{".concat(i,"}"),n)}),o};if(o&&(m.string(this.config.controls)?t=r(t):m.element(t)&&(t.innerHTML=r(t.innerHTML))),m.string(this.config.selectors.controls.container)&&(s=document.querySelector(this.config.selectors.controls.container)),m.element(s)||(s=this.elements.container),s[m.element(t)?"insertAdjacentElement":"insertAdjacentHTML"]("afterbegin",t),m.element(this.elements.controls)||ce.findElements.call(this),!m.empty(this.elements.buttons)){var a=function(t){var i=n.config.classNames.controlPressed;Object.defineProperty(t,"pressed",{enumerable:!0,get:function(){return L(t,i)},set:function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];N(t,i,e)}})};Object.values(this.elements.buttons).filter(Boolean).forEach(function(e){m.array(e)||m.nodeList(e)?Array.from(e).filter(Boolean).forEach(a):a(e)})}if(window.navigator.userAgent.includes("Edge")&&$(s),this.config.tooltips.controls){var l=this.config,c=l.classNames,u=l.selectors,d="".concat(u.controls.wrapper," ").concat(u.labels," .").concat(c.hidden),h=M.call(this,d);Array.from(h).forEach(function(e){N(e,n.config.classNames.hidden,!1),N(e,n.config.classNames.tooltip,!0)})}}};function ue(e){var t=e;if(!(1<arguments.length&&void 0!==arguments[1])||arguments[1]){var i=document.createElement("a");i.href=t,t=i.href}try{return new URL(t)}catch(e){return null}}function de(e){var o=new URLSearchParams;return m.object(e)&&Object.entries(e).forEach(function(e){var t=p(e,2),i=t[0],n=t[1];o.set(i,n)}),o}var he={setup:function(){if(this.supported.ui)if(!this.isVideo||this.isYouTube||this.isHTML5&&!z.textTracks)m.array(this.config.controls)&&this.config.controls.includes("settings")&&this.config.settings.includes("captions")&&ce.setCaptionsMenu.call(this);else{var e,t;if(m.element(this.elements.captions)||(this.elements.captions=C("div",_(this.config.selectors.captions)),e=this.elements.captions,t=this.elements.wrapper,m.element(e)&&m.element(t)&&t.parentNode.insertBefore(e,t.nextSibling)),W.isIE&&window.URL){var i=this.media.querySelectorAll("track");Array.from(i).forEach(function(t){var e=t.getAttribute("src"),i=ue(e);null!==i&&i.hostname!==window.location.href.hostname&&["http:","https:"].includes(i.protocol)&&ne(e,"blob").then(function(e){t.setAttribute("src",window.URL.createObjectURL(e))}).catch(function(){E(t)})})}var n=V((navigator.languages||[navigator.language||navigator.userLanguage||"en"]).map(function(e){return e.split("-")[0]})),o=(this.storage.get("language")||this.config.captions.language||"auto").toLowerCase();if("auto"===o)o=p(n,1)[0];var s=this.storage.get("captions");if(m.boolean(s)||(s=this.config.captions.active),Object.assign(this.captions,{toggled:!1,active:s,language:o,languages:n}),this.isHTML5){var r=this.config.captions.update?"addtrack removetrack":"removetrack";v.call(this,this.media.textTracks,r,he.update.bind(this))}setTimeout(he.update.bind(this),0)}},update:function(){var t=this,e=he.getTracks.call(this,!0),i=this.captions,n=i.active,o=i.language,s=i.meta,r=i.currentTrackNode,a=Boolean(e.find(function(e){return e.language===o}));this.isHTML5&&this.isVideo&&e.filter(function(e){return!s.get(e)}).forEach(function(e){t.debug.log("Track added",e),s.set(e,{default:"showing"===e.mode}),e.mode="hidden",v.call(t,e,"cuechange",function(){return he.updateCues.call(t)})}),(a&&this.language!==o||!e.includes(r))&&(he.setLanguage.call(this,o),he.toggle.call(this,n&&a)),N(this.elements.container,this.config.classNames.captions.enabled,!m.empty(e)),(this.config.controls||[]).includes("settings")&&this.config.settings.includes("captions")&&ce.setCaptionsMenu.call(this)},toggle:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(this.supported.ui){var i=this.captions.toggled,n=this.config.classNames.captions.active,o=m.nullOrUndefined(e)?!i:e;if(o!==i){if(t||(this.captions.active=o,this.storage.set({captions:o})),!this.language&&o&&!t){var s=he.getTracks.call(this),r=he.findTrack.call(this,[this.captions.language].concat(a(this.captions.languages)),!0);return this.captions.language=r.language,void he.set.call(this,s.indexOf(r))}this.elements.buttons.captions&&(this.elements.buttons.captions.pressed=o),N(this.elements.container,n,o),this.captions.toggled=o,ce.updateSetting.call(this,"captions"),w.call(this,this.media,o?"captionsenabled":"captionsdisabled")}}},set:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1],i=he.getTracks.call(this);if(-1!==e)if(m.number(e))if(e in i){if(this.captions.currentTrack!==e){var n=i[this.captions.currentTrack=e],o=(n||{}).language;this.captions.currentTrackNode=n,ce.updateSetting.call(this,"captions"),t||(this.captions.language=o,this.storage.set({language:o})),this.isVimeo&&this.embed.enableTextTrack(o),w.call(this,this.media,"languagechange")}he.toggle.call(this,!0,t),this.isHTML5&&this.isVideo&&he.updateCues.call(this)}else this.debug.warn("Track not found",e);else this.debug.warn("Invalid caption argument",e);else he.toggle.call(this,!1,t)},setLanguage:function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];if(m.string(e)){var i=e.toLowerCase();this.captions.language=i;var n=he.getTracks.call(this),o=he.findTrack.call(this,[i]);he.set.call(this,n.indexOf(o),t)}else this.debug.warn("Invalid language argument",e)},getTracks:function(){var t=this,i=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return Array.from((this.media||{}).textTracks||[]).filter(function(e){return!t.isHTML5||i||t.captions.meta.has(e)}).filter(function(e){return["captions","subtitles"].includes(e.kind)})},findTrack:function(e){var i,t=this,n=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=he.getTracks.call(this),s=function(e){return Number((t.captions.meta.get(e)||{}).default)},r=Array.from(o).sort(function(e,t){return s(t)-s(e)});return e.every(function(t){return!(i=r.find(function(e){return e.language===t}))}),i||(n?r[0]:void 0)},getCurrentTrack:function(){return he.getTracks.call(this)[this.currentTrack]},getLabel:function(e){var t=e;return!m.track(t)&&z.textTracks&&this.captions.toggled&&(t=he.getCurrentTrack.call(this)),m.track(t)?m.empty(t.label)?m.empty(t.language)?te("enabled",this.config):e.language.toUpperCase():t.label:te("disabled",this.config)},updateCues:function(e){if(this.supported.ui)if(m.element(this.elements.captions))if(m.nullOrUndefined(e)||Array.isArray(e)){var t=e;if(!t){var i=he.getCurrentTrack.call(this);t=Array.from((i||{}).activeCues||[]).map(function(e){return e.getCueAsHTML()}).map(Z)}var n=t.map(function(e){return e.trim()}).join("\n");if(n!==this.elements.captions.innerHTML){S(this.elements.captions);var o=C("span",_(this.config.selectors.caption));o.innerHTML=n,this.elements.captions.appendChild(o),w.call(this,this.media,"cuechange")}}else this.debug.warn("updateCues: Invalid input",e);else this.debug.warn("No captions element to render to")}},pe={enabled:!0,title:"",debug:!1,autoplay:!1,autopause:!0,playsinline:!0,seekTime:10,volume:1,muted:!1,duration:null,displayDuration:!0,invertTime:!0,toggleInvert:!0,ratio:"16:9",clickToPlay:!0,hideControls:!0,resetOnEnd:!1,disableContextMenu:!0,loadSprite:!0,iconPrefix:"plyr",iconUrl:"https://cdn.plyr.io/3.3.12/plyr.svg",blankVideo:"https://cdn.plyr.io/static/blank.mp4",quality:{default:576,options:[4320,2880,2160,1440,1080,720,576,480,360,240]},loop:{active:!1},speed:{selected:1,options:[.5,.75,1,1.25,1.5,1.75,2]},keyboard:{focused:!0,global:!1},tooltips:{controls:!1,seek:!0},captions:{active:!1,language:"auto",update:!1},fullscreen:{enabled:!0,fallback:!0,iosNative:!1},storage:{enabled:!0,key:"plyr"},controls:["play-large","play","progress","current-time","mute","volume","captions","settings","pip","airplay","fullscreen"],settings:["captions","quality","speed"],i18n:{restart:"Restart",rewind:"Rewind {seektime}s",play:"Play",pause:"Pause",fastForward:"Forward {seektime}s",seek:"Seek",seekLabel:"{currentTime} of {duration}",played:"Played",buffered:"Buffered",currentTime:"Current time",duration:"Duration",volume:"Volume",mute:"Mute",unmute:"Unmute",enableCaptions:"Enable captions",disableCaptions:"Disable captions",download:"Download",enterFullscreen:"Enter fullscreen",exitFullscreen:"Exit fullscreen",frameTitle:"Player for {title}",captions:"Captions",settings:"Settings",menuBack:"Go back to previous menu",speed:"Speed",normal:"Normal",quality:"Quality",loop:"Loop",start:"Start",end:"End",all:"All",reset:"Reset",disabled:"Disabled",enabled:"Enabled",advertisement:"Ad",qualityBadge:{2160:"4K",1440:"HD",1080:"HD",720:"HD",576:"SD",480:"SD"}},urls:{download:null,vimeo:{sdk:"https://player.vimeo.com/api/player.js",iframe:"https://player.vimeo.com/video/{0}?{1}",api:"https://vimeo.com/api/v2/video/{0}.json"},youtube:{sdk:"https://www.youtube.com/iframe_api",api:"https://www.googleapis.com/youtube/v3/videos?id={0}&key={1}&fields=items(snippet(title))&part=snippet"},googleIMA:{sdk:"https://imasdk.googleapis.com/js/sdkloader/ima3.js"}},listeners:{seek:null,play:null,pause:null,restart:null,rewind:null,fastForward:null,mute:null,volume:null,captions:null,download:null,fullscreen:null,pip:null,airplay:null,speed:null,quality:null,loop:null,language:null},events:["ended","progress","stalled","playing","waiting","canplay","canplaythrough","loadstart","loadeddata","loadedmetadata","timeupdate","volumechange","play","pause","error","seeking","seeked","emptied","ratechange","cuechange","download","enterfullscreen","exitfullscreen","captionsenabled","captionsdisabled","languagechange","controlshidden","controlsshown","ready","statechange","qualitychange","adsloaded","adscontentpause","adscontentresume","adstarted","adsmidpoint","adscomplete","adsallcomplete","adsimpression","adsclick"],selectors:{editable:"input, textarea, select, [contenteditable]",container:".plyr",controls:{container:null,wrapper:".plyr__controls"},labels:"[data-plyr]",buttons:{play:'[data-plyr="play"]',pause:'[data-plyr="pause"]',restart:'[data-plyr="restart"]',rewind:'[data-plyr="rewind"]',fastForward:'[data-plyr="fast-forward"]',mute:'[data-plyr="mute"]',captions:'[data-plyr="captions"]',download:'[data-plyr="download"]',fullscreen:'[data-plyr="fullscreen"]',pip:'[data-plyr="pip"]',airplay:'[data-plyr="airplay"]',settings:'[data-plyr="settings"]',loop:'[data-plyr="loop"]'},inputs:{seek:'[data-plyr="seek"]',volume:'[data-plyr="volume"]',speed:'[data-plyr="speed"]',language:'[data-plyr="language"]',quality:'[data-plyr="quality"]'},display:{currentTime:".plyr__time--current",duration:".plyr__time--duration",buffer:".plyr__progress__buffer",loop:".plyr__progress__loop",volume:".plyr__volume--display"},progress:".plyr__progress",captions:".plyr__captions",caption:".plyr__caption",menu:{quality:".js-plyr__menu__list--quality"}},classNames:{type:"plyr--{0}",provider:"plyr--{0}",video:"plyr__video-wrapper",embed:"plyr__video-embed",embedContainer:"plyr__video-embed__container",poster:"plyr__poster",posterEnabled:"plyr__poster-enabled",ads:"plyr__ads",control:"plyr__control",controlPressed:"plyr__control--pressed",playing:"plyr--playing",paused:"plyr--paused",stopped:"plyr--stopped",loading:"plyr--loading",hover:"plyr--hover",tooltip:"plyr__tooltip",cues:"plyr__cues",hidden:"plyr__sr-only",hideControls:"plyr--hide-controls",isIos:"plyr--is-ios",isTouch:"plyr--is-touch",uiSupported:"plyr--full-ui",noTransition:"plyr--no-transition",display:{time:"plyr__time"},menu:{value:"plyr__menu__value",badge:"plyr__badge",open:"plyr--menu-open"},captions:{enabled:"plyr--captions-enabled",active:"plyr--captions-active"},fullscreen:{enabled:"plyr--fullscreen-enabled",fallback:"plyr--fullscreen-fallback"},pip:{supported:"plyr--pip-supported",active:"plyr--pip-active"},airplay:{supported:"plyr--airplay-supported",active:"plyr--airplay-active"},tabFocus:"plyr__tab-focus"},attributes:{embed:{provider:"data-plyr-provider",id:"data-plyr-embed-id"}},keys:{google:null},ads:{enabled:!1,publisherId:""}},fe={html5:"html5",youtube:"youtube",vimeo:"vimeo"},me="audio",ge="video";var ve=function(){},ye=function(){function t(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];u(this,t),this.enabled=window.console&&e,this.enabled&&this.log("Debugging enabled")}return e(t,[{key:"log",get:function(){return this.enabled?Function.prototype.bind.call(console.log,console):ve}},{key:"warn",get:function(){return this.enabled?Function.prototype.bind.call(console.warn,console):ve}},{key:"error",get:function(){return this.enabled?Function.prototype.bind.call(console.error,console):ve}}]),t}();function be(){if(this.enabled){var e=this.player.elements.buttons.fullscreen;m.element(e)&&(e.pressed=this.active),w.call(this.player,this.target,this.active?"enterfullscreen":"exitfullscreen",!0),W.isIos||function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(m.element(e)){var i=M.call(this,"button:not(:disabled), input:not(:disabled), [tabindex]"),n=i[0],o=i[i.length-1];g.call(this,this.elements.container,"keydown",function(e){if("Tab"===e.key&&9===e.keyCode){var t=document.activeElement;t!==o||e.shiftKey?t===n&&e.shiftKey&&(o.focus(),e.preventDefault()):(n.focus(),e.preventDefault())}},t,!1)}}.call(this.player,this.target,this.active)}}function we(){var e=this,t=0<arguments.length&&void 0!==arguments[0]&&arguments[0];if(t?this.scrollPosition={x:window.scrollX||0,y:window.scrollY||0}:window.scrollTo(this.scrollPosition.x,this.scrollPosition.y),document.body.style.overflow=t?"hidden":"",N(this.target,this.player.config.classNames.fullscreen.fallback,t),W.isIos){var i=document.head.querySelector('meta[name="viewport"]'),n="viewport-fit=cover";i||(i=document.createElement("meta")).setAttribute("name","viewport");var o=m.string(i.content)&&i.content.includes(n);t?(this.cleanupViewport=!o,o||(i.content+=",".concat(n))):this.cleanupViewport&&(i.content=i.content.split(",").filter(function(e){return e.trim()!==n}).join(",")),setTimeout(function(){return $(e.target)},100)}be.call(this)}var ke=function(){function i(e){var t=this;u(this,i),this.player=e,this.prefix=i.prefix,this.property=i.property,this.scrollPosition={x:0,y:0},v.call(this.player,document,"ms"===this.prefix?"MSFullscreenChange":"".concat(this.prefix,"fullscreenchange"),function(){be.call(t)}),v.call(this.player,this.player.elements.container,"dblclick",function(e){m.element(t.player.elements.controls)&&t.player.elements.controls.contains(e.target)||t.toggle()}),this.update()}return e(i,[{key:"update",value:function(){this.enabled?this.player.debug.log("".concat(i.native?"Native":"Fallback"," fullscreen enabled")):this.player.debug.log("Fullscreen not supported and fallback disabled"),N(this.player.elements.container,this.player.config.classNames.fullscreen.enabled,this.enabled)}},{key:"enter",value:function(){this.enabled&&(W.isIos&&this.player.config.fullscreen.iosNative?this.target.webkitEnterFullscreen():i.native?this.prefix?m.empty(this.prefix)||this.target["".concat(this.prefix,"Request").concat(this.property)]():this.target.requestFullscreen():we.call(this,!0))}},{key:"exit",value:function(){if(this.enabled)if(W.isIos&&this.player.config.fullscreen.iosNative)this.target.webkitExitFullscreen(),this.player.play();else if(i.native)if(this.prefix){if(!m.empty(this.prefix)){var e="moz"===this.prefix?"Cancel":"Exit";document["".concat(this.prefix).concat(e).concat(this.property)]()}}else(document.cancelFullScreen||document.exitFullscreen).call(document);else we.call(this,!1)}},{key:"toggle",value:function(){this.active?this.exit():this.enter()}},{key:"enabled",get:function(){return(i.native||this.player.config.fullscreen.fallback)&&this.player.config.fullscreen.enabled&&this.player.supported.ui&&this.player.isVideo}},{key:"active",get:function(){return!!this.enabled&&(i.native?(this.prefix?document["".concat(this.prefix).concat(this.property,"Element")]:document.fullscreenElement)===this.target:L(this.target,this.player.config.classNames.fullscreen.fallback))}},{key:"target",get:function(){return W.isIos&&this.player.config.fullscreen.iosNative?this.player.media:this.player.elements.container}}],[{key:"native",get:function(){return!!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)}},{key:"prefix",get:function(){if(m.function(document.exitFullscreen))return"";var t="";return["webkit","moz","ms"].some(function(e){return!(!m.function(document["".concat(e,"ExitFullscreen")])&&!m.function(document["".concat(e,"CancelFullScreen")]))&&(t=e,!0)}),t}},{key:"property",get:function(){return"moz"===this.prefix?"FullScreen":"Fullscreen"}}]),i}();function xe(o){var s=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return new Promise(function(e,t){var i=new Image,n=function(){delete i.onload,delete i.onerror,(i.naturalWidth>=s?e:t)(i)};Object.assign(i,{onload:n,onerror:n,src:o})})}var Ce={addStyleHook:function(){N(this.elements.container,this.config.selectors.container.replace(".",""),!0),N(this.elements.container,this.config.classNames.uiSupported,this.supported.ui)},toggleNativeControls:function(){0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&this.isHTML5?this.media.setAttribute("controls",""):this.media.removeAttribute("controls")},build:function(){var e=this;if(this.listeners.media(),!this.supported.ui)return this.debug.warn("Basic support only for ".concat(this.provider," ").concat(this.type)),void Ce.toggleNativeControls.call(this,!0);m.element(this.elements.controls)||(ce.inject.call(this),this.listeners.controls()),Ce.toggleNativeControls.call(this),this.isHTML5&&he.setup.call(this),this.volume=null,this.muted=null,this.speed=null,this.loop=null,this.quality=null,ce.updateVolume.call(this),ce.timeUpdate.call(this),Ce.checkPlaying.call(this),N(this.elements.container,this.config.classNames.pip.supported,z.pip&&this.isHTML5&&this.isVideo),N(this.elements.container,this.config.classNames.airplay.supported,z.airplay&&this.isHTML5),N(this.elements.container,this.config.classNames.isIos,W.isIos),N(this.elements.container,this.config.classNames.isTouch,this.touch),this.ready=!0,setTimeout(function(){w.call(e,e.media,"ready")},0),Ce.setTitle.call(this),this.poster&&Ce.setPoster.call(this,this.poster,!1).catch(function(){}),this.config.duration&&ce.durationUpdate.call(this)},setTitle:function(){var t=te("play",this.config);if(m.string(this.config.title)&&!m.empty(this.config.title)&&(t+=", ".concat(this.config.title)),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.setAttribute("aria-label",t)}),this.isEmbed){var e=I.call(this,"iframe");if(!m.element(e))return;var i=m.empty(this.config.title)?"video":this.config.title,n=te("frameTitle",this.config);e.setAttribute("title",n.replace("{title}",i))}},togglePoster:function(e){N(this.elements.container,this.config.classNames.posterEnabled,e)},setPoster:function(t){var i=this;return 1<arguments.length&&void 0!==arguments[1]&&!arguments[1]||!this.poster?(this.media.setAttribute("poster",t),function(){var t=this;return new Promise(function(e){return t.ready?setTimeout(e,0):v.call(t,t.elements.container,"ready",e)}).then(function(){})}.call(this).then(function(){return xe(t)}).catch(function(e){throw t===i.poster&&Ce.togglePoster.call(i,!1),e}).then(function(){if(t!==i.poster)throw new Error("setPoster cancelled by later call to setPoster")}).then(function(){return Object.assign(i.elements.poster.style,{backgroundImage:"url('".concat(t,"')"),backgroundSize:""}),Ce.togglePoster.call(i,!0),t})):Promise.reject(new Error("Poster already set"))},checkPlaying:function(e){var t=this;N(this.elements.container,this.config.classNames.playing,this.playing),N(this.elements.container,this.config.classNames.paused,this.paused),N(this.elements.container,this.config.classNames.stopped,this.stopped),Array.from(this.elements.buttons.play||[]).forEach(function(e){e.pressed=t.playing}),m.event(e)&&"timeupdate"===e.type||Ce.toggleControls.call(this)},checkLoading:function(e){var t=this;this.loading=["stalled","waiting"].includes(e.type),clearTimeout(this.timers.loading),this.timers.loading=setTimeout(function(){N(t.elements.container,t.config.classNames.loading,t.loading),Ce.toggleControls.call(t)},this.loading?250:0)},toggleControls:function(e){var t=this.elements.controls;if(t&&this.config.hideControls){var i=this.touch&&this.lastSeekTime+2e3>Date.now();this.toggleControls(Boolean(e||this.loading||this.paused||t.pressed||t.hover||i))}}},Te=function(){function t(e){u(this,t),this.player=e,this.lastKey=null,this.focusTimer=null,this.lastKeyDown=null,this.handleKey=this.handleKey.bind(this),this.toggleMenu=this.toggleMenu.bind(this),this.setTabFocus=this.setTabFocus.bind(this),this.firstTouch=this.firstTouch.bind(this)}return e(t,[{key:"handleKey",value:function(e){var t=this.player,i=t.elements,n=e.keyCode?e.keyCode:e.which,o="keydown"===e.type,s=o&&n===this.lastKey;if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey)&&m.number(n)){if(o){var r=document.activeElement;if(m.element(r)){var a=t.config.selectors.editable;if(r!==i.inputs.seek&&D(r,a))return;if(32===e.which&&D(r,'button, [role^="menuitem"]'))return}switch([32,37,38,39,40,48,49,50,51,52,53,54,56,57,67,70,73,75,76,77,79].includes(n)&&(e.preventDefault(),e.stopPropagation()),n){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:s||(t.currentTime=t.duration/10*(n-48));break;case 32:case 75:s||t.togglePlay();break;case 38:t.increaseVolume(.1);break;case 40:t.decreaseVolume(.1);break;case 77:s||(t.muted=!t.muted);break;case 39:t.forward();break;case 37:t.rewind();break;case 70:t.fullscreen.toggle();break;case 67:s||t.toggleCaptions();break;case 76:t.loop=!t.loop}!t.fullscreen.enabled&&t.fullscreen.active&&27===n&&t.fullscreen.toggle(),this.lastKey=n}else this.lastKey=null}}},{key:"toggleMenu",value:function(e){ce.toggleMenu.call(this.player,e)}},{key:"firstTouch",value:function(){var e=this.player,t=e.elements;e.touch=!0,N(t.container,e.config.classNames.isTouch,!0)}},{key:"setTabFocus",value:function(e){var t=this.player,i=t.elements;if(clearTimeout(this.focusTimer),"keydown"!==e.type||9===e.which){"keydown"===e.type&&(this.lastKeyDown=e.timeStamp);var n,o=e.timeStamp-this.lastKeyDown<=20;if("focus"!==e.type||o)n=t.config.classNames.tabFocus,N(M.call(t,".".concat(n)),n,!1),this.focusTimer=setTimeout(function(){var e=document.activeElement;i.container.contains(e)&&N(document.activeElement,t.config.classNames.tabFocus,!0)},10)}}},{key:"global",value:function(){var e=!(0<arguments.length&&void 0!==arguments[0])||arguments[0],t=this.player;t.config.keyboard.global&&g.call(t,window,"keydown keyup",this.handleKey,e,!1),g.call(t,document.body,"click",this.toggleMenu,e),b.call(t,document.body,"touchstart",this.firstTouch),g.call(t,document.body,"keydown focus blur",this.setTabFocus,e,!1,!0)}},{key:"container",value:function(){var n=this.player,o=n.elements;!n.config.keyboard.global&&n.config.keyboard.focused&&v.call(n,o.container,"keydown keyup",this.handleKey,!1),v.call(n,o.container,"mousemove mouseleave touchstart touchmove enterfullscreen exitfullscreen",function(e){var t=o.controls;t&&"enterfullscreen"===e.type&&(t.pressed=!1,t.hover=!1);var i=0;["touchstart","touchmove","mousemove"].includes(e.type)&&(Ce.toggleControls.call(n,!0),i=n.touch?3e3:2e3),clearTimeout(n.timers.controls),n.timers.controls=setTimeout(function(){return Ce.toggleControls.call(n,!1)},i)})}},{key:"media",value:function(){var n=this.player,o=n.elements;if(v.call(n,n.media,"timeupdate seeking seeked",function(e){return ce.timeUpdate.call(n,e)}),v.call(n,n.media,"durationchange loadeddata loadedmetadata",function(e){return ce.durationUpdate.call(n,e)}),v.call(n,n.media,"canplay",function(){P(o.volume,!n.hasAudio),P(o.buttons.mute,!n.hasAudio)}),v.call(n,n.media,"ended",function(){n.isHTML5&&n.isVideo&&n.config.resetOnEnd&&n.restart()}),v.call(n,n.media,"progress playing seeking seeked",function(e){return ce.updateProgress.call(n,e)}),v.call(n,n.media,"volumechange",function(e){return ce.updateVolume.call(n,e)}),v.call(n,n.media,"playing play pause ended emptied timeupdate",function(e){return Ce.checkPlaying.call(n,e)}),v.call(n,n.media,"waiting canplay seeked playing",function(e){return Ce.checkLoading.call(n,e)}),v.call(n,n.media,"playing",function(){n.ads&&n.ads.enabled&&!n.ads.initialized&&n.ads.managerPromise.then(function(){return n.ads.play()}).catch(function(){return n.play()})}),n.supported.ui&&n.config.clickToPlay&&!n.isAudio){var t=I.call(n,".".concat(n.config.classNames.video));if(!m.element(t))return;v.call(n,o.container,"click",function(e){([o.container,t].includes(e.target)||t.contains(e.target))&&(n.touch&&n.config.hideControls||(n.ended?(n.restart(),n.play()):n.togglePlay()))})}n.supported.ui&&n.config.disableContextMenu&&v.call(n,o.wrapper,"contextmenu",function(e){e.preventDefault()},!1),v.call(n,n.media,"volumechange",function(){n.storage.set({volume:n.volume,muted:n.muted})}),v.call(n,n.media,"ratechange",function(){ce.updateSetting.call(n,"speed"),n.storage.set({speed:n.speed})}),v.call(n,n.media,"qualitychange",function(e){ce.updateSetting.call(n,"quality",null,e.detail.quality)}),v.call(n,n.media,"ready qualitychange",function(){ce.setDownloadLink.call(n)});var e=n.config.events.concat(["keyup","keydown"]).join(" ");v.call(n,n.media,e,function(e){var t=e.detail,i=void 0===t?{}:t;"error"===e.type&&(i=n.media.error),w.call(n,o.container,e.type,!0,i)})}},{key:"proxy",value:function(e,t,i){var n=this.player,o=n.config.listeners[i],s=!0;m.function(o)&&(s=o.call(n,e)),s&&m.function(t)&&t.call(n,e)}},{key:"bind",value:function(e,t,i,n){var o=this,s=!(4<arguments.length&&void 0!==arguments[4])||arguments[4],r=this.player,a=r.config.listeners[n],l=m.function(a);v.call(r,e,t,function(e){return o.proxy(e,i,n)},s&&!l)}},{key:"controls",value:function(){var o=this,a=this.player,n=a.elements,t=W.isIE?"change":"input";if(n.buttons.play&&Array.from(n.buttons.play).forEach(function(e){o.bind(e,"click",a.togglePlay,"play")}),this.bind(n.buttons.restart,"click",a.restart,"restart"),this.bind(n.buttons.rewind,"click",a.rewind,"rewind"),this.bind(n.buttons.fastForward,"click",a.forward,"fastForward"),this.bind(n.buttons.mute,"click",function(){a.muted=!a.muted},"mute"),this.bind(n.buttons.captions,"click",function(){return a.toggleCaptions()}),this.bind(n.buttons.download,"click",function(){w.call(a,a.media,"download")},"download"),this.bind(n.buttons.fullscreen,"click",function(){a.fullscreen.toggle()},"fullscreen"),this.bind(n.buttons.pip,"click",function(){a.pip="toggle"},"pip"),this.bind(n.buttons.airplay,"click",a.airplay,"airplay"),this.bind(n.buttons.settings,"click",function(e){e.stopPropagation(),ce.toggleMenu.call(a,e)}),this.bind(n.buttons.settings,"keyup",function(e){var t=e.which;[13,32].includes(t)&&(13!==t?(e.preventDefault(),e.stopPropagation(),ce.toggleMenu.call(a,e)):ce.focusFirstMenuItem.call(a,null,!0))},null,!1),this.bind(n.settings.menu,"keydown",function(e){27===e.which&&ce.toggleMenu.call(a,e)}),this.bind(n.inputs.seek,"mousedown mousemove",function(e){var t=n.progress.getBoundingClientRect(),i=100/t.width*(e.pageX-t.left);e.currentTarget.setAttribute("seek-value",i)}),this.bind(n.inputs.seek,"mousedown mouseup keydown keyup touchstart touchend",function(e){var t=e.currentTarget,i=e.keyCode?e.keyCode:e.which,n="play-on-seeked";if(!m.keyboardEvent(e)||39===i||37===i){a.lastSeekTime=Date.now();var o=t.hasAttribute(n),s=["mouseup","touchend","keyup"].includes(e.type);o&&s?(t.removeAttribute(n),a.play()):!s&&a.playing&&(t.setAttribute(n,""),a.pause())}}),W.isIos){var e=M.call(a,'input[type="range"]');Array.from(e).forEach(function(e){return o.bind(e,t,function(e){return $(e.target)})})}this.bind(n.inputs.seek,t,function(e){var t=e.currentTarget,i=t.getAttribute("seek-value");m.empty(i)&&(i=t.value),t.removeAttribute("seek-value"),a.currentTime=i/t.max*a.duration},"seek"),this.bind(n.progress,"mouseenter mouseleave mousemove",function(e){return ce.updateSeekTooltip.call(a,e)}),W.isWebkit&&Array.from(M.call(a,'input[type="range"]')).forEach(function(e){o.bind(e,"input",function(e){return ce.updateRangeFill.call(a,e.target)})}),a.config.toggleInvert&&!m.element(n.display.duration)&&this.bind(n.display.currentTime,"click",function(){0!==a.currentTime&&(a.config.invertTime=!a.config.invertTime,ce.timeUpdate.call(a))}),this.bind(n.inputs.volume,t,function(e){a.volume=e.target.value},"volume"),this.bind(n.controls,"mouseenter mouseleave",function(e){n.controls.hover=!a.touch&&"mouseenter"===e.type}),this.bind(n.controls,"mousedown mouseup touchstart touchend touchcancel",function(e){n.controls.pressed=["mousedown","touchstart"].includes(e.type)}),this.bind(n.controls,"focusin",function(){var e=a.config,t=a.elements,i=a.timers;N(t.controls,e.classNames.noTransition,!0),Ce.toggleControls.call(a,!0),setTimeout(function(){N(t.controls,e.classNames.noTransition,!1)},0);var n=o.touch?3e3:4e3;clearTimeout(i.controls),i.controls=setTimeout(function(){return Ce.toggleControls.call(a,!1)},n)}),this.bind(n.inputs.volume,"wheel",function(e){var t=e.webkitDirectionInvertedFromDevice,i=p([e.deltaX,-e.deltaY].map(function(e){return t?-e:e}),2),n=i[0],o=i[1],s=Math.sign(Math.abs(n)>Math.abs(o)?n:o);a.increaseVolume(s/50);var r=a.media.volume;(1===s&&r<1||-1===s&&0<r)&&e.preventDefault()},"volume",!1)}}]),t}();"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ee,Se=(function(e,t){var i;i=function(){var d=function(){},s={},l={},c={};function r(e,t){if(e){var i=c[e];if(l[e]=t,i)for(;i.length;)i[0](e,t),i.splice(0,1)}}function a(e,t){e.call&&(e={success:e}),t.length?(e.error||d)(t):(e.success||d)(e)}function h(i,n,o,s){var r,a,e=document,t=o.async,l=(o.numRetries||0)+1,c=o.before||d,u=i.replace(/^(css|img)!/,"");s=s||0,/(^css!|\.css$)/.test(i)?(r=!0,(a=e.createElement("link")).rel="stylesheet",a.href=u):/(^img!|\.(png|gif|jpg|svg)$)/.test(i)?(a=e.createElement("img")).src=u:((a=e.createElement("script")).src=i,a.async=void 0===t||t),!(a.onload=a.onerror=a.onbeforeload=function(e){var t=e.type[0];if(r&&"hideFocus"in a)try{a.sheet.cssText.length||(t="e")}catch(e){t="e"}if("e"==t&&(s+=1)<l)return h(i,n,o,s);n(i,t,e.defaultPrevented)})!==c(i,a)&&e.head.appendChild(a)}function i(e,t,i){var n,o;if(t&&t.trim&&(n=t),o=(n?i:t)||{},n){if(n in s)throw"LoadJS";s[n]=!0}!function(e,n,t){var i,o,s=(e=e.push?e:[e]).length,r=s,a=[];for(i=function(e,t,i){if("e"==t&&a.push(e),"b"==t){if(!i)return;a.push(e)}--s||n(a)},o=0;o<r;o++)h(e[o],i,t)}(e,function(e){a(o,e),r(n,e)},o)}return i.ready=function(e,t){return function(e,i){e=e.push?e:[e];var t,n,o,s=[],r=e.length,a=r;for(t=function(e,t){t.length&&s.push(e),--a||i(s)};r--;)n=e[r],(o=l[n])?t(n,o):(c[n]=c[n]||[]).push(t)}(e,function(e){a(t,e)}),i},i.done=function(e){r(e,[])},i.reset=function(){s={},l={},c={}},i.isDefined=function(e){return e in s},i},e.exports=i()}(Ee={exports:{}},Ee.exports),Ee.exports);function Ae(i){return new Promise(function(e,t){Se(i,{success:e,error:t})})}function _e(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,w.call(this,this.media,e?"play":"pause"))}var Pe={setup:function(){var t=this;N(this.elements.wrapper,this.config.classNames.embed,!0),Pe.setAspectRatio.call(this),m.object(window.Vimeo)?Pe.ready.call(this):Ae(this.config.urls.vimeo.sdk).then(function(){Pe.ready.call(t)}).catch(function(e){t.debug.warn("Vimeo API failed to load",e)})},setAspectRatio:function(e){var t=p((m.string(e)?e:this.config.ratio).split(":"),2),i=100/t[0]*t[1];if(this.elements.wrapper.style.paddingBottom="".concat(i,"%"),this.supported.ui){var n=(240-i)/4.8;this.media.style.transform="translateY(-".concat(n,"%)")}},ready:function(){var s=this,r=this,e=de({loop:r.config.loop.active,autoplay:r.autoplay,byline:!1,portrait:!1,title:!1,speed:!0,transparent:0,gesture:"media",playsinline:!this.config.fullscreen.iosNative}),t=r.media.getAttribute("src");m.empty(t)&&(t=r.media.getAttribute(r.config.attributes.embed.id));var i,n=(i=t,m.empty(i)?null:m.number(Number(i))?i:i.match(/^.*(vimeo.com\/|video\/)(\d+).*/)?RegExp.$2:i),o=C("iframe"),a=Y(r.config.urls.vimeo.iframe,n,e);o.setAttribute("src",a),o.setAttribute("allowfullscreen",""),o.setAttribute("allowtransparency",""),o.setAttribute("allow","autoplay");var l=C("div",{poster:r.poster,class:r.config.classNames.embedContainer});l.appendChild(o),r.media=A(l,r.media),ne(Y(r.config.urls.vimeo.api,n),"json").then(function(e){if(!m.empty(e)){var t=new URL(e[0].thumbnail_large);t.pathname="".concat(t.pathname.split("_")[0],".jpg"),Ce.setPoster.call(r,t.href).catch(function(){})}}),r.embed=new window.Vimeo.Player(o,{autopause:r.config.autopause,muted:r.muted}),r.media.paused=!0,r.media.currentTime=0,r.supported.ui&&r.embed.disableTextTrack(),r.media.play=function(){return _e.call(r,!0),r.embed.play()},r.media.pause=function(){return _e.call(r,!1),r.embed.pause()},r.media.stop=function(){r.pause(),r.currentTime=0};var c=r.media.currentTime;Object.defineProperty(r.media,"currentTime",{get:function(){return c},set:function(e){var t=r.embed,i=r.media,n=r.paused,o=r.volume,s=n&&!t.hasPlayed;i.seeking=!0,w.call(r,i,"seeking"),Promise.resolve(s&&t.setVolume(0)).then(function(){return t.setCurrentTime(e)}).then(function(){return s&&t.pause()}).then(function(){return s&&t.setVolume(o)}).catch(function(){})}});var u=r.config.speed.selected;Object.defineProperty(r.media,"playbackRate",{get:function(){return u},set:function(e){r.embed.setPlaybackRate(e).then(function(){u=e,w.call(r,r.media,"ratechange")}).catch(function(e){"Error"===e.name&&ce.setSpeedMenu.call(r,[])})}});var d=r.config.volume;Object.defineProperty(r.media,"volume",{get:function(){return d},set:function(e){r.embed.setVolume(e).then(function(){d=e,w.call(r,r.media,"volumechange")})}});var h=r.config.muted;Object.defineProperty(r.media,"muted",{get:function(){return h},set:function(e){var t=!!m.boolean(e)&&e;r.embed.setVolume(t?0:r.config.volume).then(function(){h=t,w.call(r,r.media,"volumechange")})}});var p,f=r.config.loop;Object.defineProperty(r.media,"loop",{get:function(){return f},set:function(e){var t=m.boolean(e)?e:r.config.loop.active;r.embed.setLoop(t).then(function(){f=t})}}),r.embed.getVideoUrl().then(function(e){p=e,ce.setDownloadLink.call(r)}).catch(function(e){s.debug.warn(e)}),Object.defineProperty(r.media,"currentSrc",{get:function(){return p}}),Object.defineProperty(r.media,"ended",{get:function(){return r.currentTime===r.duration}}),Promise.all([r.embed.getVideoWidth(),r.embed.getVideoHeight()]).then(function(e){var t,i,n,o=(t=e[0],i=e[1],n=function e(t,i){return 0===i?t:e(i,t%i)}(t,i),"".concat(t/n,":").concat(i/n));Pe.setAspectRatio.call(s,o)}),r.embed.setAutopause(r.config.autopause).then(function(e){r.config.autopause=e}),r.embed.getVideoTitle().then(function(e){r.config.title=e,Ce.setTitle.call(s)}),r.embed.getCurrentTime().then(function(e){c=e,w.call(r,r.media,"timeupdate")}),r.embed.getDuration().then(function(e){r.media.duration=e,w.call(r,r.media,"durationchange")}),r.embed.getTextTracks().then(function(e){r.media.textTracks=e,he.setup.call(r)}),r.embed.on("cuechange",function(e){var t=e.cues,i=(void 0===t?[]:t).map(function(e){return t=e.text,i=document.createDocumentFragment(),n=document.createElement("div"),i.appendChild(n),n.innerHTML=t,i.firstChild.innerText;var t,i,n});he.updateCues.call(r,i)}),r.embed.on("loaded",function(){(r.embed.getPaused().then(function(e){_e.call(r,!e),e||w.call(r,r.media,"playing")}),m.element(r.embed.element)&&r.supported.ui)&&r.embed.element.setAttribute("tabindex",-1)}),r.embed.on("play",function(){_e.call(r,!0),w.call(r,r.media,"playing")}),r.embed.on("pause",function(){_e.call(r,!1)}),r.embed.on("timeupdate",function(e){r.media.seeking=!1,c=e.seconds,w.call(r,r.media,"timeupdate")}),r.embed.on("progress",function(e){r.media.buffered=e.percent,w.call(r,r.media,"progress"),1===parseInt(e.percent,10)&&w.call(r,r.media,"canplaythrough"),r.embed.getDuration().then(function(e){e!==r.media.duration&&(r.media.duration=e,w.call(r,r.media,"durationchange"))})}),r.embed.on("seeked",function(){r.media.seeking=!1,w.call(r,r.media,"seeked")}),r.embed.on("ended",function(){r.media.paused=!0,w.call(r,r.media,"ended")}),r.embed.on("error",function(e){r.media.error=e,w.call(r,r.media,"error")}),setTimeout(function(){return Ce.build.call(r)},0)}};function Ne(e){e&&!this.embed.hasPlayed&&(this.embed.hasPlayed=!0),this.media.paused===e&&(this.media.paused=!e,w.call(this,this.media,e?"play":"pause"))}var Le,De={setup:function(){var t=this;N(this.elements.wrapper,this.config.classNames.embed,!0),De.setAspectRatio.call(this),m.object(window.YT)&&m.function(window.YT.Player)?De.ready.call(this):(Ae(this.config.urls.youtube.sdk).catch(function(e){t.debug.warn("YouTube API failed to load",e)}),window.onYouTubeReadyCallbacks=window.onYouTubeReadyCallbacks||[],window.onYouTubeReadyCallbacks.push(function(){De.ready.call(t)}),window.onYouTubeIframeAPIReady=function(){window.onYouTubeReadyCallbacks.forEach(function(e){e()})})},getTitle:function(e){var t=this;if(m.function(this.embed.getVideoData)){var i=this.embed.getVideoData().title;if(m.empty(i))return this.config.title=i,void Ce.setTitle.call(this)}var n=this.config.keys.google;m.string(n)&&!m.empty(n)&&ne(Y(this.config.urls.youtube.api,e,n)).then(function(e){m.object(e)&&(t.config.title=e.items[0].snippet.title,Ce.setTitle.call(t))}).catch(function(){})},setAspectRatio:function(){var e=this.config.ratio.split(":");this.elements.wrapper.style.paddingBottom="".concat(100/e[0]*e[1],"%")},ready:function(){var o=this,e=o.media.getAttribute("id");if(m.empty(e)||!e.startsWith("youtube-")){var t=o.media.getAttribute("src");m.empty(t)&&(t=o.media.getAttribute(this.config.attributes.embed.id));var i,n,s=(i=t,m.empty(i)?null:i.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/)?RegExp.$2:i),r=(n=o.provider,"".concat(n,"-").concat(Math.floor(1e4*Math.random()))),a=C("div",{id:r,poster:o.poster});o.media=A(a,o.media);var l=function(e){return"https://img.youtube.com/vi/".concat(s,"/").concat(e,"default.jpg")};xe(l("maxres"),121).catch(function(){return xe(l("sd"),121)}).catch(function(){return xe(l("hq"))}).then(function(e){return Ce.setPoster.call(o,e.src)}).then(function(e){e.includes("maxres")||(o.elements.poster.style.backgroundSize="cover")}).catch(function(){}),o.embed=new window.YT.Player(r,{videoId:s,playerVars:{autoplay:o.config.autoplay?1:0,hl:o.config.hl,controls:o.supported.ui?0:1,rel:0,showinfo:0,iv_load_policy:3,modestbranding:1,disablekb:1,playsinline:1,widget_referrer:window?window.location.href:null,cc_load_policy:o.captions.active?1:0,cc_lang_pref:o.config.captions.language},events:{onError:function(e){if(!o.media.error){var t=e.data,i={2:"The request contains an invalid parameter value. For example, this error occurs if you specify a video ID that does not have 11 characters, or if the video ID contains invalid characters, such as exclamation points or asterisks.",5:"The requested content cannot be played in an HTML5 player or another error related to the HTML5 player has occurred.",100:"The video requested was not found. This error occurs when a video has been removed (for any reason) or has been marked as private.",101:"The owner of the requested video does not allow it to be played in embedded players.",150:"The owner of the requested video does not allow it to be played in embedded players."}[t]||"An unknown error occured";o.media.error={code:t,message:i},w.call(o,o.media,"error")}},onPlaybackRateChange:function(e){var t=e.target;o.media.playbackRate=t.getPlaybackRate(),w.call(o,o.media,"ratechange")},onReady:function(e){if(!m.function(o.media.play)){var i=e.target;De.getTitle.call(o,s),o.media.play=function(){Ne.call(o,!0),i.playVideo()},o.media.pause=function(){Ne.call(o,!1),i.pauseVideo()},o.media.stop=function(){i.stopVideo()},o.media.duration=i.getDuration(),o.media.paused=!0,o.media.currentTime=0,Object.defineProperty(o.media,"currentTime",{get:function(){return Number(i.getCurrentTime())},set:function(e){o.paused&&!o.embed.hasPlayed&&o.embed.mute(),o.media.seeking=!0,w.call(o,o.media,"seeking"),i.seekTo(e)}}),Object.defineProperty(o.media,"playbackRate",{get:function(){return i.getPlaybackRate()},set:function(e){i.setPlaybackRate(e)}});var t=o.config.volume;Object.defineProperty(o.media,"volume",{get:function(){return t},set:function(e){t=e,i.setVolume(100*t),w.call(o,o.media,"volumechange")}});var n=o.config.muted;Object.defineProperty(o.media,"muted",{get:function(){return n},set:function(e){var t=m.boolean(e)?e:n;i[(n=t)?"mute":"unMute"](),w.call(o,o.media,"volumechange")}}),Object.defineProperty(o.media,"currentSrc",{get:function(){return i.getVideoUrl()}}),Object.defineProperty(o.media,"ended",{get:function(){return o.currentTime===o.duration}}),o.options.speed=i.getAvailablePlaybackRates(),o.supported.ui&&o.media.setAttribute("tabindex",-1),w.call(o,o.media,"timeupdate"),w.call(o,o.media,"durationchange"),clearInterval(o.timers.buffering),o.timers.buffering=setInterval(function(){o.media.buffered=i.getVideoLoadedFraction(),(null===o.media.lastBuffered||o.media.lastBuffered<o.media.buffered)&&w.call(o,o.media,"progress"),o.media.lastBuffered=o.media.buffered,1===o.media.buffered&&(clearInterval(o.timers.buffering),w.call(o,o.media,"canplaythrough"))},200),setTimeout(function(){return Ce.build.call(o)},50)}},onStateChange:function(e){var t=e.target;switch(clearInterval(o.timers.playing),o.media.seeking&&[1,2].includes(e.data)&&(o.media.seeking=!1,w.call(o,o.media,"seeked")),e.data){case-1:w.call(o,o.media,"timeupdate"),o.media.buffered=t.getVideoLoadedFraction(),w.call(o,o.media,"progress");break;case 0:Ne.call(o,!1),o.media.loop?(t.stopVideo(),t.playVideo()):w.call(o,o.media,"ended");break;case 1:o.media.paused&&!o.embed.hasPlayed?o.media.pause():(Ne.call(o,!0),w.call(o,o.media,"playing"),o.timers.playing=setInterval(function(){w.call(o,o.media,"timeupdate")},50),o.media.duration!==t.getDuration()&&(o.media.duration=t.getDuration(),w.call(o,o.media,"durationchange")));break;case 2:o.muted||o.embed.unMute(),Ne.call(o,!1)}w.call(o,o.elements.container,"statechange",!1,{code:e.data})}}})}}},Me={setup:function(){this.media?(N(this.elements.container,this.config.classNames.type.replace("{0}",this.type),!0),N(this.elements.container,this.config.classNames.provider.replace("{0}",this.provider),!0),this.isEmbed&&N(this.elements.container,this.config.classNames.type.replace("{0}","video"),!0),this.isVideo&&(this.elements.wrapper=C("div",{class:this.config.classNames.video}),k(this.media,this.elements.wrapper),this.elements.poster=C("div",{class:this.config.classNames.poster}),this.elements.wrapper.appendChild(this.elements.poster)),this.isHTML5?U.extend.call(this):this.isYouTube?De.setup.call(this):this.isVimeo&&Pe.setup.call(this)):this.debug.warn("No media element found!")}},Ie=function(){function t(e){var i=this;u(this,t),this.player=e,this.publisherId=e.config.ads.publisherId,this.playing=!1,this.initialized=!1,this.elements={container:null,displayContainer:null},this.manager=null,this.loader=null,this.cuePoints=null,this.events={},this.safetyTimer=null,this.countdownTimer=null,this.managerPromise=new Promise(function(e,t){i.on("loaded",e),i.on("error",t)}),this.load()}return e(t,[{key:"load",value:function(){var e=this;this.enabled&&(m.object(window.google)&&m.object(window.google.ima)?this.ready():Ae(this.player.config.urls.googleIMA.sdk).then(function(){e.ready()}).catch(function(){e.trigger("error",new Error("Google IMA SDK failed to load"))}))}},{key:"ready",value:function(){var e=this;this.startSafetyTimer(12e3,"ready()"),this.managerPromise.then(function(){e.clearSafetyTimer("onAdsManagerLoaded()")}),this.listeners(),this.setupIMA()}},{key:"setupIMA",value:function(){this.elements.container=C("div",{class:this.player.config.classNames.ads}),this.player.elements.container.appendChild(this.elements.container),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setLocale(this.player.config.ads.language),this.elements.displayContainer=new google.ima.AdDisplayContainer(this.elements.container),this.requestAds()}},{key:"requestAds",value:function(){var t=this,e=this.player.elements.container;try{this.loader=new google.ima.AdsLoader(this.elements.displayContainer),this.loader.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,function(e){return t.onAdsManagerLoaded(e)},!1),this.loader.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return t.onAdError(e)},!1);var i=new google.ima.AdsRequest;i.adTagUrl=this.tagUrl,i.linearAdSlotWidth=e.offsetWidth,i.linearAdSlotHeight=e.offsetHeight,i.nonLinearAdSlotWidth=e.offsetWidth,i.nonLinearAdSlotHeight=e.offsetHeight,i.forceNonLinearFullSlot=!1,i.setAdWillPlayMuted(!this.player.muted),this.loader.requestAds(i)}catch(e){this.onAdError(e)}}},{key:"pollCountdown",value:function(){var i=this;if(!(0<arguments.length&&void 0!==arguments[0]&&arguments[0]))return clearInterval(this.countdownTimer),void this.elements.container.removeAttribute("data-badge-text");this.countdownTimer=setInterval(function(){var e=le(Math.max(i.manager.getRemainingTime(),0)),t="".concat(te("advertisement",i.player.config)," - ").concat(e);i.elements.container.setAttribute("data-badge-text",t)},100)}},{key:"onAdsManagerLoaded",value:function(e){var o=this;if(this.enabled){var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.enablePreloading=!0,this.manager=e.getAdsManager(this.player,t),this.cuePoints=this.manager.getCuePoints(),m.empty(this.cuePoints)||this.cuePoints.forEach(function(e){if(0!==e&&-1!==e&&e<o.player.duration){var t=o.player.elements.progress;if(m.element(t)){var i=100/o.player.duration*e,n=C("span",{class:o.player.config.classNames.cues});n.style.left="".concat(i.toString(),"%"),t.appendChild(n)}}}),this.manager.setVolume(this.player.volume),this.manager.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,function(e){return o.onAdError(e)}),Object.keys(google.ima.AdEvent.Type).forEach(function(e){o.manager.addEventListener(google.ima.AdEvent.Type[e],function(e){return o.onAdEvent(e)})}),this.trigger("loaded")}}},{key:"onAdEvent",value:function(e){var i=this,t=this.player.elements.container,n=e.getAd(),o=function(e){var t="ads".concat(e.replace(/_/g,"").toLowerCase());w.call(i.player,i.player.media,t)};switch(e.type){case google.ima.AdEvent.Type.LOADED:this.trigger("loaded"),o(e.type),this.pollCountdown(!0),n.isLinear()||(n.width=t.offsetWidth,n.height=t.offsetHeight);break;case google.ima.AdEvent.Type.ALL_ADS_COMPLETED:o(e.type),this.loadAds();break;case google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED:o(e.type),this.pauseContent();break;case google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED:o(e.type),this.pollCountdown(),this.resumeContent();break;case google.ima.AdEvent.Type.STARTED:case google.ima.AdEvent.Type.MIDPOINT:case google.ima.AdEvent.Type.COMPLETE:case google.ima.AdEvent.Type.IMPRESSION:case google.ima.AdEvent.Type.CLICK:o(e.type)}}},{key:"onAdError",value:function(e){this.cancel(),this.player.debug.warn("Ads error",e)}},{key:"listeners",value:function(){var n,o=this,e=this.player.elements.container;this.player.on("ended",function(){o.loader.contentComplete()}),this.player.on("seeking",function(){return n=o.player.currentTime}),this.player.on("seeked",function(){var i=o.player.currentTime;m.empty(o.cuePoints)||o.cuePoints.forEach(function(e,t){n<e&&e<i&&(o.manager.discardAdBreak(),o.cuePoints.splice(t,1))})}),window.addEventListener("resize",function(){o.manager&&o.manager.resize(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL)})}},{key:"play",value:function(){var t=this,e=this.player.elements.container;this.managerPromise||this.resumeContent(),this.managerPromise.then(function(){t.elements.displayContainer.initialize();try{t.initialized||(t.manager.init(e.offsetWidth,e.offsetHeight,google.ima.ViewMode.NORMAL),t.manager.start()),t.initialized=!0}catch(e){t.onAdError(e)}}).catch(function(){})}},{key:"resumeContent",value:function(){this.elements.container.style.zIndex="",this.playing=!1,this.player.currentTime<this.player.duration&&this.player.play()}},{key:"pauseContent",value:function(){this.elements.container.style.zIndex=3,this.playing=!0,this.player.pause()}},{key:"cancel",value:function(){this.initialized&&this.resumeContent(),this.trigger("error"),this.loadAds()}},{key:"loadAds",value:function(){var t=this;this.managerPromise.then(function(){t.manager&&t.manager.destroy(),t.managerPromise=new Promise(function(e){t.on("loaded",e),t.player.debug.log(t.manager)}),t.requestAds()}).catch(function(){})}},{key:"trigger",value:function(e){for(var t=this,i=arguments.length,n=new Array(1<i?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];var s=this.events[e];m.array(s)&&s.forEach(function(e){m.function(e)&&e.apply(t,n)})}},{key:"on",value:function(e,t){return m.array(this.events[e])||(this.events[e]=[]),this.events[e].push(t),this}},{key:"startSafetyTimer",value:function(e,t){var i=this;this.player.debug.log("Safety timer invoked from: ".concat(t)),this.safetyTimer=setTimeout(function(){i.cancel(),i.clearSafetyTimer("startSafetyTimer()")},e)}},{key:"clearSafetyTimer",value:function(e){m.nullOrUndefined(this.safetyTimer)||(this.player.debug.log("Safety timer cleared from: ".concat(e)),clearTimeout(this.safetyTimer),this.safetyTimer=null)}},{key:"enabled",get:function(){return this.player.isHTML5&&this.player.isVideo&&this.player.config.ads.enabled&&!m.empty(this.publisherId)}},{key:"tagUrl",get:function(){var e={AV_PUBLISHERID:"58c25bb0073ef448b1087ad6",AV_CHANNELID:"5a0458dc28a06145e4519d21",AV_URL:window.location.hostname,cb:Date.now(),AV_WIDTH:640,AV_HEIGHT:480,AV_CDIM2:this.publisherId};return"".concat("https://go.aniview.com/api/adserver6/vast/","?").concat(de(e))}}]),t}(),Fe={insertElements:function(t,e){var i=this;m.string(e)?T(t,this.media,{src:e}):m.array(e)&&e.forEach(function(e){T(t,i.media,e)})},change:function(l){var c=this;Q(l,"sources.length")?(U.cancelRequests.call(this),this.destroy.call(this,function(){c.options.quality=[],E(c.media),c.media=null,m.element(c.elements.container)&&c.elements.container.removeAttribute("class");var e=l.sources,t=l.type,i=p(e,1)[0],n=i.provider,o=void 0===n?fe.html5:n,s=i.src,r="html5"===o?t:"div",a="html5"===o?{}:{src:s};Object.assign(c,{provider:o,type:t,supported:z.check(t,o,c.config.playsinline),media:C(r,a)}),c.elements.container.appendChild(c.media),m.boolean(l.autoplay)&&(c.config.autoplay=l.autoplay),c.isHTML5&&(c.config.crossorigin&&c.media.setAttribute("crossorigin",""),c.config.autoplay&&c.media.setAttribute("autoplay",""),m.empty(l.poster)||(c.poster=l.poster),c.config.loop.active&&c.media.setAttribute("loop",""),c.config.muted&&c.media.setAttribute("muted",""),c.config.playsinline&&c.media.setAttribute("playsinline","")),Ce.addStyleHook.call(c),c.isHTML5&&Fe.insertElements.call(c,"source",e),c.config.title=l.title,Me.setup.call(c),c.isHTML5&&("tracks"in l&&Fe.insertElements.call(c,"track",l.tracks),c.media.load()),(c.isHTML5||c.isEmbed&&!c.supported.ui)&&Ce.build.call(c),c.fullscreen.update()},!0)):this.debug.warn("Invalid source format")}},je=function(){function c(e,t){var i=this;if(u(this,c),this.timers={},this.ready=!1,this.loading=!1,this.failed=!1,this.touch=z.touch,this.media=e,m.string(this.media)&&(this.media=document.querySelectorAll(this.media)),(window.jQuery&&this.media instanceof jQuery||m.nodeList(this.media)||m.array(this.media))&&(this.media=this.media[0]),this.config=X({},pe,c.defaults,t||{},function(){try{return JSON.parse(i.media.getAttribute("data-plyr-config"))}catch(e){return{}}}()),this.elements={container:null,captions:null,buttons:{},display:{},progress:{},inputs:{},settings:{popup:null,menu:null,panels:{},buttons:{}}},this.captions={active:null,currentTrack:-1,meta:new WeakMap},this.fullscreen={active:!1},this.options={speed:[],quality:[]},this.debug=new ye(this.config.debug),this.debug.log("Config",this.config),this.debug.log("Support",z),!m.nullOrUndefined(this.media)&&m.element(this.media))if(this.media.plyr)this.debug.warn("Target already setup");else if(this.config.enabled)if(z.check().api){var n=this.media.cloneNode(!0);n.autoplay=!1,this.elements.original=n;var o,s=this.media.tagName.toLowerCase(),r=null,a=null;switch(s){case"div":if(r=this.media.querySelector("iframe"),m.element(r)){if(a=ue(r.getAttribute("src")),this.provider=(o=a.toString(),/^(https?:\/\/)?(www\.)?(youtube\.com|youtu\.?be)\/.+$/.test(o)?fe.youtube:/^https?:\/\/player.vimeo.com\/video\/\d{0,9}(?=\b|\/)/.test(o)?fe.vimeo:null),this.elements.container=this.media,this.media=r,this.elements.container.className="",a.search.length){var l=["1","true"];l.includes(a.searchParams.get("autoplay"))&&(this.config.autoplay=!0),l.includes(a.searchParams.get("loop"))&&(this.config.loop.active=!0),this.isYouTube?(this.config.playsinline=l.includes(a.searchParams.get("playsinline")),this.config.hl=a.searchParams.get("hl")):this.config.playsinline=!0}}else this.provider=this.media.getAttribute(this.config.attributes.embed.provider),this.media.removeAttribute(this.config.attributes.embed.provider);if(m.empty(this.provider)||!Object.keys(fe).includes(this.provider))return void this.debug.error("Setup failed: Invalid provider");this.type=ge;break;case"video":case"audio":this.type=s,this.provider=fe.html5,this.media.hasAttribute("crossorigin")&&(this.config.crossorigin=!0),this.media.hasAttribute("autoplay")&&(this.config.autoplay=!0),(this.media.hasAttribute("playsinline")||this.media.hasAttribute("webkit-playsinline"))&&(this.config.playsinline=!0),this.media.hasAttribute("muted")&&(this.config.muted=!0),this.media.hasAttribute("loop")&&(this.config.loop.active=!0);break;default:return void this.debug.error("Setup failed: unsupported type")}this.supported=z.check(this.type,this.provider,this.config.playsinline),this.supported.api?(this.eventListeners=[],this.listeners=new Te(this),this.storage=new ie(this),this.media.plyr=this,m.element(this.elements.container)||(this.elements.container=C("div"),k(this.media,this.elements.container)),Ce.addStyleHook.call(this),Me.setup.call(this),this.config.debug&&v.call(this,this.elements.container,this.config.events.join(" "),function(e){i.debug.log("event: ".concat(e.type))}),(this.isHTML5||this.isEmbed&&!this.supported.ui)&&Ce.build.call(this),this.listeners.container(),this.listeners.global(),this.fullscreen=new ke(this),this.config.ads.enabled&&(this.ads=new Ie(this)),this.config.autoplay&&this.play(),this.lastSeekTime=0):this.debug.error("Setup failed: no support")}else this.debug.error("Setup failed: no support");else this.debug.error("Setup failed: disabled by config");else this.debug.error("Setup failed: no suitable element passed")}return e(c,[{key:"play",value:function(){return m.function(this.media.play)?this.media.play():null}},{key:"pause",value:function(){this.playing&&m.function(this.media.pause)&&this.media.pause()}},{key:"togglePlay",value:function(e){(m.boolean(e)?e:!this.playing)?this.play():this.pause()}},{key:"stop",value:function(){this.isHTML5?(this.pause(),this.restart()):m.function(this.media.stop)&&this.media.stop()}},{key:"restart",value:function(){this.currentTime=0}},{key:"rewind",value:function(e){this.currentTime=this.currentTime-(m.number(e)?e:this.config.seekTime)}},{key:"forward",value:function(e){this.currentTime=this.currentTime+(m.number(e)?e:this.config.seekTime)}},{key:"increaseVolume",value:function(e){var t=this.media.muted?0:this.volume;this.volume=t+(m.number(e)?e:0)}},{key:"decreaseVolume",value:function(e){this.increaseVolume(-e)}},{key:"toggleCaptions",value:function(e){he.toggle.call(this,e,!1)}},{key:"airplay",value:function(){z.airplay&&this.media.webkitShowPlaybackTargetPicker()}},{key:"toggleControls",value:function(e){if(this.supported.ui&&!this.isAudio){var t=L(this.elements.container,this.config.classNames.hideControls),i=void 0===e?void 0:!e,n=N(this.elements.container,this.config.classNames.hideControls,i);if(n&&this.config.controls.includes("settings")&&!m.empty(this.config.settings)&&ce.toggleMenu.call(this,!1),n!==t){var o=n?"controlshidden":"controlsshown";w.call(this,this.media,o)}return!n}return!1}},{key:"on",value:function(e,t){v.call(this,this.elements.container,e,t)}},{key:"once",value:function(e,t){b.call(this,this.elements.container,e,t)}},{key:"off",value:function(e,t){y(this.elements.container,e,t)}},{key:"destroy",value:function(e){var t=this,i=1<arguments.length&&void 0!==arguments[1]&&arguments[1];if(this.ready){var n=function(){document.body.style.overflow="",t.embed=null,i?(Object.keys(t.elements).length&&(E(t.elements.buttons.play),E(t.elements.captions),E(t.elements.controls),E(t.elements.wrapper),t.elements.buttons.play=null,t.elements.captions=null,t.elements.controls=null,t.elements.wrapper=null),m.function(e)&&e()):(function(){this&&this.eventListeners&&(this.eventListeners.forEach(function(e){var t=e.element,i=e.type,n=e.callback,o=e.options;t.removeEventListener(i,n,o)}),this.eventListeners=[])}.call(t),A(t.elements.original,t.elements.container),w.call(t,t.elements.original,"destroyed",!0),m.function(e)&&e.call(t.elements.original),t.ready=!1,setTimeout(function(){t.elements=null,t.media=null},200))};this.stop(),this.isHTML5?(clearTimeout(this.timers.loading),Ce.toggleNativeControls.call(this,!0),n()):this.isYouTube?(clearInterval(this.timers.buffering),clearInterval(this.timers.playing),null!==this.embed&&m.function(this.embed.destroy)&&this.embed.destroy(),n()):this.isVimeo&&(null!==this.embed&&this.embed.unload().then(n),setTimeout(n,200))}}},{key:"supports",value:function(e){return z.mime.call(this,e)}},{key:"isHTML5",get:function(){return Boolean(this.provider===fe.html5)}},{key:"isEmbed",get:function(){return Boolean(this.isYouTube||this.isVimeo)}},{key:"isYouTube",get:function(){return Boolean(this.provider===fe.youtube)}},{key:"isVimeo",get:function(){return Boolean(this.provider===fe.vimeo)}},{key:"isVideo",get:function(){return Boolean(this.type===ge)}},{key:"isAudio",get:function(){return Boolean(this.type===me)}},{key:"playing",get:function(){return Boolean(this.ready&&!this.paused&&!this.ended)}},{key:"paused",get:function(){return Boolean(this.media.paused)}},{key:"stopped",get:function(){return Boolean(this.paused&&0===this.currentTime)}},{key:"ended",get:function(){return Boolean(this.media.ended)}},{key:"currentTime",set:function(e){if(this.duration){var t=m.number(e)&&0<e;this.media.currentTime=t?Math.min(e,this.duration):0,this.debug.log("Seeking to ".concat(this.currentTime," seconds"))}},get:function(){return Number(this.media.currentTime)}},{key:"buffered",get:function(){var e=this.media.buffered;return m.number(e)?e:e&&e.length&&0<this.duration?e.end(0)/this.duration:0}},{key:"seeking",get:function(){return Boolean(this.media.seeking)}},{key:"duration",get:function(){var e=parseFloat(this.config.duration),t=(this.media||{}).duration,i=m.number(t)&&t!==1/0?t:0;return e||i}},{key:"volume",set:function(e){var t=e;m.string(t)&&(t=Number(t)),m.number(t)||(t=this.storage.get("volume")),m.number(t)||(t=this.config.volume),1<t&&(t=1),t<0&&(t=0),this.config.volume=t,this.media.volume=t,!m.empty(e)&&this.muted&&0<t&&(this.muted=!1)},get:function(){return Number(this.media.volume)}},{key:"muted",set:function(e){var t=e;m.boolean(t)||(t=this.storage.get("muted")),m.boolean(t)||(t=this.config.muted),this.config.muted=t,this.media.muted=t},get:function(){return Boolean(this.media.muted)}},{key:"hasAudio",get:function(){return!this.isHTML5||(!!this.isAudio||(Boolean(this.media.mozHasAudio)||Boolean(this.media.webkitAudioDecodedByteCount)||Boolean(this.media.audioTracks&&this.media.audioTracks.length)))}},{key:"speed",set:function(e){var t=null;m.number(e)&&(t=e),m.number(t)||(t=this.storage.get("speed")),m.number(t)||(t=this.config.speed.selected),t<.1&&(t=.1),2<t&&(t=2),this.config.speed.options.includes(t)?(this.config.speed.selected=t,this.media.playbackRate=t):this.debug.warn("Unsupported speed (".concat(t,")"))},get:function(){return Number(this.media.playbackRate)}},{key:"quality",set:function(e){var t=this.config.quality,i=this.options.quality;if(i.length){var n,o,s=[!m.empty(e)&&Number(e),this.storage.get("quality"),t.selected,t.default].find(m.number);if(!i.includes(s)){var r=(n=i,o=s,m.array(n)&&n.length?n.reduce(function(e,t){return Math.abs(t-o)<Math.abs(e-o)?t:e}):null);this.debug.warn("Unsupported quality option: ".concat(s,", using ").concat(r," instead")),s=r}t.selected=s,this.media.quality=s}},get:function(){return this.media.quality}},{key:"loop",set:function(e){var t=m.boolean(e)?e:this.config.loop.active;this.config.loop.active=t,this.media.loop=t},get:function(){return Boolean(this.media.loop)}},{key:"source",set:function(e){Fe.change.call(this,e)},get:function(){return this.media.currentSrc}},{key:"download",get:function(){var e=this.config.urls.download;return m.url(e)?e:this.source}},{key:"poster",set:function(e){this.isVideo?Ce.setPoster.call(this,e,!1).catch(function(){}):this.debug.warn("Poster can only be set for video")},get:function(){return this.isVideo?this.media.getAttribute("poster"):null}},{key:"autoplay",set:function(e){var t=m.boolean(e)?e:this.config.autoplay;this.config.autoplay=t},get:function(){return Boolean(this.config.autoplay)}},{key:"currentTrack",set:function(e){he.set.call(this,e,!1)},get:function(){var e=this.captions,t=e.toggled,i=e.currentTrack;return t?i:-1}},{key:"language",set:function(e){he.setLanguage.call(this,e,!1)},get:function(){return(he.getCurrentTrack.call(this)||{}).language}},{key:"pip",set:function(e){var t="picture-in-picture",i="inline";if(z.pip){var n=m.boolean(e)?e:this.pip===i;this.media.webkitSetPresentationMode(n?t:i)}},get:function(){return z.pip?this.media.webkitPresentationMode:null}}],[{key:"supported",value:function(e,t,i){return z.check(e,t,i)}},{key:"loadSprite",value:function(e,t){return oe(e,t)}},{key:"setup",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=null;return m.string(e)?i=Array.from(document.querySelectorAll(e)):m.nodeList(e)?i=Array.from(e):m.array(e)&&(i=e.filter(m.element)),m.empty(i)?null:i.map(function(e){return new c(e,t)})}}]),c}();return je.defaults=(Le=pe,JSON.parse(JSON.stringify(Le))),je}),function(a){"use strict";var o=function(e,t){this.options=a.extend({},a.fn.affix.defaults,t),this.$window=a(window).on("scroll.affix.data-api",a.proxy(this.checkPosition,this)).on("click.affix.data-api",a.proxy(function(){setTimeout(a.proxy(this.checkPosition,this),1)},this)),this.$element=a(e),this.checkPosition()};o.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e,t=a(document).height(),i=this.$window.scrollTop(),n=this.$element.offset(),o=this.options.offset,s=o.bottom,r=o.top;"object"!=typeof o&&(s=r=o),"function"==typeof r&&(r=o.top()),"function"==typeof s&&(s=o.bottom()),e=!(null!=this.unpin&&i+this.unpin<=n.top)&&(null!=s&&n.top+this.$element.height()>=t-s?"bottom":null!=r&&i<=r&&"top"),this.affixed!==e&&(this.affixed=e,this.unpin="bottom"==e?n.top-i:null,this.$element.removeClass("affix affix-top affix-bottom").addClass("affix"+(e?"-"+e:"")))}};var e=a.fn.affix;a.fn.affix=function(n){return this.each(function(){var e=a(this),t=e.data("affix"),i="object"==typeof n&&n;t||e.data("affix",t=new o(this,i)),"string"==typeof n&&t[n]()})},a.fn.affix.Constructor=o,a.fn.affix.defaults={offset:0},a.fn.affix.noConflict=function(){return a.fn.affix=e,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var e=a(this),t=e.data();t.offset=t.offset||{},t.offsetBottom&&(t.offset.bottom=t.offsetBottom),t.offsetTop&&(t.offset.top=t.offsetTop),e.affix(t)})})}(window.jQuery),function(s){"use strict";var t='[data-dismiss="alert"]',n=function(e){s(e).on("click",t,this.close)};n.prototype.close=function(e){var t,i=s(this),n=i.attr("data-target");function o(){t.trigger("closed").remove()}n||(n=(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]*$)/,"")),t=s(n),e&&e.preventDefault(),t.length||(t=i.hasClass("alert")?i:i.parent()),t.trigger(e=s.Event("close")),e.isDefaultPrevented()||(t.removeClass("in"),s.support.transition&&t.hasClass("fade")?t.on(s.support.transition.end,o):o())};var e=s.fn.alert;s.fn.alert=function(i){return this.each(function(){var e=s(this),t=e.data("alert");t||e.data("alert",t=new n(this)),"string"==typeof i&&t[i].call(e)})},s.fn.alert.Constructor=n,s.fn.alert.noConflict=function(){return s.fn.alert=e,this},s(document).on("click.alert.data-api",t,n.prototype.close)}(window.jQuery),function(o){"use strict";var s=function(e,t){this.$element=o(e),this.options=o.extend({},o.fn.button.defaults,t)};s.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.data(),o=i.is("input")?"val":"html";e+="Text",n.resetText||i.data("resetText",i[o]()),i[o](n[e]||this.options[e]),setTimeout(function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)},s.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons-radio"]');e&&e.find(".active").removeClass("active"),this.$element.toggleClass("active")};var e=o.fn.button;o.fn.button=function(n){return this.each(function(){var e=o(this),t=e.data("button"),i="object"==typeof n&&n;t||e.data("button",t=new s(this,i)),"toggle"==n?t.toggle():n&&t.setState(n)})},o.fn.button.defaults={loadingText:"loading..."},o.fn.button.Constructor=s,o.fn.button.noConflict=function(){return o.fn.button=e,this},o(document).on("click.button.data-api","[data-toggle^=button]",function(e){var t=o(e.target);t.hasClass("btn")||(t=t.closest(".btn")),t.button("toggle")})}(window.jQuery),function(c){"use strict";var s=function(e,t){this.$element=c(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=t,"hover"==this.options.pause&&this.$element.on("mouseenter",c.proxy(this.pause,this)).on("mouseleave",c.proxy(this.cycle,this))};s.prototype={cycle:function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(c.proxy(this.next,this),this.options.interval)),this},getActiveIndex:function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},to:function(e){var t=this.getActiveIndex(),i=this;if(!(e>this.$items.length-1||e<0))return this.sliding?this.$element.one("slid",function(){i.to(e)}):t==e?this.pause().cycle():this.slide(t<e?"next":"prev",c(this.$items[e]))},pause:function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&c.support.transition.end&&(this.$element.trigger(c.support.transition.end),this.cycle(!0)),clearInterval(this.interval),this.interval=null,this},next:function(){if(!this.sliding)return this.slide("next")},prev:function(){if(!this.sliding)return this.slide("prev")},slide:function(e,t){var i,n=this.$element.find(".item.active"),o=t||n[e](),s=this.interval,r="next"==e?"left":"right",a="next"==e?"first":"last",l=this;if(this.sliding=!0,s&&this.pause(),o=o.length?o:this.$element.find(".item")[a](),i=c.Event("slide",{relatedTarget:o[0],direction:r}),!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=c(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),c.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(i),i.isDefaultPrevented())return;o.addClass(e),o[0].offsetWidth,n.addClass(r),o.addClass(r),this.$element.one(c.support.transition.end,function(){o.removeClass([e,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)})}else{if(this.$element.trigger(i),i.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}}};var e=c.fn.carousel;c.fn.carousel=function(o){return this.each(function(){var e=c(this),t=e.data("carousel"),i=c.extend({},c.fn.carousel.defaults,"object"==typeof o&&o),n="string"==typeof o?o:i.slide;t||e.data("carousel",t=new s(this,i)),"number"==typeof o?t.to(o):n?t[n]():i.interval&&t.pause().cycle()})},c.fn.carousel.defaults={interval:5e3,pause:"hover"},c.fn.carousel.Constructor=s,c.fn.carousel.noConflict=function(){return c.fn.carousel=e,this},c(document).on("click.carousel.data-api","[data-slide], [data-slide-to]",function(e){var t,i,n=c(this),o=c(n.attr("data-target")||(t=n.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,"")),s=c.extend({},o.data(),n.data());o.carousel(s),(i=n.attr("data-slide-to"))&&o.data("carousel").pause().to(i).cycle(),e.preventDefault()})}(window.jQuery),function(s){"use strict";var o=function(e,t){this.$element=s(e),this.options=s.extend({},s.fn.collapse.defaults,t),this.options.parent&&(this.$parent=s(this.options.parent)),this.options.toggle&&this.toggle()};o.prototype={constructor:o,dimension:function(){return this.$element.hasClass("width")?"width":"height"},show:function(){var e,t,i,n;if(!this.transitioning&&!this.$element.hasClass("in")){if(e=this.dimension(),t=s.camelCase(["scroll",e].join("-")),(i=this.$parent&&this.$parent.find("> .accordion-group > .in"))&&i.length){if((n=i.data("collapse"))&&n.transitioning)return;i.collapse("hide"),n||i.data("collapse",null)}this.$element[e](0),this.transition("addClass",s.Event("show"),"shown"),s.support.transition&&this.$element[e](this.$element[0][t])}},hide:function(){var e;!this.transitioning&&this.$element.hasClass("in")&&(e=this.dimension(),this.reset(this.$element[e]()),this.transition("removeClass",s.Event("hide"),"hidden"),this.$element[e](0))},reset:function(e){var t=this.dimension();return this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth,this.$element[null!==e?"addClass":"removeClass"]("collapse"),this},transition:function(e,t,i){var n=this,o=function(){"show"==t.type&&n.reset(),n.transitioning=0,n.$element.trigger(i)};this.$element.trigger(t),t.isDefaultPrevented()||(this.transitioning=1,this.$element[e]("in"),s.support.transition&&this.$element.hasClass("collapse")?this.$element.one(s.support.transition.end,o):o())},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var e=s.fn.collapse;s.fn.collapse=function(n){return this.each(function(){var e=s(this),t=e.data("collapse"),i=s.extend({},s.fn.collapse.defaults,e.data(),"object"==typeof n&&n);t||e.data("collapse",t=new o(this,i)),"string"==typeof n&&t[n]()})},s.fn.collapse.defaults={toggle:!0},s.fn.collapse.Constructor=o,s.fn.collapse.noConflict=function(){return s.fn.collapse=e,this},s(document).on("click.collapse.data-api","[data-toggle=collapse]",function(e){var t,i=s(this),n=i.attr("data-target")||e.preventDefault()||(t=i.attr("href"))&&t.replace(/.*(?=#[^\s]+$)/,""),o=s(n).data("collapse")?"toggle":i.data();i[s(n).hasClass("in")?"addClass":"removeClass"]("collapsed"),s(n).collapse(o)})}(window.jQuery),function(r){"use strict";var a="[data-toggle=dropdown]",n=function(e){var t=r(e).on("click.dropdown.data-api",this.toggle);r("html").on("click.dropdown.data-api",function(){t.parent().removeClass("open")})};function o(){r(".dropdown-backdrop").remove(),r(a).each(function(){l(r(this)).removeClass("open")})}function l(e){var t,i=e.attr("data-target");return i||(i=(i=e.attr("href"))&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,"")),(t=i&&r(i))&&t.length||(t=e.parent()),t}n.prototype={constructor:n,toggle:function(e){var t,i,n=r(this);if(!n.is(".disabled, :disabled"))return i=(t=l(n)).hasClass("open"),o(),i||("ontouchstart"in document.documentElement&&r('<div class="dropdown-backdrop"/>').insertBefore(r(this)).on("click",o),t.toggleClass("open")),n.focus(),!1},keydown:function(e){var t,i,n,o,s;if(/(38|40|27)/.test(e.keyCode)&&(t=r(this),e.preventDefault(),e.stopPropagation(),!t.is(".disabled, :disabled"))){if(!(o=(n=l(t)).hasClass("open"))||o&&27==e.keyCode)return 27==e.which&&n.find(a).focus(),t.click();(i=r("[role=menu] li:not(.divider):visible a",n)).length&&(s=i.index(i.filter(":focus")),38==e.keyCode&&0<s&&s--,40==e.keyCode&&s<i.length-1&&s++,~s||(s=0),i.eq(s).focus())}}};var e=r.fn.dropdown;r.fn.dropdown=function(i){return this.each(function(){var e=r(this),t=e.data("dropdown");t||e.data("dropdown",t=new n(this)),"string"==typeof i&&t[i].call(e)})},r.fn.dropdown.Constructor=n,r.fn.dropdown.noConflict=function(){return r.fn.dropdown=e,this},r(document).on("click.dropdown.data-api",o).on("click.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.dropdown.data-api",a,n.prototype.toggle).on("keydown.dropdown.data-api",a+", [role=menu]",n.prototype.keydown)}(window.jQuery),function(s){"use strict";var o=function(e,t){this.options=t,this.$element=s(e).delegate('[data-dismiss="modal"]',"click.dismiss.modal",s.proxy(this.hide,this)),this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};o.prototype={constructor:o,toggle:function(){return this[this.isShown?"hide":"show"]()},show:function(){var t=this,e=s.Event("show");this.$element.trigger(e),this.isShown||e.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var e=s.support.transition&&t.$element.hasClass("fade");t.$element.parent().length||t.$element.appendTo(document.body),t.$element.show(),e&&t.$element[0].offsetWidth,t.$element.addClass("in").attr("aria-hidden",!1),t.enforceFocus(),e?t.$element.one(s.support.transition.end,function(){t.$element.focus().trigger("shown")}):t.$element.focus().trigger("shown")}))},hide:function(e){e&&e.preventDefault();e=s.Event("hide"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),s(document).off("focusin.modal"),this.$element.removeClass("in").attr("aria-hidden",!0),s.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal())},enforceFocus:function(){var t=this;s(document).on("focusin.modal",function(e){t.$element[0]===e.target||t.$element.has(e.target).length||t.$element.focus()})},escape:function(){var t=this;this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.modal",function(e){27==e.which&&t.hide()}):this.isShown||this.$element.off("keyup.dismiss.modal")},hideWithTransition:function(){var e=this,t=setTimeout(function(){e.$element.off(s.support.transition.end),e.hideModal()},500);this.$element.one(s.support.transition.end,function(){clearTimeout(t),e.hideModal()})},hideModal:function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},backdrop:function(e){var t=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=s.support.transition&&t;if(this.$backdrop=s('<div class="modal-backdrop '+t+'" />').appendTo(document.body),this.$backdrop.click("static"==this.options.backdrop?s.proxy(this.$element[0].focus,this.$element[0]):s.proxy(this.hide,this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(s.support.transition.end,e):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),s.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(s.support.transition.end,e):e()):e&&e()}};var e=s.fn.modal;s.fn.modal=function(n){return this.each(function(){var e=s(this),t=e.data("modal"),i=s.extend({},s.fn.modal.defaults,e.data(),"object"==typeof n&&n);t||e.data("modal",t=new o(this,i)),"string"==typeof n?t[n]():i.show&&t.show()})},s.fn.modal.defaults={backdrop:!0,keyboard:!0,show:!0},s.fn.modal.Constructor=o,s.fn.modal.noConflict=function(){return s.fn.modal=e,this},s(document).on("click.modal.data-api",'[data-toggle="modal"]',function(e){var t=s(this),i=t.attr("href"),n=s(t.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=n.data("modal")?"toggle":s.extend({remote:!/#/.test(i)&&i},n.data(),t.data());e.preventDefault(),n.modal(o).one("hide",function(){t.focus()})})}(window.jQuery),function(s){"use strict";function o(e,t){var i,n=s.proxy(this.process,this),o=s(e).is("body")?s(window):s(e);this.options=s.extend({},s.fn.scrollspy.defaults,t),this.$scrollElement=o.on("scroll.scroll-spy.data-api",n),this.selector=(this.options.target||(i=s(e).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.$body=s("body"),this.refresh(),this.process()}o.prototype={constructor:o,refresh:function(){var n=this;this.offsets=s([]),this.targets=s([]),this.$body.find(this.selector).map(function(){var e=s(this),t=e.data("target")||e.attr("href"),i=/^#\w/.test(t)&&s(t);return i&&i.length&&[[i.position().top+(!s.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),t]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},process:function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=(this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight)-this.$scrollElement.height(),n=this.offsets,o=this.targets,s=this.activeTarget;if(i<=t)return s!=(e=o.last()[0])&&this.activate(e);for(e=n.length;e--;)s!=o[e]&&t>=n[e]&&(!n[e+1]||t<=n[e+1])&&this.activate(o[e])},activate:function(e){var t,i;this.activeTarget=e,s(this.selector).parent(".active").removeClass("active"),i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',(t=s(i).parent("li").addClass("active")).parent(".dropdown-menu").length&&(t=t.closest("li.dropdown").addClass("active")),t.trigger("activate")}};var e=s.fn.scrollspy;s.fn.scrollspy=function(n){return this.each(function(){var e=s(this),t=e.data("scrollspy"),i="object"==typeof n&&n;t||e.data("scrollspy",t=new o(this,i)),"string"==typeof n&&t[n]()})},s.fn.scrollspy.Constructor=o,s.fn.scrollspy.defaults={offset:10},s.fn.scrollspy.noConflict=function(){return s.fn.scrollspy=e,this},s(window).on("load",function(){s('[data-spy="scroll"]').each(function(){var e=s(this);e.scrollspy(e.data())})})}(window.jQuery),function(r){"use strict";var n=function(e){this.element=r(e)};n.prototype={constructor:n,show:function(){var e,t,i,n=this.element,o=n.closest("ul:not(.dropdown-menu)"),s=n.attr("data-target");s||(s=(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]*$)/,"")),n.parent("li").hasClass("active")||(e=o.find(".active:last a")[0],i=r.Event("show",{relatedTarget:e}),n.trigger(i),i.isDefaultPrevented()||(t=r(s),this.activate(n.parent("li"),o),this.activate(t,t.parent(),function(){n.trigger({type:"shown",relatedTarget:e})})))},activate:function(e,t,i){var n=t.find("> .active"),o=i&&r.support.transition&&n.hasClass("fade");function s(){n.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),o?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}o?n.one(r.support.transition.end,s):s(),n.removeClass("in")}};var e=r.fn.tab;r.fn.tab=function(i){return this.each(function(){var e=r(this),t=e.data("tab");t||e.data("tab",t=new n(this)),"string"==typeof i&&t[i]()})},r.fn.tab.Constructor=n,r.fn.tab.noConflict=function(){return r.fn.tab=e,this},r(document).on("click.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),r(this).tab("show")})}(window.jQuery),function(l){"use strict";var o=function(e,t){this.init("tooltip",e,t)};o.prototype={constructor:o,init:function(e,t,i){var n,o,s,r,a;for(this.type=e,this.$element=l(t),this.options=this.getOptions(i),this.enabled=!0,a=(s=this.options.trigger.split(" ")).length;a--;)"click"==(r=s[a])?this.$element.on("click."+this.type,this.options.selector,l.proxy(this.toggle,this)):"manual"!=r&&(n="hover"==r?"mouseenter":"focus",o="hover"==r?"mouseleave":"blur",this.$element.on(n+"."+this.type,this.options.selector,l.proxy(this.enter,this)),this.$element.on(o+"."+this.type,this.options.selector,l.proxy(this.leave,this)));this.options.selector?this._options=l.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(e){return(e=l.extend({},l.fn[this.type].defaults,this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},enter:function(e){var t,i=l.fn[this.type].defaults,n={};if(this._options&&l.each(this._options,function(e,t){i[e]!=t&&(n[e]=t)},this),!(t=l(e.currentTarget)[this.type](n).data(this.type)).options.delay||!t.options.delay.show)return t.show();clearTimeout(this.timeout),t.hoverState="in",this.timeout=setTimeout(function(){"in"==t.hoverState&&t.show()},t.options.delay.show)},leave:function(e){var t=l(e.currentTarget)[this.type](this._options).data(this.type);if(this.timeout&&clearTimeout(this.timeout),!t.options.delay||!t.options.delay.hide)return t.hide();t.hoverState="out",this.timeout=setTimeout(function(){"out"==t.hoverState&&t.hide()},t.options.delay.hide)},show:function(){var e,t,i,n,o,s,r=l.Event("show");if(this.hasContent()&&this.enabled){if(this.$element.trigger(r),r.isDefaultPrevented())return;switch(e=this.tip(),this.setContent(),this.options.animation&&e.addClass("fade"),o="function"==typeof this.options.placement?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement,e.detach().css({top:0,left:0,display:"block"}),this.options.container?e.appendTo(this.options.container):e.insertAfter(this.$element),t=this.getPosition(),i=e[0].offsetWidth,n=e[0].offsetHeight,o){case"bottom":s={top:t.top+t.height,left:t.left+t.width/2-i/2};break;case"top":s={top:t.top-n,left:t.left+t.width/2-i/2};break;case"left":s={top:t.top+t.height/2-n/2,left:t.left-i};break;case"right":s={top:t.top+t.height/2-n/2,left:t.left+t.width}}this.applyPlacement(s,o),this.$element.trigger("shown")}},applyPlacement:function(e,t){var i,n,o,s,r=this.tip(),a=r[0].offsetWidth,l=r[0].offsetHeight;r.offset(e).addClass(t).addClass("in"),i=r[0].offsetWidth,n=r[0].offsetHeight,"top"==t&&n!=l&&(e.top=e.top+l-n,s=!0),"bottom"==t||"top"==t?(o=0,e.left<0&&(o=-2*e.left,e.left=0,r.offset(e),i=r[0].offsetWidth,n=r[0].offsetHeight),this.replaceArrow(o-a+i,i,"left")):this.replaceArrow(n-l,n,"top"),s&&r.offset(e)},replaceArrow:function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},hide:function(){var e,t=this.tip(),i=l.Event("hide");if(this.$element.trigger(i),!i.isDefaultPrevented())return t.removeClass("in"),l.support.transition&&this.$tip.hasClass("fade")?(e=setTimeout(function(){t.off(l.support.transition.end).detach()},500),t.one(l.support.transition.end,function(){clearTimeout(e),t.detach()})):t.detach(),this.$element.trigger("hidden"),this},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},hasContent:function(){return this.getTitle()},getPosition:function(){var e=this.$element[0];return l.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},getTitle:function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},tip:function(){return this.$tip=this.$tip||l(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(e){var t=e?l(e.currentTarget)[this.type](this._options).data(this.type):this;t.tip().hasClass("in")?t.hide():t.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var e=l.fn.tooltip;l.fn.tooltip=function(n){return this.each(function(){var e=l(this),t=e.data("tooltip"),i="object"==typeof n&&n;t||e.data("tooltip",t=new o(this,i)),"string"==typeof n&&t[n]()})},l.fn.tooltip.Constructor=o,l.fn.tooltip.defaults={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},l.fn.tooltip.noConflict=function(){return l.fn.tooltip=e,this}}(window.jQuery),function(o){"use strict";var s=function(e,t){this.init("popover",e,t)};s.prototype=o.extend({},o.fn.tooltip.Constructor.prototype,{constructor:s,setContent:function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](i),e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e=this.$element,t=this.options;return("function"==typeof t.content?t.content.call(e[0]):t.content)||e.attr("data-content")},tip:function(){return this.$tip||(this.$tip=o(this.options.template)),this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var e=o.fn.popover;o.fn.popover=function(n){return this.each(function(){var e=o(this),t=e.data("popover"),i="object"==typeof n&&n;t||e.data("popover",t=new s(this,i)),"string"==typeof n&&t[n]()})},o.fn.popover.Constructor=s,o.fn.popover.defaults=o.extend({},o.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),o.fn.popover.noConflict=function(){return o.fn.popover=e,this}}(window.jQuery),function(t){"use strict";t(function(){var e;t.support.transition=(e=function(){var e,t=document.createElement("bootstrap"),i={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(e in i)if(void 0!==t.style[e])return i[e]}())&&{end:e}})}(window.jQuery),function(o){"use strict";var s=function(e,t){this.$element=o(e),this.options=o.extend({},o.fn.typeahead.defaults,t),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=o(this.options.menu),this.shown=!1,this.listen()};s.prototype={constructor:s,select:function(){var e=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(e)).change(),this.hide()},updater:function(e){return e},show:function(){var e=o.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var t;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(t=o.isFunction(this.source)?this.source(this.query,o.proxy(this.process,this)):this.source)?this.process(t):this},process:function(e){var t=this;return e=o.grep(e,function(e){return t.matcher(e)}),(e=this.sorter(e)).length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(e){return~e.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(e){for(var t,i=[],n=[],o=[];t=e.shift();)t.toLowerCase().indexOf(this.query.toLowerCase())?~t.indexOf(this.query)?n.push(t):o.push(t):i.push(t);return i.concat(n,o)},highlighter:function(e){var t=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return e.replace(new RegExp("("+t+")","ig"),function(e,t){return"<strong>"+t+"</strong>"})},render:function(e){var i=this;return(e=o(e).map(function(e,t){return(e=o(i.options.item).attr("data-value",t)).find("a").html(i.highlighter(t)),e[0]})).first().addClass("active"),this.$menu.html(e),this},next:function(e){var t=this.$menu.find(".active").removeClass("active").next();t.length||(t=o(this.$menu.find("li")[0])),t.addClass("active")},prev:function(e){var t=this.$menu.find(".active").removeClass("active").prev();t.length||(t=this.$menu.find("li").last()),t.addClass("active")},listen:function(){this.$element.on("focus",o.proxy(this.focus,this)).on("blur",o.proxy(this.blur,this)).on("keypress",o.proxy(this.keypress,this)).on("keyup",o.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",o.proxy(this.keydown,this)),this.$menu.on("click",o.proxy(this.click,this)).on("mouseenter","li",o.proxy(this.mouseenter,this)).on("mouseleave","li",o.proxy(this.mouseleave,this))},eventSupported:function(e){var t=e in this.$element;return t||(this.$element.setAttribute(e,"return;"),t="function"==typeof this.$element[e]),t},move:function(e){if(this.shown){switch(e.keyCode){case 9:case 13:case 27:e.preventDefault();break;case 38:e.preventDefault(),this.prev();break;case 40:e.preventDefault(),this.next()}e.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~o.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(e){this.suppressKeyPressRepeat||this.move(e)},keyup:function(e){switch(e.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}e.stopPropagation(),e.preventDefault()},focus:function(e){this.focused=!0},blur:function(e){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(e){e.stopPropagation(),e.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),o(e.currentTarget).addClass("active")},mouseleave:function(e){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var e=o.fn.typeahead;o.fn.typeahead=function(n){return this.each(function(){var e=o(this),t=e.data("typeahead"),i="object"==typeof n&&n;t||e.data("typeahead",t=new s(this,i)),"string"==typeof n&&t[n]()})},o.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},o.fn.typeahead.Constructor=s,o.fn.typeahead.noConflict=function(){return o.fn.typeahead=e,this},o(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var t=o(this);t.data("typeahead")||t.typeahead(t.data())})}(window.jQuery),function(g){"use strict";g.fn.cleanHtml=function(e){if(!0===g(this).data("wysiwyg-html-mode")&&(g(this).html(g(this).text()),g(this).attr("contenteditable",!0),g(this).data("wysiwyg-html-mode",!1)),!0===e&&g(this).parent().is("form")){var t=g(this).html;if(g(t).has("img").length){var i=g("img",g(t)),n=[],o=g(this).parent();g.each(i,function(e,t){g(t).attr("src").match(/^data:image\/.*$/)&&(n.push(i[e]),g(o).prepend("<input value='"+g(t).attr("src")+"' type='hidden' name='postedimage/"+e+"' />"),g(t).attr("src","postedimage/"+e))})}}var s=g(this).html();return s&&s.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"")},g.fn.wysiwyg=function(e){var t,u,d,i,n,o,r=this,h=g(r).parent(),a=function(){var i,n,o,s,r,a,l,c;u.activeToolbarClass&&g(u.toolbarSelector,h).find(d).each((i=function(){var e=g(this).data(u.commandRole).split(" "),t=e[0];1<e.length&&document.queryCommandEnabled(t)&&document.queryCommandValue(t)==e[1]?g(this).addClass(u.activeToolbarClass):1===e.length&&document.queryCommandEnabled(t)&&document.queryCommandState(t)?g(this).addClass(u.activeToolbarClass):g(this).removeClass(u.activeToolbarClass)},n=u.keypressTimeout,l=0,c=function(){l=new Date,r=null,a=i.apply(o,s)},function(){var e=new Date,t=n-(e-l);return o=this,s=arguments,t<=0?(clearTimeout(r),r=null,l=e,a=i.apply(o,s)):r||(r=setTimeout(c,t)),a}))},s=function(e,t){var i=e.split(" "),n=i.shift(),o=i.join(" ")+(t||""),s=e.split("-");1==s.length?document.execCommand(n,0,o):"format"==s[0]&&2==s.length&&document.execCommand("formatBlock",!1,s[1]),r.trigger("change"),a()},l=function(){var e,t;return window.getSelection?(e=window.getSelection()).getRangeAt&&e.rangeCount&&(t=e.getRangeAt(0)):document.selection&&(t=document.selection.createRange()),t},c=function(){t=l()},p=function(){var e;if(window.getSelection||document.createRange){if(e=window.getSelection(),t){try{e.removeAllRanges()}catch(e){document.body.createTextRange().select(),document.selection.empty()}e.addRange(t)}}else document.selection&&t&&t.select()},f=function(e){r.focus(),g.each(e,function(e,t){var i,n,o;/^image\//.test(t.type)?g.when((i=t,n=g.Deferred(),o=new FileReader,o.onload=function(e){n.resolve(e.target.result)},o.onerror=n.reject,o.onprogress=n.notify,o.readAsDataURL(i),n.promise())).done(function(e){s("insertimage",e),r.trigger("image-inserted")}).fail(function(e){u.fileUploadError("file-reader",e)}):u.fileUploadError("unsupported-file-type",t.type)})},m=function(e,t){p(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,t||"transparent"),c(),e.data(u.selectionMarker,t)};return u=g.extend(!0,{},g.fn.wysiwyg.defaults,e),d="a[data-"+u.commandRole+"],button[data-"+u.commandRole+"],input[type=button][data-"+u.commandRole+"]",i=u.hotKeys,g.each(i,function(e,t){r.keydown(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation(),s(t))}).keyup(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation())})}),r.keyup(function(){r.trigger("change")}),""!=g(this).attr("placeholder")&&(g(this).addClass("placeholderText"),g(this).html(g(this).attr("placeholder")),g(this).bind("focus",function(e){""!=g(this).attr("placeholder")&&g(this).text()==g(this).attr("placeholder")&&(g(this).removeClass("placeholderText"),g(this).html(""))}),g(this).bind("blur",function(e){""!=g(this).attr("placeholder")&&""==g(this).text()&&(g(this).addClass("placeholderText"),g(this).html(g(this).attr("placeholder")))})),u.dragAndDropImages&&r.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&0<t.files.length&&f(t.files)}),n=g(u.toolbarSelector),o=u,n.find(d,h).click(function(){p(),r.focus(),"html"===g(this).data(o.commandRole)?function(e){if(!0!==g(r).data("wysiwyg-html-mode")){var t=g(r).html(),i=g("<pre />");g(i).append(document.createTextNode(t)),g(i).attr("contenteditable",!0),g(r).html(" "),g(r).append(g(i)),g(r).attr("contenteditable",!1),g(r).data("wysiwyg-html-mode",!0),g(i).focus()}else g(r).html(g(r).text()),g(r).attr("contenteditable",!0),g(r).data("wysiwyg-html-mode",!1),g(r).focus()}():s(g(this).data(o.commandRole)),c()}),n.find("[data-toggle=dropdown]").click(p),n.find("input[type=text][data-"+o.commandRole+"]").on("webkitspeechchange change",function(){var e=this.value;this.value="",p(),e&&(r.focus(),s(g(this).data(o.commandRole),e)),c()}).on("focus",function(){var e=g(this);e.data(o.selectionMarker)||(m(e,o.selectionColor),e.focus())}).on("blur",function(){var e=g(this);e.data(o.selectionMarker)&&m(e,!1)}),n.find("input[type=file][data-"+o.commandRole+"]").change(function(){p(),"file"===this.type&&this.files&&0<this.files.length&&f(this.files),c(),this.value=""}),r.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){c(),a()}),g(window).bind("touchend",function(e){var t=r.is(e.target)||0<r.has(e.target).length,i=l();i&&i.startContainer===i.endContainer&&i.startOffset===i.endOffset&&!t||(c(),a())}),this},g.fn.wysiwyg.defaults={hotKeys:{"Ctrl+b meta+b":"bold","Ctrl+i meta+i":"italic","Ctrl+u meta+u":"underline","Ctrl+z":"undo","Ctrl+y meta+y meta+shift+z":"redo","Ctrl+l meta+l":"justifyleft","Ctrl+r meta+r":"justifyright","Ctrl+e meta+e":"justifycenter","Ctrl+j meta+j":"justifyfull","Shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,keypressTimeout:200,fileUploadError:function(e,t){console.log("File upload error",e,t)}}}(window.jQuery),function(u){function e(e){if("string"==typeof e.data){var a=e.handler,l=e.data.toLowerCase().split(" "),c=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color"];e.handler=function(e){if(this===e.target||!(/textarea|select/i.test(e.target.nodeName)||-1<u.inArray(e.target.type,c))){var t="keypress"!==e.type&&u.hotkeys.specialKeys[e.which],i=String.fromCharCode(e.which).toLowerCase(),n="",o={};e.altKey&&"alt"!==t&&(n+="alt+"),e.ctrlKey&&"ctrl"!==t&&(n+="ctrl+"),e.metaKey&&!e.ctrlKey&&"meta"!==t&&(n+="meta+"),e.shiftKey&&"shift"!==t&&(n+="shift+"),t?o[n+t]=!0:(o[n+i]=!0,o[n+u.hotkeys.shiftNums[i]]=!0,"shift+"===n&&(o[u.hotkeys.shiftNums[i]]=!0));for(var s=0,r=l.length;s<r;s++)if(o[l[s]])return a.apply(this,arguments)}}}}u.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",191:"/",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},u.each(["keydown","keyup","keypress"],function(){u.event.special[this]={add:e}})}(jQuery),function(){var r,t,i,e,d,h,n,o,a=[].slice,s={}.hasOwnProperty;n=function(){},t=function(){function e(){}return e.prototype.addEventListener=e.prototype.on,e.prototype.on=function(e,t){return this._callbacks=this._callbacks||{},this._callbacks[e]||(this._callbacks[e]=[]),this._callbacks[e].push(t),this},e.prototype.emit=function(){var e,t,i,n,o;if(i=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],this._callbacks=this._callbacks||{},t=this._callbacks[i])for(n=0,o=t.length;n<o;n++)t[n].apply(this,e);return this},e.prototype.removeListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.off=function(e,t){var i,n,o,s;if(!this._callbacks||0===arguments.length)return this._callbacks={},this;if(!(i=this._callbacks[e]))return this;if(1===arguments.length)return delete this._callbacks[e],this;for(n=o=0,s=i.length;o<s;n=++o)if(i[n]===t){i.splice(n,1);break}return this},e}(),(r=function(e){var O,H;function q(e,t){var i,n,o;if(this.element=e,this.version=q.version,this.defaultOptions.previewTemplate=this.defaultOptions.previewTemplate.replace(/\n*/g,""),this.clickableElements=[],this.listeners=[],this.files=[],"string"==typeof this.element&&(this.element=document.querySelector(this.element)),!this.element||null==this.element.nodeType)throw new Error("Invalid dropzone element.");if(this.element.dropzone)throw new Error("Dropzone already attached.");if(q.instances.push(this),this.element.dropzone=this,i=null!=(o=q.optionsForElement(this.element))?o:{},this.options=O({},this.defaultOptions,i,null!=t?t:{}),this.options.forceFallback||!q.isBrowserSupported())return this.options.fallback.call(this);if(null==this.options.url&&(this.options.url=this.element.getAttribute("action")),!this.options.url)throw new Error("No URL provided.");if(this.options.acceptedFiles&&this.options.acceptedMimeTypes)throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.");this.options.acceptedMimeTypes&&(this.options.acceptedFiles=this.options.acceptedMimeTypes,delete this.options.acceptedMimeTypes),this.options.method=this.options.method.toUpperCase(),(n=this.getExistingFallback())&&n.parentNode&&n.parentNode.removeChild(n),!1!==this.options.previewsContainer&&(this.options.previewsContainer?this.previewsContainer=q.getElement(this.options.previewsContainer,"previewsContainer"):this.previewsContainer=this.element),this.options.clickable&&(!0===this.options.clickable?this.clickableElements=[this.element]:this.clickableElements=q.getElements(this.options.clickable,"clickable")),this.init()}return function(e,t){for(var i in t)s.call(t,i)&&(e[i]=t[i]);function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype}(q,t),q.prototype.Emitter=t,q.prototype.events=["drop","dragstart","dragend","dragenter","dragover","dragleave","addedfile","removedfile","thumbnail","error","errormultiple","processing","processingmultiple","uploadprogress","totaluploadprogress","sending","sendingmultiple","success","successmultiple","canceled","canceledmultiple","complete","completemultiple","reset","maxfilesexceeded","maxfilesreached","queuecomplete"],q.prototype.defaultOptions={url:null,method:"post",withCredentials:!1,parallelUploads:2,uploadMultiple:!1,maxFilesize:256,paramName:"file",createImageThumbnails:!0,maxThumbnailFilesize:10,thumbnailWidth:120,thumbnailHeight:120,filesizeBase:1e3,maxFiles:null,filesizeBase:1e3,params:{},clickable:!0,ignoreHiddenFiles:!0,acceptedFiles:null,acceptedMimeTypes:null,autoProcessQueue:!0,autoQueue:!0,addRemoveLinks:!1,previewsContainer:null,capture:null,dictDefaultMessage:"Drop files here to upload",dictFallbackMessage:"Your browser does not support drag'n'drop file uploads.",dictFallbackText:"Please use the fallback form below to upload your files like in the olden days.",dictFileTooBig:"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.",dictInvalidFileType:"You can't upload files of this type.",dictResponseError:"Server responded with {{statusCode}} code.",dictCancelUpload:"Cancel upload",dictCancelUploadConfirmation:"Are you sure you want to cancel this upload?",dictRemoveFile:"Remove file",dictRemoveFileConfirmation:null,dictMaxFilesExceeded:"You can not upload any more files.",accept:function(e,t){return t()},init:function(){return n},forceFallback:!1,fallback:function(){var e,t,i,n,o,s;for(this.element.className=this.element.className+" dz-browser-not-supported",n=0,o=(s=this.element.getElementsByTagName("div")).length;n<o;n++)e=s[n],/(^| )dz-message($| )/.test(e.className)&&((t=e).className="dz-message");return t||(t=q.createElement('<div class="dz-message"><span></span></div>'),this.element.appendChild(t)),(i=t.getElementsByTagName("span")[0])&&(i.textContent=this.options.dictFallbackMessage),this.element.appendChild(this.getFallbackForm())},resize:function(e){var t,i,n;return t={srcX:0,srcY:0,srcWidth:e.width,srcHeight:e.height},i=e.width/e.height,t.optWidth=this.options.thumbnailWidth,t.optHeight=this.options.thumbnailHeight,null==t.optWidth&&null==t.optHeight?(t.optWidth=t.srcWidth,t.optHeight=t.srcHeight):null==t.optWidth?t.optWidth=i*t.optHeight:null==t.optHeight&&(t.optHeight=1/i*t.optWidth),n=t.optWidth/t.optHeight,e.height<t.optHeight||e.width<t.optWidth?(t.trgHeight=t.srcHeight,t.trgWidth=t.srcWidth):n<i?(t.srcHeight=e.height,t.srcWidth=t.srcHeight*n):(t.srcWidth=e.width,t.srcHeight=t.srcWidth/n),t.srcX=(e.width-t.srcWidth)/2,t.srcY=(e.height-t.srcHeight)/2,t},drop:function(e){return this.element.classList.remove("dz-drag-hover")},dragstart:n,dragend:function(e){return this.element.classList.remove("dz-drag-hover")},dragenter:function(e){return this.element.classList.add("dz-drag-hover")},dragover:function(e){return this.element.classList.add("dz-drag-hover")},dragleave:function(e){return this.element.classList.remove("dz-drag-hover")},paste:n,reset:function(){return this.element.classList.remove("dz-started")},addedfile:function(t){var e,i,n,o,s,r,a,l,c,u,d,h,p;if(this.element===this.previewsContainer&&this.element.classList.add("dz-started"),this.previewsContainer){for(t.previewElement=q.createElement(this.options.previewTemplate.trim()),t.previewTemplate=t.previewElement,this.previewsContainer.appendChild(t.previewElement),n=0,r=(c=t.previewElement.querySelectorAll("[data-dz-name]")).length;n<r;n++)c[n].textContent=t.name;for(o=0,a=(u=t.previewElement.querySelectorAll("[data-dz-size]")).length;o<a;o++)u[o].innerHTML=this.filesize(t.size);for(this.options.addRemoveLinks&&(t._removeLink=q.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>'+this.options.dictRemoveFile+"</a>"),t.previewElement.appendChild(t._removeLink)),p=this,e=function(e){return e.preventDefault(),e.stopPropagation(),t.status===q.UPLOADING?q.confirm(p.options.dictCancelUploadConfirmation,function(){return p.removeFile(t)}):p.options.dictRemoveFileConfirmation?q.confirm(p.options.dictRemoveFileConfirmation,function(){return p.removeFile(t)}):p.removeFile(t)},h=[],s=0,l=(d=t.previewElement.querySelectorAll("[data-dz-remove]")).length;s<l;s++)i=d[s],h.push(i.addEventListener("click",e));return h}},removedfile:function(e){var t;return e.previewElement&&null!=(t=e.previewElement)&&t.parentNode.removeChild(e.previewElement),this._updateMaxFilesReachedClass()},thumbnail:function(e,t){var i,n,o,s;if(e.previewElement){for(e.previewElement.classList.remove("dz-file-preview"),n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-thumbnail]")).length;n<o;n++)(i=s[n]).alt=e.name,i.src=t;return setTimeout(function(){return e.previewElement.classList.add("dz-image-preview")},1)}},error:function(e,t){var i,n,o,s,r;if(e.previewElement){for(e.previewElement.classList.add("dz-error"),"String"!=typeof t&&t.error&&(t=t.error),r=[],n=0,o=(s=e.previewElement.querySelectorAll("[data-dz-errormessage]")).length;n<o;n++)i=s[n],r.push(i.textContent=t);return r}},errormultiple:n,processing:function(e){if(e.previewElement&&(e.previewElement.classList.add("dz-processing"),e._removeLink))return e._removeLink.textContent=this.options.dictCancelUpload},processingmultiple:n,uploadprogress:function(e,t,i){var n,o,s,r,a;if(e.previewElement){for(a=[],o=0,s=(r=e.previewElement.querySelectorAll("[data-dz-uploadprogress]")).length;o<s;o++)"PROGRESS"===(n=r[o]).nodeName?a.push(n.value=t):a.push(n.style.width=t+"%");return a}},totaluploadprogress:n,sending:n,sendingmultiple:n,success:function(e){if(e.previewElement)return e.previewElement.classList.add("dz-success")},successmultiple:n,canceled:function(e){return this.emit("error",e,"Upload canceled.")},canceledmultiple:n,complete:function(e){if(e._removeLink&&(e._removeLink.textContent=this.options.dictRemoveFile),e.previewElement)return e.previewElement.classList.add("dz-complete")},completemultiple:n,maxfilesexceeded:n,maxfilesreached:n,queuecomplete:n,previewTemplate:'<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>'},O=function(){var e,t,i,n,o,s,r;for(n=arguments[0],s=0,r=(i=2<=arguments.length?a.call(arguments,1):[]).length;s<r;s++)for(e in t=i[s])o=t[e],n[e]=o;return n},q.prototype.getAcceptedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted&&o.push(e);return o},q.prototype.getRejectedFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).accepted||o.push(e);return o},q.prototype.getFilesWithStatus=function(e){var t,i,n,o,s;for(s=[],i=0,n=(o=this.files).length;i<n;i++)(t=o[i]).status===e&&s.push(t);return s},q.prototype.getQueuedFiles=function(){return this.getFilesWithStatus(q.QUEUED)},q.prototype.getUploadingFiles=function(){return this.getFilesWithStatus(q.UPLOADING)},q.prototype.getActiveFiles=function(){var e,t,i,n,o;for(o=[],t=0,i=(n=this.files).length;t<i;t++)(e=n[t]).status!==q.UPLOADING&&e.status!==q.QUEUED||o.push(e);return o},q.prototype.init=function(){var e,i,o,t,n,s,r,a,l,c,u,d,h,p,f,m,g,v,y;for("form"===this.element.tagName&&this.element.setAttribute("enctype","multipart/form-data"),this.element.classList.contains("dropzone")&&!this.element.querySelector(".dz-message")&&this.element.appendChild(q.createElement('<div class="dz-default dz-message"><span>'+this.options.dictDefaultMessage+"</span></div>")),this.clickableElements.length&&(a=this,(o=function(){return a.hiddenFileInput&&document.body.removeChild(a.hiddenFileInput),a.hiddenFileInput=document.createElement("input"),a.hiddenFileInput.setAttribute("type","file"),(null==a.options.maxFiles||1<a.options.maxFiles)&&a.hiddenFileInput.setAttribute("multiple","multiple"),a.hiddenFileInput.className="dz-hidden-input",null!=a.options.acceptedFiles&&a.hiddenFileInput.setAttribute("accept",a.options.acceptedFiles),null!=a.options.capture&&a.hiddenFileInput.setAttribute("capture",a.options.capture),a.hiddenFileInput.style.visibility="hidden",a.hiddenFileInput.style.position="absolute",a.hiddenFileInput.style.top="0",a.hiddenFileInput.style.left="0",a.hiddenFileInput.style.height="0",a.hiddenFileInput.style.width="0",document.body.appendChild(a.hiddenFileInput),a.hiddenFileInput.addEventListener("change",function(){var e,t,i,n;if((t=a.hiddenFileInput.files).length)for(i=0,n=t.length;i<n;i++)e=t[i],a.addFile(e);return o()})})()),this.URL=null!=(s=window.URL)?s:window.webkitURL,t=0,n=(r=this.events).length;t<n;t++)e=r[t],this.on(e,this.options[e]);return this.on("uploadprogress",(l=this,function(){return l.updateTotalUploadProgress()})),this.on("removedfile",(c=this,function(){return c.updateTotalUploadProgress()})),this.on("canceled",(u=this,function(e){return u.emit("complete",e)})),this.on("complete",(d=this,function(e){if(0===d.getUploadingFiles().length&&0===d.getQueuedFiles().length)return setTimeout(function(){return d.emit("queuecomplete")},0)})),i=function(e){return e.stopPropagation(),e.preventDefault?e.preventDefault():e.returnValue=!1},this.listeners=[{element:this.element,events:{dragstart:(v=this,function(e){return v.emit("dragstart",e)}),dragenter:(g=this,function(e){return i(e),g.emit("dragenter",e)}),dragover:(m=this,function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}return e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",i(e),m.emit("dragover",e)}),dragleave:(f=this,function(e){return f.emit("dragleave",e)}),drop:(p=this,function(e){return i(e),p.drop(e)}),dragend:(h=this,function(e){return h.emit("dragend",e)})}}],this.clickableElements.forEach((y=this,function(t){return y.listeners.push({element:t,events:{click:function(e){if(t!==y.element||e.target===y.element||q.elementInside(e.target,y.element.querySelector(".dz-message")))return y.hiddenFileInput.click()}}})})),this.enable(),this.options.init.call(this)},q.prototype.destroy=function(){var e;return this.disable(),this.removeAllFiles(!0),(null!=(e=this.hiddenFileInput)?e.parentNode:void 0)&&(this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput),this.hiddenFileInput=null),delete this.element.dropzone,q.instances.splice(q.instances.indexOf(this),1)},q.prototype.updateTotalUploadProgress=function(){var e,t,i,n,o,s,r;if(t=i=0,this.getActiveFiles().length){for(o=0,s=(r=this.getActiveFiles()).length;o<s;o++)i+=(e=r[o]).upload.bytesSent,t+=e.upload.total;n=100*i/t}else n=100;return this.emit("totaluploadprogress",n,t,i)},q.prototype._getParamName=function(e){return"function"==typeof this.options.paramName?this.options.paramName(e):this.options.paramName+(this.options.uploadMultiple?"["+e+"]":"")},q.prototype.getFallbackForm=function(){var e,t,i,n;return(e=this.getExistingFallback())?e:(i='<div class="dz-fallback">',this.options.dictFallbackText&&(i+="<p>"+this.options.dictFallbackText+"</p>"),i+='<input type="file" name="'+this._getParamName(0)+'" '+(this.options.uploadMultiple?'multiple="multiple"':void 0)+' /><input type="submit" value="Upload!"></div>',t=q.createElement(i),"FORM"!==this.element.tagName?(n=q.createElement('<form action="'+this.options.url+'" enctype="multipart/form-data" method="'+this.options.method+'"></form>')).appendChild(t):(this.element.setAttribute("enctype","multipart/form-data"),this.element.setAttribute("method",this.options.method)),null!=n?n:t)},q.prototype.getExistingFallback=function(){var e,t,i,n,o,s;for(t=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)if(t=e[i],/(^| )fallback($| )/.test(t.className))return t},n=0,o=(s=["div","form"]).length;n<o;n++)if(i=s[n],e=t(this.element.getElementsByTagName(i)))return e},q.prototype.setupEventListeners=function(){var i,n,o,e,t,s,r;for(r=[],e=0,t=(s=this.listeners).length;e<t;e++)i=s[e],r.push(function(){var e,t;for(n in t=[],e=i.events)o=e[n],t.push(i.element.addEventListener(n,o,!1));return t}());return r},q.prototype.removeEventListeners=function(){var i,n,o,e,t,s,r;for(r=[],e=0,t=(s=this.listeners).length;e<t;e++)i=s[e],r.push(function(){var e,t;for(n in t=[],e=i.events)o=e[n],t.push(i.element.removeEventListener(n,o,!1));return t}());return r},q.prototype.disable=function(){var e,t,i,n,o;for(this.clickableElements.forEach(function(e){return e.classList.remove("dz-clickable")}),this.removeEventListeners(),o=[],t=0,i=(n=this.files).length;t<i;t++)e=n[t],o.push(this.cancelUpload(e));return o},q.prototype.enable=function(){return this.clickableElements.forEach(function(e){return e.classList.add("dz-clickable")}),this.setupEventListeners()},q.prototype.filesize=function(e){var t,i,n,o,s,r,a;for(i=n=null,t=r=0,a=(s=["TB","GB","MB","KB","b"]).length;r<a;t=++r)if(o=s[t],Math.pow(this.options.filesizeBase,4-t)/10<=e){i=e/Math.pow(this.options.filesizeBase,4-t),n=o;break}return"<strong>"+(i=Math.round(10*i)/10)+"</strong> "+n},q.prototype._updateMaxFilesReachedClass=function(){return null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(this.getAcceptedFiles().length===this.options.maxFiles&&this.emit("maxfilesreached",this.files),this.element.classList.add("dz-max-files-reached")):this.element.classList.remove("dz-max-files-reached")},q.prototype.drop=function(e){var t,i;e.dataTransfer&&(this.emit("drop",e),(t=e.dataTransfer.files).length&&((i=e.dataTransfer.items)&&i.length&&null!=i[0].webkitGetAsEntry?this._addFilesFromItems(i):this.handleFiles(t)))},q.prototype.paste=function(e){var t,i;if(null!=(null!=e&&null!=(i=e.clipboardData)?i.items:void 0))return this.emit("paste",e),(t=e.clipboardData.items).length?this._addFilesFromItems(t):void 0},q.prototype.handleFiles=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],o.push(this.addFile(t));return o},q.prototype._addFilesFromItems=function(e){var t,i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)null!=(i=e[n]).webkitGetAsEntry&&(t=i.webkitGetAsEntry())?t.isFile?s.push(this.addFile(i.getAsFile())):t.isDirectory?s.push(this._addFilesFromDirectory(t,t.name)):s.push(void 0):null!=i.getAsFile&&(null==i.kind||"file"===i.kind)?s.push(this.addFile(i.getAsFile())):s.push(void 0);return s},q.prototype._addFilesFromDirectory=function(e,o){var t,i,s;return t=e.createReader(),s=this,i=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).isFile?t.file(function(e){if(!s.options.ignoreHiddenFiles||"."!==e.name.substring(0,1))return e.fullPath=o+"/"+e.name,s.addFile(e)}):t.isDirectory&&s._addFilesFromDirectory(t,o+"/"+t.name)},t.readEntries(i,function(e){return"undefined"!=typeof console&&null!==console&&"function"==typeof console.log?console.log(e):void 0})},q.prototype.accept=function(e,t){return e.size>1024*this.options.maxFilesize*1024?t(this.options.dictFileTooBig.replace("{{filesize}}",Math.round(e.size/1024/10.24)/100).replace("{{maxFilesize}}",this.options.maxFilesize)):q.isValidFile(e,this.options.acceptedFiles)?null!=this.options.maxFiles&&this.getAcceptedFiles().length>=this.options.maxFiles?(t(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}",this.options.maxFiles)),this.emit("maxfilesexceeded",e)):this.options.accept.call(this,e,t):t(this.options.dictInvalidFileType)},q.prototype.addFile=function(t){return t.upload={progress:0,total:t.size,bytesSent:0},this.files.push(t),t.status=q.ADDED,this.emit("addedfile",t),this._enqueueThumbnail(t),this.accept(t,(i=this,function(e){return e?(t.accepted=!1,i._errorProcessing([t],e)):(t.accepted=!0,i.options.autoQueue&&i.enqueueFile(t)),i._updateMaxFilesReachedClass()}));var i},q.prototype.enqueueFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)t=e[i],this.enqueueFile(t);return null},q.prototype.enqueueFile=function(e){if(e.status!==q.ADDED||!0!==e.accepted)throw new Error("This file can't be queued because it has already been processed or was rejected.");if(e.status=q.QUEUED,this.options.autoProcessQueue)return setTimeout((t=this,function(){return t.processQueue()}),0);var t},q.prototype._thumbnailQueue=[],q.prototype._processingThumbnail=!1,q.prototype._enqueueThumbnail=function(e){if(this.options.createImageThumbnails&&e.type.match(/image.*/)&&e.size<=1024*this.options.maxThumbnailFilesize*1024)return this._thumbnailQueue.push(e),setTimeout((t=this,function(){return t._processThumbnailQueue()}),0);var t},q.prototype._processThumbnailQueue=function(){var e;if(!this._processingThumbnail&&0!==this._thumbnailQueue.length)return this._processingThumbnail=!0,this.createThumbnail(this._thumbnailQueue.shift(),(e=this,function(){return e._processingThumbnail=!1,e._processThumbnailQueue()}))},q.prototype.removeFile=function(e){if(e.status===q.UPLOADING&&this.cancelUpload(e),this.files=o(this.files,e),this.emit("removedfile",e),0===this.files.length)return this.emit("reset")},q.prototype.removeAllFiles=function(e){var t,i,n,o;for(null==e&&(e=!1),i=0,n=(o=this.files.slice()).length;i<n;i++)((t=o[i]).status!==q.UPLOADING||e)&&this.removeFile(t);return null},q.prototype.createThumbnail=function(e,t){var i,n;return(i=new FileReader).onload=(n=this,function(){return"image/svg+xml"===e.type?(n.emit("thumbnail",e,i.result),void(null!=t&&t())):n.createThumbnailFromUrl(e,i.result,t)}),i.readAsDataURL(e)},q.prototype.createThumbnailFromUrl=function(l,e,c){var u,d;return(u=document.createElement("img")).onload=(d=this,function(){var e,t,i,n,o,s,r,a;if(l.width=u.width,l.height=u.height,null==(i=d.options.resize.call(d,l)).trgWidth&&(i.trgWidth=i.optWidth),null==i.trgHeight&&(i.trgHeight=i.optHeight),t=(e=document.createElement("canvas")).getContext("2d"),e.width=i.trgWidth,e.height=i.trgHeight,h(t,u,null!=(o=i.srcX)?o:0,null!=(s=i.srcY)?s:0,i.srcWidth,i.srcHeight,null!=(r=i.trgX)?r:0,null!=(a=i.trgY)?a:0,i.trgWidth,i.trgHeight),n=e.toDataURL("image/png"),d.emit("thumbnail",l,n),null!=c)return c()}),null!=c&&(u.onerror=c),u.src=e},q.prototype.processQueue=function(){var e,t,i,n;if(!((t=this.options.parallelUploads)<=(e=i=this.getUploadingFiles().length))&&0<(n=this.getQueuedFiles()).length){if(this.options.uploadMultiple)return this.processFiles(n.slice(0,t-i));for(;e<t;){if(!n.length)return;this.processFile(n.shift()),e++}}},q.prototype.processFile=function(e){return this.processFiles([e])},q.prototype.processFiles=function(e){var t,i,n;for(i=0,n=e.length;i<n;i++)(t=e[i]).processing=!0,t.status=q.UPLOADING,this.emit("processing",t);return this.options.uploadMultiple&&this.emit("processingmultiple",e),this.uploadFiles(e)},q.prototype._getFilesWithXhr=function(o){var s;return function(){var e,t,i,n;for(n=[],e=0,t=(i=this.files).length;e<t;e++)(s=i[e]).xhr===o&&n.push(s);return n}.call(this)},q.prototype.cancelUpload=function(e){var t,i,n,o,s,r,a;if(e.status===q.UPLOADING){for(n=0,s=(i=this._getFilesWithXhr(e.xhr)).length;n<s;n++)(t=i[n]).status=q.CANCELED;for(e.xhr.abort(),o=0,r=i.length;o<r;o++)t=i[o],this.emit("canceled",t);this.options.uploadMultiple&&this.emit("canceledmultiple",i)}else(a=e.status)!==q.ADDED&&a!==q.QUEUED||(e.status=q.CANCELED,this.emit("canceled",e),this.options.uploadMultiple&&this.emit("canceledmultiple",[e]));if(this.options.autoProcessQueue)return this.processQueue()},H=function(){var e,t;return t=arguments[0],e=2<=arguments.length?a.call(arguments,1):[],"function"==typeof t?t.apply(this,e):t},q.prototype.uploadFile=function(e){return this.uploadFiles([e])},q.prototype.uploadFiles=function(u){var d,e,i,t,n,o,s,r,a,l,c,h,p,f,m,g,v,y,b,w,k,x,C,T,E,S,A,_,P,N,L,D,M,I,F,j;for(y=new XMLHttpRequest,b=0,C=u.length;b<C;b++)(d=u[b]).xhr=y;for(t in h=H(this.options.method,u),g=H(this.options.url,u),y.open(h,g,!0),y.withCredentials=!!this.options.withCredentials,f=null,i=function(){var e,t,i;for(i=[],e=0,t=u.length;e<t;e++)d=u[e],i.push(I._errorProcessing(u,f||I.options.dictResponseError.replace("{{statusCode}}",y.status),y));return i},F=I=this,m=function(e){var t,i,n,o,s,r,a,l,c;if(null!=e)for(i=100*e.loaded/e.total,n=0,r=u.length;n<r;n++)(d=u[n]).upload={progress:i,total:e.total,bytesSent:e.loaded};else{for(t=!0,i=100,o=0,a=u.length;o<a;o++)100===(d=u[o]).upload.progress&&d.upload.bytesSent===d.upload.total||(t=!1),d.upload.progress=i,d.upload.bytesSent=d.upload.total;if(t)return}for(c=[],s=0,l=u.length;s<l;s++)d=u[s],c.push(F.emit("uploadprogress",d,i,d.upload.bytesSent));return c},y.onload=(j=this,function(t){var e;if(u[0].status!==q.CANCELED&&4===y.readyState){if(f=y.responseText,y.getResponseHeader("content-type")&&~y.getResponseHeader("content-type").indexOf("application/json"))try{f=JSON.parse(f)}catch(e){t=e,f="Invalid JSON response from server."}return m(),200<=(e=y.status)&&e<300?j._finished(u,f,t):i()}}),y.onerror=function(){if(u[0].status!==q.CANCELED)return i()},(null!=(_=y.upload)?_:y).onprogress=m,o={Accept:"application/json","Cache-Control":"no-cache","X-Requested-With":"XMLHttpRequest"},this.options.headers&&O(o,this.options.headers),o)n=o[t],y.setRequestHeader(t,n);if(e=new FormData,this.options.params)for(c in P=this.options.params)v=P[c],e.append(c,v);for(w=0,T=u.length;w<T;w++)d=u[w],this.emit("sending",d,y,e);if(this.options.uploadMultiple&&this.emit("sendingmultiple",u,y,e),"FORM"===this.element.tagName)for(k=0,E=(N=this.element.querySelectorAll("input, textarea, select, button")).length;k<E;k++)if(a=(r=N[k]).getAttribute("name"),l=r.getAttribute("type"),"SELECT"===r.tagName&&r.hasAttribute("multiple"))for(x=0,S=(L=r.options).length;x<S;x++)(p=L[x]).selected&&e.append(a,p.value);else(!l||"checkbox"!==(D=l.toLowerCase())&&"radio"!==D||r.checked)&&e.append(a,r.value);for(s=A=0,M=u.length-1;0<=M?A<=M:M<=A;s=0<=M?++A:--A)e.append(this._getParamName(s),u[s],u[s].name);return y.send(e)},q.prototype._finished=function(e,t,i){var n,o,s;for(o=0,s=e.length;o<s;o++)(n=e[o]).status=q.SUCCESS,this.emit("success",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("successmultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},q.prototype._errorProcessing=function(e,t,i){var n,o,s;for(o=0,s=e.length;o<s;o++)(n=e[o]).status=q.ERROR,this.emit("error",n,t,i),this.emit("complete",n);if(this.options.uploadMultiple&&(this.emit("errormultiple",e,t,i),this.emit("completemultiple",e)),this.options.autoProcessQueue)return this.processQueue()},q}()).version="4.0.1",r.options={},r.optionsForElement=function(e){return e.getAttribute("id")?r.options[i(e.getAttribute("id"))]:void 0},r.instances=[],r.forElement=function(e){if("string"==typeof e&&(e=document.querySelector(e)),null==(null!=e?e.dropzone:void 0))throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.");return e.dropzone},r.autoDiscover=!0,r.discover=function(){var e,t,s,i,n,o;for(document.querySelectorAll?s=document.querySelectorAll(".dropzone"):(s=[],(e=function(e){var t,i,n,o;for(o=[],i=0,n=e.length;i<n;i++)t=e[i],/(^| )dropzone($| )/.test(t.className)?o.push(s.push(t)):o.push(void 0);return o})(document.getElementsByTagName("div")),e(document.getElementsByTagName("form"))),o=[],i=0,n=s.length;i<n;i++)t=s[i],!1!==r.optionsForElement(t)?o.push(new r(t)):o.push(void 0);return o},r.blacklistedBrowsers=[/opera.*Macintosh.*version\/12/i],r.isBrowserSupported=function(){var e,t,i,n;if(e=!0,window.File&&window.FileReader&&window.FileList&&window.Blob&&window.FormData&&document.querySelector)if("classList"in document.createElement("a"))for(t=0,i=(n=r.blacklistedBrowsers).length;t<i;t++)n[t].test(navigator.userAgent)&&(e=!1);else e=!1;else e=!1;return e},o=function(e,t){var i,n,o,s;for(s=[],n=0,o=e.length;n<o;n++)(i=e[n])!==t&&s.push(i);return s},i=function(e){return e.replace(/[\-_](\w)/g,function(e){return e.charAt(1).toUpperCase()})},r.createElement=function(e){var t;return(t=document.createElement("div")).innerHTML=e,t.childNodes[0]},r.elementInside=function(e,t){if(e===t)return!0;for(;e=e.parentNode;)if(e===t)return!0;return!1},r.getElement=function(e,t){var i;if("string"==typeof e?i=document.querySelector(e):null!=e.nodeType&&(i=e),null==i)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector or a plain HTML element.");return i},r.getElements=function(e,t){var i,n,o,s,r,a,l;if(e instanceof Array){n=[];try{for(o=0,r=e.length;o<r;o++)i=e[o],n.push(this.getElement(i,t))}catch(e){e,n=null}}else if("string"==typeof e)for(n=[],s=0,a=(l=document.querySelectorAll(e)).length;s<a;s++)i=l[s],n.push(i);else null!=e.nodeType&&(n=[e]);if(null==n||!n.length)throw new Error("Invalid `"+t+"` option provided. Please provide a CSS selector, a plain HTML element or a list of those.");return n},r.confirm=function(e,t,i){return window.confirm(e)?t():null!=i?i():void 0},r.isValidFile=function(e,t){var i,n,o,s,r;if(!t)return!0;for(t=t.split(","),i=(n=e.type).replace(/\/.*$/,""),s=0,r=t.length;s<r;s++)if("."===(o=(o=t[s]).trim()).charAt(0)){if(-1!==e.name.toLowerCase().indexOf(o.toLowerCase(),e.name.length-o.length))return!0}else if(/\/\*$/.test(o)){if(i===o.replace(/\/.*$/,""))return!0}else if(n===o)return!0;return!1},"undefined"!=typeof jQuery&&null!==jQuery&&(jQuery.fn.dropzone=function(e){return this.each(function(){return new r(this,e)})}),"undefined"!=typeof module&&null!==module?module.exports=r:window.Dropzone=r,r.ADDED="added",r.QUEUED="queued",r.ACCEPTED=r.QUEUED,r.UPLOADING="uploading",r.PROCESSING=r.UPLOADING,r.CANCELED="canceled",r.ERROR="error",r.SUCCESS="success",d=function(e){var t,i,n,o,s,r,a,l;for(e.naturalWidth,s=e.naturalHeight,(t=document.createElement("canvas")).width=1,t.height=s,(i=t.getContext("2d")).drawImage(e,0,0),n=i.getImageData(0,0,1,s).data,l=0,r=o=s;l<r;)0===n[4*(r-1)+3]?o=r:l=r,r=o+l>>1;return 0===(a=r/s)?1:a},h=function(e,t,i,n,o,s,r,a,l,c){var u;return u=d(t),e.drawImage(t,i,n,o,s,r,a,l,c/u)},e=function(t,i){var e,n,o,s,r,a,l,c,u;if(u=!(o=!1),n=t.document,c=n.documentElement,e=n.addEventListener?"addEventListener":"attachEvent",l=n.addEventListener?"removeEventListener":"detachEvent",a=n.addEventListener?"":"on",s=function(e){if("readystatechange"!==e.type||"complete"===n.readyState)return("load"===e.type?t:n)[l](a+e.type,s,!1),!o&&(o=!0)?i.call(t,e.type||e):void 0},r=function(){try{c.doScroll("left")}catch(e){return e,void setTimeout(r,50)}return s("poll")},"complete"!==n.readyState){if(n.createEventObject&&c.doScroll){try{u=!t.frameElement}catch(e){}u&&r()}return n[e](a+"DOMContentLoaded",s,!1),n[e](a+"readystatechange",s,!1),t[e](a+"load",s,!1)}},r._autoDiscoverFunction=function(){if(r.autoDiscover)return r.discover()},e(window,r._autoDiscoverFunction)}.call(this),function(t,e,i){"use strict";t.widget("anahita.inputAlert",{_create:function(){this.controlGroup=this.element.closest(".control-group"),this.clear()},error:function(e){this.controlGroup.addClass("error"),this._addMessage(e)},success:function(e){this.controlGroup.addClass("success"),this._addMessage(e)},info:function(e){this.controlGroup.addClass("info"),this._addMessage(e)},warning:function(e){this.controlGroup.addClass("warning"),this._addMessage(e)},clear:function(){this.controlGroup.removeClass("error"),this.controlGroup.removeClass("success"),this.controlGroup.removeClass("info"),this.controlGroup.removeClass("warning"),this.controlGroup.find(".help-inline").length&&this.controlGroup.find(".help-inline").remove()},_addMessage:function(e){""!=e&&t('<span class="help-inline">'+e+"</span>").insertAfter(this.element)}})}(jQuery,window,document),function(a,e,t){"use strict";a.fn.anahitaModal=function(e){var t=a(this),n=a("#an-modal"),o=n.find(".modal-header").find("h3"),s=n.find(".modal-body"),r=n.find(".modal-footer"),i=t.data("url");a.get(i,function(e){r.find('button[type="submit"]').remove(),o.text(a(e).filter(".modal-header").find("h3").text()),s.html(a(e).filter(".modal-body").html()),r.append(a(e).filter(".modal-footer").html()),n.modal("show");var t=r.find('button[type="submit"]'),i=s.find("form");t.on("click",function(e){a(this).button("loading"),i.submit()})})},a("body").on("click",'[data-trigger="OpenModal"]',function(e){e.preventDefault(),a(this).anahitaModal()}),a("#an-modal").bind("hidden",function(){a(this).find(".modal-footer").find("button").remove()})}(jQuery,window,document),function(n,i,e){"use strict";n.widget("anahita.infinitescroll",{options:{window:i,scrollable:e,item:".an-entity",preload:3,limit:20,url:null},_create:function(){var t=this,e=this.element.data("scrollable")||this.options.scrollable;this.element.data("fetched-items",null),this.url=this.element.data("url")||this.options.url,this.waiting=!1,this.endOfRecords=!1,this.batchSize=this.options.limit*this.options.preload,this.start=this.element.find(this.options.item).length,this.items=new Array,this._getItems(),this._on(this.element,{urlChange:function(e){t.element.data("url",t.element.data("newUrl")),t.url=this.element.data("url"),t.items=t.element.find(t.options.item).toArray(),t.start=t.element.find(t.options.item).length,t.endOfRecords=!1,t._getItems()}}),n(e).scroll(function(){!t.waiting&&t.element.is(":visible")&&n(i).scrollTop()+1.3*n(i).height()>=n(e).height()&&(t._render(),t._getItems())})},_getItems:function(){if(!this.endOfRecords){var i=this,e=n.param({start:this.start,limit:this.batchSize});n.ajax({method:"get",url:this.url+"&"+e,beforeSend:function(){i.waiting=!0},success:function(e){i.waiting=!1;var t=null;0==(t=n(e).filter(i.options.item)).length&&(t=n(e).find(i.options.item)),0!=t.length?(i.items=n.merge(i.items,t),i.start+=i.batchSize,i._render()):i.endOfRecords=!0}})}},render:function(){this._render()},_render:function(){if(this.element.data("fetched-items"))this.element.trigger("entities-render");else{for(var e=new Array,t=this.options.limit;t&&this.items.length;)e.push(this.items.shift()),t--;this.element.data("fetched-items",e),this.element.trigger("entities-render")}}});var t=n('[data-trigger="InfiniteScroll"]');t.length&&(t.find(".InfiniteScrollReadmore").hide(),t.infinitescroll()),n(e).ajaxSuccess(function(){var e=n('[data-trigger="InfiniteScroll"]');n.each(e,function(e,t){n(t).is(":data('anahita-infinitescroll')")||(n(t).find(".InfiniteScrollReadmore").hide(),n(t).infinitescroll())})})}(jQuery,window,document),function(i,e,t){"use strict";i.fn.gadget=function(){this.filter(this.selector).each(function(){var e=i(this),t=e.find(".gadget-content");0===t.children("div").length&&e.data("url")&&t.load(e.data("url"))})},i(".an-gadget").length&&i(".an-gadget").gadget()}(jQuery,window,document),function(s,e,t){"use strict";s.fn.AnFilterbox=function(){var o=s(this);s(o).trigger("beforeFilterbox"),s.ajax({method:"get",url:o.attr("action"),data:o.serialize(),beforeSend:function(){o.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){var t=s(e).filter(".an-entity");if(0==t.length&&(t=s(e).find(".an-entity")),o.siblings('[data-trigger="InfiniteScroll"]').length){var i=o.siblings('[data-trigger="InfiniteScroll"]');return s(i).data("fetched-items",t),void s(i).trigger("entities-reset-render")}o.siblings(".an-entities").html(t);var n=s(e).filter(".pagination");0==n.length&&(n=s(e).find(".pagination")),o.siblings(".pagination").html(n)},complete:function(){if(o.fadeTo("fast",1).removeClass("uiActivityIndicator"),o.siblings('[data-trigger="InfiniteScroll"]').length){var e=o.siblings('[data-trigger="InfiniteScroll"]'),t=o.attr("action")+"&"+o.serialize();s(e).data("newUrl",t).trigger("urlChange")}else e=o.siblings(".an-entities");s(e).trigger("afterFilterbox")}})},s("body").on("submit","#an-filterbox",function(e){e.preventDefault(),s(this).AnFilterbox()}),s("body").on("change","#an-filterbox select, #an-filterbox input[type=checkbox]",function(e){e.preventDefault(),s(this).closest("form").AnFilterbox()})}(jQuery,window,document),function(i,e,t){"use strict";i.widget("anahita.checkbox",{options:{toggleClass:"selected"},_create:function(){this.cb=i(t.createElement("input")),this.element.append(this.cb),this.cb.attr({type:"checkbox",name:this.element.data("checkbox-name"),value:this.element.data("checkbox-value")}).hide(),this._on(this.element,{click:function(e){this.toggle()}})},toggle:function(){this.cb.attr("checked")?this.uncheck():this.check()},check:function(){this.cb.attr("checked",!0),this.element.addClass(this.options.toggleClass)},uncheck:function(){this.cb.attr("checked",!1),this.element.removeClass(this.options.toggleClass)}});var n=function(){var e=i("[data-behavior='Checkbox']");i.each(e,function(e,t){i(t).is(":data('anahita-checkbox')")||i(t).checkbox()})};n(),i(t).ajaxSuccess(function(){n()})}(jQuery,window,document),function(i,e,t){"use strict";i.fn.AnAutosubmit=function(){var t=i(this),e=i(this.closest("form"));i.ajax({type:"post",url:e.attr("action"),data:e.serialize(),beforeSend:function(){t.fadeTo("fast",.3)}.bind(t),success:function(e){t.fadeTo("fast",1)}})},i("body").on("change","select.autosubmit, input.autosubmit",function(e){e.preventDefault(),i(this).AnAutosubmit()})}(jQuery,window,document),function(s,e,t){"use strict";s.fn.notificationsCounter=function(){var t=s(this),i=function(){s.ajax({method:"get",url:t.data("url"),headers:{accept:"application/json"},success:function(e){t.html(e.new_notifications),Tinycon.setBubble(e.new_notifications),0<e.new_notifications&&t.addClass("badge-important"),setTimeout(i,t.data("interval"))}})};i()},s("#notifications-counter").length&&s("#notifications-counter").notificationsCounter(),s("body").on("click",'a[data-trigger*="notifications-popover"]',function(e){e.preventDefault();var o=s(this);s.get(o.attr("href"),function(e){var t=s(e),i=t.filter(".popover-title").html(),n=t.filter(".popover-content").html();o.popover({title:i,content:n,html:!0,placement:"bottom"}).popover("show")})})}(jQuery,window,document),function(r,i){"use strict";r.widget("anahita.paginator",{options:{scrollToTop:!0,limit:20,entities:".an-entities"},_getCreateOptions:function(){return this.element.data("paginationOptions")},_create:function(){this._on(this.element,{"click a":function(e){e.preventDefault();var t=r(e.target).parent();t.hasClass("disabled")||t.hasClass("active")||this._getPage(e)}})},_getPage:function(e){var n=r(e.target),o=this,s=r(this.element).siblings(this.options.entities);s.hasClass("an-comments");r.ajax({method:"get",url:n.attr("href"),beforeSend:function(){r(o.element).fadeTo("fast",.3)},success:function(e){if(o._updateHash(n.attr("href")),r(e).find(o.options.entities).length)var t=r(e).find(o.options.entities),i=r(e).find(".pagination");else t=r(e).filter(o.options.entities),i=r(e).filter(".pagination");r(s).replaceWith(t),r(o.element).replaceWith(i),o.options.scrollToTop&&r("body,html").animate({scrollTop:"0px"},"slow")}})},_updateHash:function(e){var t=e.split("?");i.location.hash=t[1].replace("layout=list&","")}}),r('[data-behavior*="pagination"]').length&&r('[data-behavior*="pagination"]').paginator(),r(document).ajaxSuccess(function(){var e=r('[data-behavior*="pagination"]');r.each(e,function(e,t){r(t).is(":data('anahita-paginator')")||r(t).paginator()})})}(jQuery,window),function(i,n,e){"use strict";i(e).ready(function(){var e=n.location.hash.slice(1).split("=");if("scroll"==e[0]){var t=i(".cid-"+e[1])[0];i("html, body").animate({scrollTop:i(t).offset().top-100},1e3,"swing",function(){i(t).addClass("an-highlight")})}})}(jQuery,window,document),function(e,t){"use strict";e('[data-trigger="MediaViewer"]').swipebox({closeOnClick:!0})}(jQuery,window),function(i,e,t){i("body").on("click",'[data-trigger="ReadMore"], [data-trigger="ReadLess"]',function(e){e.preventDefault();var t=i(this);i("#"+t.data("short")).toggle(),i("#"+t.data("full")).toggle()})}(jQuery,window,document),function(s,e,t){"use strict";s.widget("anahita.person",{_create:function(){this.current=[],this.current.username=this.element.find(':input[data-validate="username"]').val(),this.current.email=this.element.find(':input[data-validate="email"]').val(),this._on({'change [data-validate="username"], [data-validate="email"], [data-validate="password"] ':function(e){var t=s(e.currentTarget);t.inputAlert(),t.inputAlert("clear"),this._validate(t)}})},_validate:function(i){var n=i.data("validate"),o=i[0].validity;o.tooShort?i.inputAlert("error",StringLibAnahita.prompt[n].tooShort):o.tooLong?i.inputAlert("error",StringLibAnahita.prompt[n].tooLong):o.patternMismatch?i.inputAlert("error",StringLibAnahita.prompt[n].patternMismatch):("username"==n||"email"==n)&&""!==i.val()&&this.current[n]!=i.val()&&s.ajax({method:"post",url:i.data("url"),data:{action:"validate",key:n,value:i.val()||""},headers:{accept:"application/json"},complete:function(e,t){return"error"==t?(i.inputAlert("error",StringLibAnahita.prompt[n].invalid),void(o.valid=!0)):void i.inputAlert("success",StringLibAnahita.prompt[n].valid)}})}}),s("#person-form").length&&s("#person-form").person(),s(t).ajaxSuccess(function(){var e=s("#person-form");s.each(e,function(e,t){s(t).is(":data('anahita-person')")||s(t).person()})})}(jQuery,window,document),function(t,e,i){"use strict";t.widget("anahita.token",{_create:function(){var t=this,i=this.element;this._on({submit:function(e){e.preventDefault(),t._send(i)}})},_send:function(e){var i=e.find('input[type="email"]');i.inputAlert(),i.inputAlert("clear"),t.ajax({method:"post",url:e.attr("action"),data:e.serialize(),complete:function(e,t){"error"==t?i.inputAlert("error",StringLibAnahita.prompt.token.unavailable):(i.attr("disabled",!0).addClass("disabled"),i.inputAlert("success",StringLibAnahita.prompt.token.available))}})}}),t("#token-form").length&&t("#token-form").token()}(jQuery,window,document),function(i,e,t){"use strict";i.widget("anahita.editor",{_create:function(){var t=this;this._createEditor(),this._createToolbar(),this._setContent(),this._on(this.element.closest("form"),{beforeSubmit:function(e){t._getContent()},submit:function(e){t._getContent()},reset:function(e){t._clear()}}),this.editor.wysiwyg({hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0})},_createEditor:function(){this.element.attr("required",!1).hide(),this.editor=i(t.createElement("div")).addClass("editor"),this.editor.attr("id",this.element.attr("id")+"-editor"),this.editor.insertAfter(this.element)},_createToolbar:function(){this.toolbar=i(t.createElement("div")).addClass("btn-toolbar").attr("data-role","editor-toolbar").attr("data-target",this.editor.attr("id"));this.toolbar.html('<div class="btn-group"><a class="btn dropdown-toggle" data-toggle="dropdown" title="" data-original-title="Text Format"><b class="caret"></b> Text</a><ul class="dropdown-menu"><li><a data-edit="formatblock blockquote" data-original-title="Blockquote">blockquote</a></li><li><a data-edit="formatblock p" data-original-title="Paragraph">p</a></li><li><a data-edit="formatblock pre" data-original-title="Preformatted">pre</a></li><li><a data-edit="formatblock address" data-original-title="Address">addr</a></li><li><a data-edit="formatblock h1" data-original-title="Header 1">h1</a></li><li><a data-edit="formatblock h2" data-original-title="Header 2">h2</a></li><li><a data-edit="formatblock h3" data-original-title="Header 3">h3</a></li><li><a data-edit="formatblock h4" data-original-title="Header 4">h4</a></li><li><a data-edit="formatblock h5" data-original-title="Header 5">h5</a></li></ul> <a class="btn" data-edit="bold" data-original-title="Bold (Ctrl/Cmd+B)"><b>b</b></a><a class="btn" data-edit="italic" data-original-title="Italic (Ctrl/Cmd+I)"><i>i</i></a><a class="btn" data-edit="strikethrough" data-original-title="Strikethrough"><strike>u</strike></a><a class="btn" data-edit="underline" data-original-title="Underline (Ctrl/Cmd+U)"><u>u</u></a><a class="btn" data-edit="insertunorderedlist" data-original-title="Bullet list">ul</a><a class="btn" data-edit="insertorderedlist" data-original-title="Number list">ol</a></div>'),this.toolbar.insertAfter(this.element),this.toolbar.find('[data-toggle="dropdown"]').dropdown()},_setContent:function(){this.element.val()?this.editor.html(this.element.val()):this.editor.html("<p><br/></p>")},_getContent:function(){this.element.html(this.editor.html())},_clear:function(){this.editor.html("<p><br/></p>"),this.element.html("")}});var n=function(){var e=i('[data-behavior="Editor"]');i.each(e,function(e,t){i(t).is(":data('anahita-editor')")||i(t).editor()})};n(),i(t).ajaxSuccess(function(){n()})}(jQuery,window,document),function(n,e,t){"use strict";n.fn.anahitaGist=function(){this.filter(this.selector).each(function(){var i=n(this);n.getJSON(i.data("src")+"on?callback=?",function(e){i.replaceWith(n(e.div));var t=n("head");t.find('link[rel="stylesheet"][href="'+e.stylesheet+'"]').length<1&&t.append('<link rel="stylesheet" href="'+e.stylesheet+'" type="text/css" />')})})},n('[data-trigger="LoadGist"]').length&&n('[data-trigger="LoadGist"]').anahitaGist(),n(t).ajaxSuccess(function(){n('[data-trigger="LoadGist"]').length&&n('[data-trigger="LoadGist"]').anahitaGist()})}(jQuery,window,document),function(e,t,i){"use strict";e('[data-trigger="video-player"]').length&&Plyr.setup(".an-media-video"),e(i).ajaxSuccess(function(){e('[data-trigger="video-player"]').length&&Plyr.setup(".an-media-video")})}(jQuery,window,document),function(t,i,e){"use strict";t.widget("anahita.cover",{options:{mobileWidth:767},_create:function(){this.element.addClass("uiActivityIndicator");var e=t(i).width()<this.options.mobileWidth?"src-medium":"src-large";this.coverImage=new Image,this.coverImage.src=this.element.data(e),this._on(i,{load:function(){this._setBackgroundImage()}})},_setBackgroundImage:function(){var e=this;this.element.fadeTo("fast",0,function(){e.element.removeClass("uiActivityIndicator").css("background-image","url("+e.coverImage.src+")")}).fadeTo("fast",1)}}),t(e).ready(function(){t('[data-trigger="Cover"]').length&&t('[data-trigger="Cover"]').cover()})}(jQuery,window,document),function(o,e,t){"use strict";o.fn.AnActionVote=function(t){t=t||"";var i=o(this),n=o("#vote-count-wrapper-"+i.data("nodeid"));return o.ajax({type:"post",url:i.attr("href"),data:{action:i.attr("data-action")},beforeSend:function(){i.fadeTo("fast",.3)}.bind(i),success:function(e){i.attr("data-action")=="vote"+t?(i.attr("data-action","unvote"+t),i.text(StringLibAnahita.action.unvote)):i.attr("data-action")=="unvote"+t&&(i.attr("data-action","vote"+t),i.text(StringLibAnahita.action.vote)),i.toggleClass("action-vote"+t).toggleClass("action-unvote"+t),n.html(e)}.bind(i),complete:function(){i.fadeTo("fast",1)}}),this},o("body").on("click",'a[data-action="vote"], a[data-action="unvote"]',function(e){e.preventDefault(),o(this).AnActionVote()}),o("body").on("click",'a[data-action="votecomment"], a[data-action="unvotecomment"]',function(e){e.preventDefault(),o(this).AnActionVote("comment")}),o("body").on("click",'a[data-toggle*="Voters"]',function(e){e.preventDefault();var t=o("#an-modal"),i=t.find(".modal-header").find("h3"),n=t.find(".modal-body");o.get(o(this).attr("href"),function(e){i.html(o(e).filter(".modal-header").html()),n.html(o(e).filter(".modal-body").html()),t.modal("show")})})}(jQuery,window,document),function(d,h,e){"use strict";d.fn.anahitaEntity=function(e){var t=d(this).closest(".an-entity");if("read"==e){var i=d(this).attr("href");return d.ajax({method:"get",url:i,beforeSend:function(){t.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){t.replaceWith(d(e))}}),this}if("enable"==e){i=d(this).attr("href"),e=d(this).data("action");d.ajax({method:"post",url:i,data:{action:e},beforeSend:function(){t.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){t.replaceWith(e)}})}if("edit"==e||"editcomment"==e){var n=d(this);return d.ajax({method:"post",url:n.attr("action")+"?layout=list",data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(e){t.replaceWith(d(e))},complete:function(){n.find(":submit").button("reset")}}),this}if("add"==e){n=d(this);var o=d(".an-entities");return d.ajax({method:"post",url:n.attr("action")+"?layout=list",data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(e){n.trigger("reset"),o.prepend(e)},complete:function(){n.find(":submit").button("reset")}}),this}if("delete"==e){t=d(this);var s=d("#an-modal"),r=s.find(".modal-header").find("h3"),a=s.find(".modal-body"),l=s.find(".modal-footer");r.text(StringLibAnahita.action.delete),a.text(StringLibAnahita.prompt.delete);var c=d('<button class="btn btn-danger"></button>').text(StringLibAnahita.action.delete);return l.append(c),c.on("click",function(e){d.ajax({method:"post",url:t.attr("href"),data:{action:t.data("action")},beforeSend:function(){s.modal("hide")},success:function(){t.closest(".an-entities").length?t.closest(".an-entity").fadeOut():h.location.href=t.data("redirect")}})}),s.modal("show"),this}if("addcomment"==e){var u=(n=d(this)).siblings(".an-comments");return d.ajax({method:"post",url:n.attr("action"),data:n.serialize(),beforeSend:function(){n.find(":submit").button("loading")},success:function(e){n.trigger("reset"),u.append(d(e).fadeIn("slow"))},complete:function(e,t){n.find(":submit").button("reset")}}),this}};d("body").on("click",'a[data-action="edit"],a[data-action="cancel"],a[data-action="editcomment"],a[data-action="cancelcomment"]',function(e){e.preventDefault(),d(this).anahitaEntity("read")}),d("body").on("click",'a[data-action="enable"], a[data-action="disable"]',function(e){e.preventDefault(),d(this).anahitaEntity("enable")}),d("body").on("click",'.an-entities form:not(.an-comment-form) button[type="submit"]',function(e){e.preventDefault(),d(this).closest("form").anahitaEntity("edit")}),d("body").on("submit","#entity-form-wrapper > form:not(.an-comment-form)",function(e){e.preventDefault(),d(this).anahitaEntity("add")}),d("body").on("click",'a[data-action="delete"], a[data-action="deletecomment"]',function(e){e.preventDefault(),d(this).anahitaEntity("delete")}),d("body").on("click",'[data-trigger="ReadForm"], [data-trigger="CancelAdd"]',function(e){e.preventDefault(),d("#entity-form-wrapper").slideToggle()}),d("body").on("submit",".an-comments-wrapper form.an-comment-form",function(e){e.preventDefault();var t=d(this).find('input[name="action"]').val();d(this).anahitaEntity(t)})}(jQuery,window,document),function(s,e,r){"use strict";s.fn.anahitaPostlink=function(){var e=s(this),o=s(r.createElement("form")),t=e.attr("href").split(/\?|\&/);o.attr("action",t.shift()).attr("method","post"),s.each(t,function(e,t){var i=t.split("="),n=s(r.createElement("input"));n.attr("type","hidden").attr("name",i[0]).attr("value",i[1]),o.append(n)}),o.appendTo("body").submit()},s("body").on("click",'a[data-trigger="PostLink"]',function(e){e.preventDefault(),s(this).anahitaPostlink()})}(jQuery,window,document),function(n,e,t){"use strict";n.widget("anahita.entityEditable",{options:{container:".entity-description-wrapper"},_create:function(){var t=this;this.container=this.element.find(t.options.container),this._on(this.element,{"click .entity-title, .entity-description":function(e){e.preventDefault(),t._read("edit")}}),this._on(this.element,{'click [data-trigger="EditableCancel"]':function(e){e.preventDefault(),t._read("default")}}),this._on(this.element,{"submit form":function(e){e.preventDefault(),t._edit()}})},_read:function(t){var i=this;n.ajax({method:"get",url:this.element.data("url"),data:{layout:t},beforeSend:function(){i.container.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){"edit"!=t&&(e=n(e).find(i.options.container).html()),i.container.html(e).fadeTo("fast",1).removeClass("uiActivityIndicator")}})},_edit:function(){var t=this,e=this.container.find("form");n.ajax({method:"post",url:e.attr("action"),data:e.serialize(),beforeSend:function(){t.container.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){e=n(e).find(t.options.container).html(),t.container.html(e).fadeTo("fast",1).removeClass("uiActivityIndicator")}})}}),n(".an-entity.editable").length&&n(".an-entity.editable").entityEditable(),n(t).ajaxSuccess(function(){var e=n(".an-entity.editable");n.each(e,function(e,t){n(t).is(":data('anahita-entityEditable')")||n(t).entityEditable()})})}(jQuery,window,document),function(o,e,t){"use strict";o.fn.AnActionCommentStatus=function(){var n=o(this);return o.ajax({method:"post",url:n.attr("href"),data:{action:"commentstatus",status:n.data("status")},beforeSend:function(){n.fadeTo("fast",.3),n.parent().addClass("uiActivityIndicator")},success:function(e){var t=1-parseInt(n.data("status")),i=t?StringLibAnahita.action.openComments:StringLibAnahita.action.closeComments;n.data("status",t).text(i),o.get(n.attr("href"),function(e){t?(o(".an-comment-form").remove(),o(".an-comments-wrapper").append(o(e).find("div.alert"))):(o(".an-comments-wrapper").find("div.alert").remove(),o(".an-comments-wrapper").append(o(e).find(".an-comment-form")))})},complete:function(){n.fadeTo("fast",1),n.parent().removeClass("uiActivityIndicator")}}),this},o("body").on("click",'a[data-action="commentstatus"]',function(e){e.preventDefault(),o(this).AnActionCommentStatus()})}(jQuery,window,document),function(t,e,i){"use strict";t.fn.AnActionSubscribe=function(){var n=t(this);t.ajax({type:"POST",url:n.attr("href"),data:{action:n.data("action")},beforeSend:function(){n.fadeTo("fast",.3),n.parent().addClass("uiActivityIndicator")},success:function(){var e=n.data("action"),t={subscribe:"unsubscribe",unsubscribe:"subscribe"},i=StringLibAnahita.action[t[e]];n.data("action",t[e]).text(i),n.removeClass("action-"+e).addClass("action-"+t[e])},complete:function(){n.fadeTo("fast",1),n.parent().removeClass("uiActivityIndicator")}})},t("body").on("click",'a[data-action="subscribe"], a[data-action="unsubscribe"]',function(e){e.preventDefault(),t(this).AnActionSubscribe()})}(jQuery,window,document),function(l,c,e){"use strict";l.fn.anahitaActor=function(e){var i=l(this),t=l("#an-modal"),n=t.find(".modal-header").find("h3"),o=t.find(".modal-body"),s=t.find(".modal-footer");if("socialgraph"==e)return l.ajax({method:"post",url:i.attr("href"),data:{action:i.data("action"),actor:i.data("actor")},beforeSend:function(){i.addClass("disabled")},success:function(e){var t=i.closest(".an-entity");l(t).length?i.closest(".an-entity").replaceWith(l(e)):c.location.href=i.attr("href")}}),this;if("notifications"==e)return l.get(this.attr("href"),function(e){n.html(l(e).filter("mheader").html()),o.html(l(e).filter("mbody").html()),s.html(l(e).filter("mfooter").html()),t.modal("show")}),this;if("addadmin"==e){(a=l(this)).find(':input[name="adminid"]').val();return l.ajax({method:"post",url:a.attr("action"),data:a.serialize(),beforeSend:function(){a.find(":submit").attr("disabled",!0)},success:function(){a.trigger("reset"),a.find(":submit").attr("disabled",!1),c.location.reload()}}),this}if("removeadmin"==e)return l.ajax({method:"post",dataType:"json",url:i.context.href,data:i.data(),beforeSend:function(){i.toggleClass("disabled")}}).complete(function(){i.closest(".an-entity").remove()}),this;if("manageapps"==e)return l.ajax({method:"post",url:i.context.href,dataType:"json",data:i.data(),beforeSend:function(){i.toggleClass("disabled")},success:function(){i.toggleClass("disabled").toggleClass("btn-primary"),"addapp"===i.attr("data-action")?(i.data("action","removeapp"),i.attr("data-action","removeapp").text(StringLibAnahita.action.disable)):(i.data("action","addapp"),i.attr("data-action","addapp").text(StringLibAnahita.action.enable))}}),this;if("delete"==e){n.text(StringLibAnahita.action.delete),o.text(StringLibAnahita.prompt.deleteActor);var r=l('<button class="btn btn-danger"></button>').text(StringLibAnahita.action.delete);return s.append(r),t.modal("show"),r.on("click",function(e){r.attr("disabled",!0),i.closest("form").trigger("submit")}),this}if("delete-file"==e)return(a=i.closest("form")).find(":file").attr("value",null),a.submit(),this;if("add-file"==e){var a=i.closest("form");return i.inputAlert(),i.inputAlert("clear"),1024*i.data("limit")*1024<a.find(":file")[0].files[0].size?(i.inputAlert("error","This file is too large"),!1):(i.fadeTo("fast",.3).addClass("uiActivityIndicator"),a.submit(),this)}return!1};l("body").on("click",'[data-action="confirmrequest"],[data-action="ignorerequest"],[data-action="addrequest"],[data-action="deleterequest"],[data-action="follow"],[data-action="unfollow"],[data-action="block"],[data-action="unblock"],[data-action="lead"],[data-action="unlead"]',function(e){e.preventDefault(),l(this).anahitaActor("socialgraph")}),l("body").on("click",'[data-action="notifications-settings"]',function(e){e.preventDefault(),l(this).anahitaActor("notifications")}),l.fn.actorTypeahead=function(){var i=this,o={};i.find("input:text").typeahead({minLength:3,source:function(e,t){var n=this;return l.ajax({method:"get",url:i.attr("action"),headers:{accept:"application/json"},dataType:"json",data:{get:"candidates",q:e},beforeSend:function(){n.$element.fadeTo("fast",.3).addClass("uiActivityIndicator")},success:function(e){var i=[];l.each(e,function(e,t){o[t.value]=t,i.push(t.value)}),t(i),n.$element.fadeTo("fast",1).removeClass("uiActivityIndicator")}})},updater:function(e){return i.find('[name="adminid"]').attr("value",o[e].id),e}})},l("form#an-actors-search").length&&l("form#an-actors-search").actorTypeahead(),l("body").on("submit","form#an-actors-search",function(e){e.preventDefault(),l(this).anahitaActor("addadmin")}),l("body").on("click",'[data-action="removeadmin"]',function(e){e.preventDefault(),l(this).anahitaActor("removeadmin")}),l("body").on("click",'[data-action="addapp"], [data-action="removeapp"]',function(e){e.preventDefault(),l(this).anahitaActor("manageapps")}),l("body").on("click",'[data-trigger="DeleteActor"]',function(e){e.preventDefault(),l(this).anahitaActor("delete")}),l("body").on("click",'[data-trigger="DeleteAvatar"], [data-trigger="DeleteCover"]',function(e){e.preventDefault(),l(this).anahitaActor("delete-file")}),l("form#actor-avatar,form#actor-cover").on("change",":file",function(e){e.preventDefault(),l(this).anahitaActor("add-file")}),l("body").on("click",'a[data-trigger*="Actors"]',function(e){e.preventDefault();var t=l("#an-modal"),i=t.find(".modal-header").find("h3"),n=t.find(".modal-body");l.get(l(this).attr("href"),function(e){i.html(l(e).filter(".modal-header").html()),n.html(l(e).filter(".modal-body").html()),t.modal("show")})})}(jQuery,window,document),function(s,e,t){"use strict";var r=null;s.fn.StoryComment=function(e,t){var i=s.extend({entity:".an-entity",comments:".an-comments",actionOvertext:".action-comment-overtext",overtextBox:".comment-overtext-box"},t),n=s(this).closest(i.entity),o=(n.find(i.comments),n.find("form:last-child"));if(o){switch(this.ShowForm=function(){return this.HideLastForm(),o.show(),r=o,s("body").animate({scrollTop:s(o).offset().top-150},700,function(){o.find("textarea").focus()}),this},this.HideLastForm=function(){var e=null;if(n.find(i.actionOvertext).length)e=n.find(i.overtextBox);return e&&(e.hide(),o.data("hotspot",e)),r&&r.attr("id")!=o.attr("id")&&(r.data("hotspot")&&r.data("hotspot").show(),r.hide()),this},e){case"hide":this.HideLastForm();break;case"show":default:this.ShowForm()}return this}},s("body").on("click","a.action-comment, a.action-comment-overtext",function(e){e.preventDefault(),s(this).StoryComment("show")}),s("#an-stories").on("clickoutside",function(e){s(this).StoryComment("hide")})}(jQuery,window,document),function(n,e,t){"use strict";n.widget("anahita.stateSelector",{_create:function(){var i=this;this.states=[],this.states[0]=n('[country="us"]'),this.states[1]=n('[country="canada"]'),this.states[2]=n('[country="custom"]'),i._hideAll();var e=this.element.find("options:selected").val();this._show(e),this._on("#country-selector",{change:function(e){i._hideAll();var t=n(e.currentTarget).find("option:selected").val();i._show(t)}})},_hideAll:function(){n.each(this.states,function(e,t){t.hide().attr("disabled",!0)})},_show:function(e){var t=0;t="US"==e?0:"CA"==e?1:2,this.states[t].show().attr("disabled",!1)}}),n("body").stateSelector()}(jQuery,window,document),function(s,e,t){"use strict";s.widget("anahita.masonry",{options:{item:'div[class*="an-entity"]',row:".row-fluid",span:'div[class*="span"]',columns:2,mobileWidth:620},_create:function(){var t=this;this.items=new Array,this.row=null,this.spans=null,this.total=0,this.columns=this.element.data("columns")||this.options.columns,this._setGrid(),this.total=this.element.find(this.options.item).length,this._on(s(this.element),{"entities-render":function(e){t._render()},"entities-reset-render":function(e){t._reset(),t._render()}})},_setGrid:function(){if(0==this.element.find(this.options.row).length){this.element.append('<div class="row-fluid"></div>'),this.row=this.element.find(this.options.row);var i=this.columns;this.element.width()<=this.options.mobileWidth&&(i=1);for(var e=12/i,t=0;t<i;t++)this.row.append('<div class="span'+e+'"></div>');this.spans=this.row.find(".span"+e)}else if(this.row=this.element.find(this.options.row),this.spans=this.row.find(this.options.span),this.total=this.row.find(this.options.item).length,0<this.total){var n=this;i=new Array;s.each(this.spans,function(e,t){i.push(s(t).find(n.options.item).toArray())});for(t=0;t<this.total;t++){var o=i[t%i.length];this.items.push(o.shift())}if(this.element.width()<=this.options.mobileWidth&&1<this.spans.length)return void this._refresh()}},_reset:function(){this.spans.empty(),this.items=new Array,this.total=0},_render:function(){var n=this,e=this.element.data("fetched-items"),o=this.spans.length;e&&(s.each(e,function(e,t){var i=n.spans[n.total%o];s(i).append(t),n.items.push(t),n.total++}),this.element.data("fetched-items",null),s(this.element).trigger("entities-rendered"))},_refresh:function(){this.element.empty(),this.total=0,this._setGrid();var n=this,o=this.spans.length;s.each(this.items,function(e,t){var i=n.spans[n.total%o];s(i).append(t),n.total++}),s(this.element).trigger("entities-rendered")}});s(".masonry").masonry();s(t).ajaxSuccess(function(){var e=s(".masonry");s.each(e,function(e,t){s(t).is(":data('anahita-masonry')")||s(t).masonry()})})}(jQuery,window,document),function(n,e,t){"use strict";n.widget("anahita.mediagrid",{options:{item:".thumbnail-wrapper"},_create:function(){var t=this;this.items=new Array,this.total=0,this.total=this.element.find(this.options.item).length,this._on(n(this.element),{"entities-render":function(e){t._render()},"entities-reset-render":function(e){t._reset(),t._render()}})},_reset:function(){this.spans.empty(),this.items=new Array,this.total=0},_render:function(){var i=this,e=this.element.data("fetched-items");e&&(n.each(e,function(e,t){i.element.append(t),i.items.push(t),i.total++}),this.element.data("fetched-items",null),n(this.element).trigger("entities-rendered"))},_refresh:function(){this.element.empty(),this.total=0;var i=this;n.each(this.items,function(e,t){i.element.append(t),i.total++}),n(this.element).trigger("entities-rendered")}});n(".media-grid").mediagrid();n(t).ajaxSuccess(function(){var e=n(".media-grid");n.each(e,function(e,t){n(t).is(":data('anahita-mediagrid')")||n(t).mediagrid()})})}(jQuery,window,document);